<?xml version="1.0"?>
<!--
GFDL FAIR USE POLICY

GFDL recognizes the essential nature of collaboration in the scientific
enterprise, including the importance of novel application and analysis of our
models. In order to maximize mutual benefit from collaboration, the use of
experimental GFDL models** should be done in a manner that ensures that
individuals involved in model development receive proper credit for their
work; in order to minimize the potential for misapplication of experimental
models, collaborations should actively engage model developers. Publication of
results using experimental GFDL models should be done in consultation with
scientists that participated in the model development. Consultation with GFDL
model developers should occur before submission of publications based on
experimental GFDL models, and should include agreement on the appropriate level
of acknowledgment, co-authorship and participation by the model developers.
Since experimental models have not been thoroughly vetted, experimental GFDL
models and their output should be distributed only after consultation with the
developers of the model. After a GFDL model has been described in a
peer-reviewed publication it is no longer experimental, and results based on
the model should cite the publication(s) describing the model.
 
** "Experimental GFDL models" refers to models (e.g., a coupled climate model),
model components (e.g., parameterization schemes), model configurations (e.g.,
the specific arrangement and parameter settings of model components) arising
from model development efforts at GFDL, but whose formulation and configuration
have not yet been documented in the peer-reviewed literature, as well as outputs
from integrations with these models.
-->

<!-- GFDL Model Development Team (MDT) documentation: http://wiki.gfdl.noaa.gov/index.php/MDT_Coupled -->
<!-- GFDL MDT Atmosphere Working Group (AWG) documentation: http://cobweb.gfdl.noaa.gov/~cjg/awg/ -->

<!-- QUICK START GUIDE:

# Change the occcurances of YOURGROUPLETTER in this file to your group letter (small), such as f, w, o, g+,...

# To check out codes and compile:
cd XML_DIR
module load fre/bronx-12
fremake -x XML_NAME -p ncrc4.intel16 -t prod-openmp esm4.1_libs_compile -nolink
fremake -x XML_NAME -p ncrc4.intel16 -t prod-openmp esm4.1_sis2_compile

# To list avaliable experiments in this xml

frelist -x XML_NAME

# To run a basic test for one of these experiments : 

frerun -r basic -x XML_NAME -p ncrc4.intel16 -t prod-openmp EXP_NAME

# To run a complete coupled experiment (with automated database entry if MDBIswitch in "on"):

frerun -x XML_NAME -p ncrc4.intel16 -t prod-openmp EXP_NAME

# To check what is the input data of this experiment:
inputfiles -x XML_NAME -p ncrc4.intel16 EXP_NAME

NOTES:
      If the experiment name + FRESTEM is too long the post-process initiated on gaea may fail.
      This is because, there is a small limit set by moab on the number of total characters for
      ppEnv environment variable which  is roughly the sum of the strings made by
      1. the refine diag list
      2. the contents of the <csh> section of the gfdl platform
      
-->

<experimentSuite rtsVersion="4" xmlns:xi="http://www.w3.org/2003/XInclude">

<!-- Document history of xml here:
     Origin: 
        LWH: /ncrc/home1/Larry.Horowitz/awg/warsaw_201707/xml_warsaw_201707/awg_warsaw_201707.xml
             expt c96L49_am4p0_AM4chem_SOA
        JGJ: ESM4p1_1850_Conc.xml  (#808 for ocean, #814 for atm/land nml)
        Single xml 
        all necessary options specified inline (data table, diag table, field table, namelists)
        postprocessing options are specific to the experiment - in freincludes for now

        warsaw_201707

     For a production xml:
        recommend keeping only the Gaea C4 compile options as this is where we expect all CMIP6 expts to run
        recommend removing unwanted resource configurations/setups
        recommend removing user-specific directories and point to CMIP6 dataset location (oar.gfdl.cmip6 account)
        any other unnecessary options removed
        We agreed to do only 5-year pp chunks
-->

  <!--User should set the following properties according to the plan for the production run-->	
  <property name="RELEASE"        value="pre_xanadu_esm4_20180814"/>  <!-- git tag for general component source code-->
  <property name="SHARED_GIT_TAG" value="$(RELEASE)"/>        <!-- git tag for shared source code -->
  <property name="ATMOS_GIT_TAG"  value="$(RELEASE)"/>        <!-- git tag for atmos_shared and atmos_param source code -->
  <property name="AWG_GIT_TAG"    value="$(RELEASE)"/>        <!-- git tag for atmos_cubed_sphere and atmos_driver source code -->
  <property name="LAND_GIT_TAG"   value="$(RELEASE)"/>        <!-- git tag for LAND source code -->
  <property name="COUPLER_GIT_TAG"    value="$(RELEASE)"/>    <!-- git tag for AWG source code -->
  <property name="BUILD_DATE"     value="20180814"/>
  <property name="MOM6_DATE"      value="2018.04.11"/>        <!-- git tag date for MOM6 source code -->
  <property name="MOM6_GIT_TAG"   value="dev/gfdl/$(MOM6_DATE)"/> <!-- git tag for MOM6 source code -->
  <property name="OCEAN_SHARED_GIT_TAG" value="$(RELEASE)"/>  <!-- git tag for ocean_shared component -->
  <property name="FRE_STEM"       value="CMIP6/ESM4/DECK"/> <!-- customize as needed -->
  <!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
  <property name="GFDL_GROUP"   value="gfdl_b"/>    <!-- Replace YOURGROUPLETTER with GFDL group letter -->

  <property name="OM4_ANALYSIS" value="ice_ocean_SIS2/OM4_05"/>  <!--example containing .frepp scripts for analysis-->
                                                                 <!--Please set the value to ice_ocean_SIS2/OM4_05 for 1/2 degree ocean model runs--> 
  <property name="PROD_SIMTIME"     value="1000"/>  <!--simulation length in years-->
  <property name="PP_CMIP_CHUNK_A"  value="5yr"/>  <!--smaller chunk length for pp/analysis-->
  <property name="PP_CMIP_CHUNK_B"  value="10yr"/> <!--bigger  chunk length for pp/analysis-->
  <property name="PP_START_YEAR"    value="0001" />
  <property name="PROD_RUNTIME"     value="16:00:00"/><!--Maximum wall clock per simulation-->
  <property name="PROD_SEGTIME"     value="03:00:00"/><!--Wall clock per segment (usually 1 year)-->

  <!--The following properties need to be set only if the user wants to monitor the run progress at MDBI
      and are not needed for the run or post-processing -->   
  <property name="EXP_CPLD_START"   value="0001"/> <!--simulation start year--> 
  <property name="EXP_CPLD_END"     value="0100"/> <!--simulation end   year--> 
  
  <!--The rest of the properties need not to be changed by the user unless to customize the run-->
  <property name="FRE_VERSION"     value="bronx-12"/> <!-- fre version to be used -->
  <property name="ProjectID"       value="MDT"/>      <!-- database top level -->
  <property name="ANALYSIS_SWITCH" value="off"/>      <!-- on/off switch for ATM/LND analysis -->
  <property name="ANALYSIS_SWITCH_CMIP" value="on"/>  <!-- on/off switch for ATM/LND analysis -->
  <property name="MDBIswitch"      value="on"/>       <!-- on/off switch for MDBI database -->
  <property name="CVDP_startyear"  value="0001"/>  <!-- Property to allow users to configure CVDP to skip n-years of spinup -->

  <!-- Reference release tag for existing files in the archives for answer comparison. Used in "REFERENCE" property. -->
  <property name="reference_tag"   value="pre_xanadu_esm4_20180619_mom6_2018.04.11_answers"/>
                          
  <property name="DEBUGLEVEL" value=""/>
  <property name="PLATINFO"   value=""/>  <!--This is necessary only if you want to run exact same experiment on multiple platforms-->
                                          <!--In that case you will need to put an identifier string for the value to distinguish the /nbhome-->

  <!--========================================-->
  <!--Do not change the rest of the properties-->
  <!--========================================-->

  <property name="AWG_INPUT_HOME_GAEA"  value="awg_include"/>
  <property name="AWG_INPUT_HOME_NESCC" value="awg_include"/>
  <property name="AWG_INPUT_HOME_GFDL"  value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)/mdt_xml/awg_include"/>


   <!--CM4 configurations-->
   <freInclude name="resourceparams_A216x1_O216">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="1"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="216" threads="1"    layout = "18,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O648">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="648" threads="1"    layout = "18,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x1_O432">
             <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="1"    layout = "3,24"   io_layout = "1,4" />
               <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />
               <ocn ranks="432"  threads="1"   layout = "36,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>

	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A504x1_O432">
             <resources jobWallclock="01:00:00">
               <atm ranks="504" threads="1"    layout = "7,12"   io_layout = "1,4" />
               <lnd                            layout = "7,12"   io_layout = "1,4" />
               <ice                            layout = "168,3"  io_layout = "1,3" />
               <ocn ranks="432" threads="1"    layout = "36,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A504x1_O504">
             <resources jobWallclock="01:00:00">
               <atm ranks="504" threads="1"    layout = "7,12"   io_layout = "1,4" />
               <lnd                            layout = "7,12"   io_layout = "1,4" />
               <ice                            layout = "168,3"  io_layout = "1,3" />
               <ocn ranks="504" threads="1"    layout = "42,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O432">
             <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
               <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />
               <ocn ranks="432" threads="1"    layout = "36,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O1296">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"   io_layout = "1,3" />
	       <ocn ranks="1296" threads="1"   layout = "36,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1296">
             <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"    layout = "6,16"   io_layout = "1,4" />
               <lnd                            layout = "6,16"   io_layout = "1,4" />
               <ice                            layout = "72,8"   io_layout = "1,4"/>
               <ocn ranks="1296" threads="1"   layout = "36,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>

	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x1_O576">
             <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="1"    layout = "6,16"   io_layout = "1,4" />
               <lnd                            layout = "6,16"   io_layout = "1,4" />
               <ice                            layout = "72,8"   io_layout = "1,4"/>
               <ocn ranks="576" threads="1"    layout = "16,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O648">
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"    layout = "6,16"   io_layout = "1,4" />
	       <lnd                            layout = "6,16"   io_layout = "1,4" />
	       <ice                            layout = "72,8"   io_layout = "1,4" />
	       <ocn ranks="648" threads="1"    layout = "18,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O864">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="864" threads="1"    layout = "24,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
<!--Only  1/2 degree ocean grid configs-->
   <freInclude name="resourceparams_A216x2_O442p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"	    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
               <ice                            layout = "72,3"   io_layout = "1,3" />               
	       <ocn ranks="442"   threads="1"    layout = "16,32"   io_layout = "1,4" mask_table="mask_table.70.16x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O842p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
               <lnd                            layout = "3,12"   io_layout = "1,4" />
               <ice                            layout = "72,3"   io_layout = "1,3" />               
	       <ocn ranks="842" threads="1"    layout = "32,32"  io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O951p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"	    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
               <ice                            layout = "72,3"   io_layout = "1,3" />               
	       <ocn ranks="951"   threads="1"    layout = "32,36"   io_layout = "1,4" mask_table="mask_table.201.32x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O951p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />               
	       <ocn ranks="951" threads="1"    layout = "32,36"  io_layout = "1,4" mask_table="mask_table.201.32x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O842p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"	    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"   io_layout = "1,3" />               
	       <ocn ranks="842"   threads="1"    layout = "32,32"   io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O842p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="842"   threads="1"    layout = "32,32"   io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O842p5_production"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="16:00:00" segRuntime="2:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="842"   threads="1"    layout = "32,32"   io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O1057p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"	    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"   io_layout = "1,3" />               
	       <ocn ranks="1057"   threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1057p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1057" threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1057p5_production"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="16:00:00" segRuntime="4:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1057" threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1057p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "72,12"   io_layout = "1,4" />
	       <ocn ranks="1057"   threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x2_O842p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1152" threads="2"   layout = "8,24"   io_layout = "1,4" />
	       <lnd                            layout = "8,24"   io_layout = "1,4" />
	       <ice                            layout = "288,4"  io_layout = "1,4" />
	       <ocn ranks="842"   threads="1"    layout = "32,32"   io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x2_O1057p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:30:00">
               <atm ranks="1152" threads="2"   layout = "8,24"   io_layout = "1,4" />
	       <lnd                            layout = "8,24"   io_layout = "1,4" />
	       <ice                            layout = "144,8"  io_layout = "1,4" />
	       <ocn ranks="1057"   threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1536x2_O1057p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1536" threads="2"   layout = "16,16"   io_layout = "1,4" />
	       <lnd                            layout = "16,16"   io_layout = "1,4" />
	       <ice                            layout = "192,8"  io_layout = "1,4" />
	       <ocn ranks="1057"   threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x2_O1057p5_production"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="16:00:00" segRuntime="3:10:00">
               <atm ranks="1152" threads="2"   layout = "8,24"   io_layout = "1,4" />
	       <lnd                            layout = "8,24"   io_layout = "1,4" />
	       <ice                            layout = "144,8"  io_layout = "1,4" />
	       <ocn ranks="1057"   threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
               <lnd                            layout = "3,12"   io_layout = "1,4" />
               <ice                            layout = "72,3"   io_layout = "1,3" />               
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"	    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"   io_layout = "1,3" />
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O1300p5_production"><!--1/2 degree ocean grid Only-->
             <resources jobWallclock="16:00:00" segRuntime="3:00:00">
               <atm ranks="432" threads="2"	    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"   io_layout = "1,3" />
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="576"  threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1300" threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1300p5_production"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="16:00:00" segRuntime="3:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1152" threads="2"   layout = "8,24"   io_layout = "1,4" />
	       <lnd                            layout = "8,24"   io_layout = "1,4" />
	       <ice                            layout = "144,8"  io_layout = "1,4" />
               <ocn ranks="1300" threads="1"   layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1536x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1536" threads="2"   layout = "16,16"   io_layout = "1,4" />
	       <lnd                            layout = "16,16"   io_layout = "1,4" />
	       <ice                            layout = "384,4"  io_layout = "1,4" />
               <ocn ranks="1300" threads="1"   layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1728x2_O1057p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1728" threads="2"   layout = "12,24"   io_layout = "1,4" />
	       <lnd                            layout = "12,24"   io_layout = "1,4" />
	       <ice                            layout = "432,4"   io_layout = "1,4" />
	       <ocn ranks="1057" threads="1"   layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1728x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1728" threads="2"   layout = "12,24"   io_layout = "1,4" />
	       <lnd                            layout = "12,24"   io_layout = "1,4" />
	       <ice                            layout = "432,4"   io_layout = "1,4" />
               <ocn ranks="1300" threads="1"   layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1728x2_O1437p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1728" threads="2"   layout = "12,24"   io_layout = "1,4" />
	       <lnd                            layout = "12,24"   io_layout = "1,4" />
	       <ice                            layout = "432,4"   io_layout = "1,4" />
               <ocn ranks="1437" threads="1"   layout = "40,45"   io_layout = "1,5" mask_table="mask_table.363.40x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1728x2_O1437p5_production"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="16:00:00" segRuntime="3:00:00">
               <atm ranks="1728" threads="2"   layout = "12,24"   io_layout = "1,4" />
	       <lnd                            layout = "12,24"   io_layout = "1,4" />
	       <ice                            layout = "432,4"   io_layout = "1,4" />
               <ocn ranks="1437" threads="1"   layout = "40,45"   io_layout = "1,5" mask_table="mask_table.363.40x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1728x2_O1608p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1728" threads="2"   layout = "12,24"   io_layout = "1,4" />
	       <lnd                            layout = "12,24"   io_layout = "1,4" />
	       <ice                            layout = "432,4"   io_layout = "1,4" />
	       <ocn ranks="1608" threads="1"    layout = "45,45"   io_layout = "1,5" mask_table="mask_table.417.45x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x4_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="4"	    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "288,3"   io_layout = "1,3" />
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1620">
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1620"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="MOM_mask_table"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"	    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"   io_layout = "1,3" />
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1441p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1441"   threads="1"    layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1441p5_production"><!--1/2 degree ocean grid Only-->
             <resources jobWallclock="16:00:00" segRuntime="3:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1441"   threads="1"    layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1441p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"	    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"   io_layout = "1,3" />
	       <ocn ranks="1441"   threads="1"    layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x2_O1441p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1152" threads="2"   layout = "8,24"   io_layout = "1,4" />
               <lnd                            layout = "8,24"   io_layout = "1,4" />
               <ice                            layout = "144,8"  io_layout = "1,4" />
	       <ocn ranks="1441"   threads="1"    layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1437p5"><!--1/2 degree ocean grid Only-->
             <resources jobWallclock="01:00:00">
               <!--coupler_nml:do_ocean=.true.;coupler_nml:ocean_npes=1437;--> 
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "144,6"   io_layout = "1,3" />
               <ocn ranks="1437"   threads="1"    layout = "40,45"   io_layout = "1,5" mask_table="mask_table.363.40x45"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1608p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"	    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"   io_layout = "1,3" />
	       <ocn ranks="1608"   threads="1"    layout = "45,45"   io_layout = "1,5" mask_table="mask_table.417.45x45"/>
 	     </resources> 
   </freInclude>
   <freInclude name="resourceparams_A576x2_O951p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="951"   threads="1"    layout = "32,36"   io_layout = "1,4" mask_table="mask_table.201.32x36"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O951p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"	    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"   io_layout = "1,3" />
               <ocn ranks="951"   threads="1"    layout = "32,36"   io_layout = "1,4" mask_table="mask_table.201.32x36"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O2044p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />          
	       <lnd                            layout = "6,24"   io_layout = "1,4" />           
	       <ice                            layout = "144,6"   io_layout = "1,3" /> 
	       <ocn ranks="2044"   threads="1"    layout = "36,72"   io_layout = "1,4" mask_table="mask_table.548.36x72"/>
 	     </resources>
   </freInclude>


  <setup>
    <platform name="ncrc4.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)/$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)/$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>$CPERM/$USER/$(FRE_STEM)/$(BUILD_DATE)/$(name)/src</src>
        <exec>$CPERM/$USER/$(FRE_STEM)/$(BUILD_DATE)/$(name)/$(platform)-$(target)/exec</exec>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)/$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CPERM/$USER/$(stem)/$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)/$(BUILD_DATE)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"    value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="$CDATA/cmip6/datasets"/>
      <property name="MODEL_UPDATES"       value="/ncrc/home2/Jasmin.John"/>
      <property name="NCORE_PER_NODE"      value="36"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
# jgj 2017/09/27 do we need this?
       # setenv OMP_SCHEDULE "static,1"
      ]]></csh>
    </platform>
    <platform name="ncrc4.intel">
      <xi:include xpointer="xpointer(//setup/platform[@name='ncrc4.intel16']/node())" />
    </platform>

    <platform name="ncrc3.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)/$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)/$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>$CPERM/$USER/$(FRE_STEM)/$(BUILD_DATE)/$(name)/src</src>
        <exec>$CPERM/$USER/$(FRE_STEM)/$(BUILD_DATE)/$(name)/$(platform)-$(target)/exec</exec>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)/$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CPERM/$USER/$(stem)/$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)/$(BUILD_DATE)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"    value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="$CDATA/cmip6/datasets"/>
      <property name="MODEL_UPDATES"       value="/ncrc/home2/Jasmin.John"/>
      <property name="NCORE_PER_NODE"      value="32"/>
     
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>
    </platform>

    <platform name="gfdl.default">
      <freVersion>$(FRE_VERSION)</freVersion>
      <property name="NB_ROOT"  value="/nbhome/$USER/$(FRE_STEM)/$(PLATINFO)/$(name)"/><!--Do not change this! Other platforms use  the same value. -->
      <directory stem="$(FRE_STEM)">
        <archive>$ARCHIVE/$(stem)/$(name)/$(platform)-$(target)</archive>
        <postProcess>$(archiveDir)/pp</postProcess>
        <ptmp>/ptmp/$USER</ptmp>
        <analysis>$(NB_ROOT)</analysis><!--Do not change this! frepp translates this to $out_dir. This is also the directory under which  frepp looks for mom6 clone.  -->
      </directory>
      <property name="EXEC_ROOT"         value="$(rootDir)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GFDL)"/>
      <property name="REFERENCE"         value=""/>
      <property name="FMS_ARCHIVE_ROOT"    value=""/>
      <property name="CMIP6_ARCHIVE_ROOT"  value="/archive/oar.gfdl.cmip6/datasets"/>
      <property name="MODEL_UPDATES"       value="/home/Jasmin.John"/>
      <property name="NCORE_PER_NODE"      value="1"/>
      <csh><![CDATA[
        source $MODULESHOME/init/csh
        module use -a /home/fms/local/modulefiles
        module purge
        module load fre/$(FRE_VERSION)
        module load fre-analysis
        module load git
        setenv FREVERSION fre/$(FRE_VERSION)           
        setenv NBROOT $(NB_ROOT)
        /home/Niki.Zadeh/nnz_tools/bin/verify -m $(MOM6_GIT_TAG) -x dev
      ]]>
      </csh>
    </platform>
    <platform name="gfdl.ncrc4-intel16">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.ncrc4-intel">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.ncrc3-intel16">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>

  </setup>

<!--===========-->
<!--= COMPILE =-->
<!--===========-->
  <!--The property MOM6_EXAMPLES should point to the mom6 directory that is checked out. It is needed by MOM6 to access its input data files-->
  <property name="LIBS_ROOT"      value="esm4.1_libs_compile"/> <!--name of libs compile experiment-->
  
  <property name="MOM6_EXAMPLES"  value="$root/$(BUILD_DATE)/$(LIBS_ROOT)/src/mom6"/>
  <property name="FMS_LIB_DIR"    value="./$(LIBS_ROOT)/$(platform)-$(target)/exec"/>
  <property name="MY_LIBS"        value="$(EXEC_ROOT)/$(FMS_LIB_DIR)"/>

  <experiment name="esm4.1_libs_compile">
    <description>
Experiment to build executable.
    </description>

    <component name="fms" paths="shared">
     <description domainName="infrastructure" communityName="FMS" communityVersion="$(RELEASE)" communityGrid=""/>
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
            <codeBase version="$(RELEASE)"> shared.git </codeBase>
      	    <csh><![CDATA[
              ( cd shared && git checkout $(SHARED_GIT_TAG) ) 
              ]]>
            </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -Duse_libMPI -Duse_netCDF -DMAXFIELDMETHODS_=500</cppDefs>
      </compile>
    </component>

    <component name="atmos_phys" requires="fms" paths="atmos_param atmos_shared">
      <description domainName="" communityName="" communityVersion="$(RELEASE)" communityGrid=""/>
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)"> atmos_shared.git atmos_param.git </codeBase>
          <csh><![CDATA[
            ( cd atmos_shared && git checkout $(ATMOS_GIT_TAG) )
            ( cd atmos_param  && git checkout $(ATMOS_GIT_TAG) )
           ]]>
          </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -DCLUBB</cppDefs>
      </compile>
    </component>

    <component name="atmos_dyn" paths="atmos_drivers/coupled
                                       atmos_cubed_sphere/driver/coupled
                                       atmos_cubed_sphere/model
                                       atmos_cubed_sphere/model_nh_null
                                       atmos_cubed_sphere/GFDL_tools
                                       atmos_cubed_sphere/tools" requires="fms atmos_phys">
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)">atmos_drivers.git atmos_cubed_sphere.git</codeBase>
        <csh><![CDATA[
          ( cd atmos_drivers && git checkout $(AWG_GIT_TAG) )
          ( cd atmos_cubed_sphere && git checkout  $(AWG_GIT_TAG) )
         ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -DCLIMATE_NUDGE -DSPMD</cppDefs>
      </compile>
    </component>

    <component paths="ice_sis ice_param" requires="fms mom6" name="ice_sis">
         <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
            <codeBase version="$(RELEASE)"> ice_sis.git ice_param.git </codeBase>
         </source>
         <compile>
            <cppDefs>$(F2003_FLAGS)</cppDefs>
         </compile>
    </component>

    <component name="lm4P" requires="fms" paths="lm4P">
      <description domainName="LM4" communityName="lm4" communityVersion="$(LAND_GIT_TAG)" communityGrid=""/>
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(LAND_GIT_TAG)">lm4P.git</codeBase>
      </source>
      <compile doF90Cpp="yes">
       <cppDefs>$(F2003_FLAGS) -nostdinc </cppDefs>
      </compile>
    </component>

    <component name="mom6" requires="fms" paths="mom6/src/MOM6/config_src/dynamic mom6/src/MOM6/config_src/coupled_driver mom6/src/MOM6/src/*/ mom6/src/MOM6/src/*/*/ ocean_shared/generic_tracers ocean_shared/mocsy/src">
      <description domainName="Ocean" communityName="GFDL-MOM6" communityVersion="$(MOM6_GIT_TAG)" communityGrid="Tripolar"/>
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(OCEAN_SHARED_GIT_TAG)"> ocean_shared.git </codeBase>
        <csh><![CDATA[
          \rm -rf ocean_null
          git clone -b $(MOM6_GIT_TAG) https://github.com/NOAA-GFDL/MOM6-examples.git mom6
          pushd mom6
          git checkout $(MOM6_GIT_TAG)  #needed for older git on zeus
          git submodule init src/MOM6 src/SIS2 src/icebergs tools/python/MIDAS
          git clone --recursive https://github.com/NOAA-GFDL/MOM6.git src/MOM6 
          git clone             https://github.com/NOAA-GFDL/SIS2.git src/SIS2
          git clone             https://github.com/NOAA-GFDL/icebergs.git src/icebergs
          git submodule update #This gets the right version of submodules
          popd

          pushd mom6
          set platform_domain = `perl -T -e "use Net::Domain(hostdomain) ; print hostdomain"`
          if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
            ln -s /scratch4/GFDL/gfdlscr/pdata/gfdl_O/datasets/ .datasets
          else if ("${platform_domain}" =~ *"ccs.ornl.gov"* ) then
            ln -s /lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/ .datasets
          else
            ln -s /lustre/f1/pdata/gfdl_O/datasets/ .datasets
          endif
          popd	  

          test -e mom6/.datasets
          if ($status != 0) then
            echo ""; echo "" ; echo "   WARNING:  .datasets link in MOM6 examples directory is invalid"; echo ""; echo ""
          endif
 
 
        ]]></csh>
      </source>
      <compile>
        <cppDefs><![CDATA[ $(F2003_FLAGS) -DMAX_FIELDS_=100 -DNOT_SET_AFFINITY -D_USE_MOM6_DIAG -D_USE_GENERIC_TRACER  -DUSE_PRECISION=2 -D_FILE_VERSION="'"`git-version-string $<`"'" ]]></cppDefs>
        <makeOverrides>OPENMP=""</makeOverrides> <!-- openmp switch for MOM6 may cause crash -->
      </compile>
    </component>

    <component name="sis2" paths="mom6/src/SIS2 ice_param" requires="fms mom6 icebergs" includeDir="$root/$(BUILD_DATE)/$(LIBS_ROOT)/src/mom6/src/MOM6/src/framework" > 
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
           <codeBase version="$(RELEASE)"> ocean_null.git </codeBase>
           <csh>\rm -rf ocean_null</csh>
       </source>
       <compile>
            <cppDefs><![CDATA[$(F2003_FLAGS) -D_FILE_VERSION="'"`git-version-string $<`"'"]]></cppDefs>
       </compile>
    </component>

    <component name="icebergs" paths="mom6/src/icebergs" requires="fms">
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)"> ocean_null.git </codeBase>
        <csh>\rm -rf ocean_null</csh>
       </source>
       <compile>
            <cppDefs><![CDATA[-D_FILE_VERSION="'"`git-version-string $<`"'"]]> </cppDefs>
       </compile>
       <description domainName="N/A" communityName="N/A" communityVersion="$(RELEASE)" communityGrid="N/A"/>
    </component>

  </experiment>

  <experiment name="esm4.1_sis2_compile" inherit="esm4.1_libs_compile">
      <component paths="shared" name="fms" includeDir="$root/$(BUILD_DATE)/$(LIBS_ROOT)/src/shared/include">
         <library path="$(MY_LIBS)/fms/libfms.a" headerDir="$(MY_LIBS)/fms"/>
      </component>
      <component name="lm4P" paths="lm4P" requires="fms">
         <library path="$(MY_LIBS)/lm4P/liblm4P.a" headerDir="$(MY_LIBS)/lm4P"/>
      </component>
      <component name="atmos_phys" paths="atmos_phys atmos_param" requires="fms">
          <library path="$(MY_LIBS)/atmos_phys/libatmos_phys.a" headerDir="$(MY_LIBS)/atmos_phys"/>
      </component>
      <component name="atmos_dyn" paths="atmos_drivers/coupled
                                       atmos_cubed_sphere/driver/coupled
                                       atmos_cubed_sphere/model
                                       atmos_cubed_sphere/model_nh_null
                                       atmos_cubed_sphere/tools" requires="fms atmos_phys">
          <library path="$(MY_LIBS)/atmos_dyn/libatmos_dyn.a" headerDir="$(MY_LIBS)/atmos_dyn"/>
      </component>
      <component paths="icebergs" requires="fms" name="icebergs">
         <library path="$(MY_LIBS)/icebergs/libicebergs.a" headerDir="$(MY_LIBS)/icebergs"/>
      </component> 
      <component paths="mom6" requires="fms" name="mom6">
         <library path="$(MY_LIBS)/mom6/libmom6.a" headerDir="$(MY_LIBS)/mom6"/>
      </component> 
      <component paths="sis2" requires="fms icebergs" name="sis2">
         <library path="$(MY_LIBS)/sis2/libsis2.a" headerDir="$(MY_LIBS)/sis2"/>
      </component> 
      <component name="coupler" paths="coupler" requires="fms atmos_dyn atmos_phys lm4P sis2 mom6 icebergs">
        <description domainName="FMS Coupler" communityName="coupler" communityVersion="$(RELEASE)" communityGrid=""/>  
        <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
          <codeBase version="$(RELEASE)"> coupler.git </codeBase>
      	    <csh><![CDATA[
              ( cd coupler && git checkout $(COUPLER_GIT_TAG) ) 
              ]]>
            </csh>
        </source>
        <compile>
          <cppDefs><![CDATA[$(F2003_FLAGS) -D_FILE_VERSION="'"`git-version-string $<`"'"]]></cppDefs>
         </compile>
      </component>
  </experiment>

<!--=======================-->
<!--   END COMPILE SECTION -->
<!--=======================-->

<!--================================-->
<!--= TEMPLATES FOR POSTPROCESSING =-->
<!--================================-->

  <freInclude name="OM4_postprocess">
    <postProcess>
        <csh><![CDATA[
	 #Take care of iceberg restarts and trajectories
         cd $work/RESTART
         #Treat icebergs restarts and trajectories
         #Find non-empty iceberg restarts and combine them AND then remove uncombined restarts
         #This should be handled properly by FRE
         #ncrcat icebergs.res.nc.* icebergs.res.nc
      ls icebergs.res.nc.*
      if( ! $status ) then
         which ncdump
         if( $status ) then
           echo ncdump not available! We need to stop the run or the model restarts incorrectly!
           exit 1
         endif

         set non_empty_restarts = ""
         foreach file ( `ls icebergs.res.nc.????` )
            if ( `ncdump -h $file | grep UNLIMITED | awk '{gsub(/\(/," ");print $6}'` ) set non_empty_restarts = "$non_empty_restarts $file"
         end
         if( "$non_empty_restarts" != "" ) then
          ncrcat $non_empty_restarts icebergs.res.nc
          if( ! -e icebergs.res.nc ) then
            echo ERROR: ncrcat did not produce icebergs restart file! We need to stop the run or the model restarts incorrectly!
            exit 1
          endif
         endif

         mkdir hide_from_fre
         mv icebergs.res.nc.* hide_from_fre/
         cd $work
         mkdir hide_from_fre
         ncrcat iceberg_trajectories.nc.* iceberg_trajectories.nc
         mv iceberg_trajectories.nc.* hide_from_fre/
      endif
        #Save the last line of timestats without the first (step number) column as a signature of MOM6 answers
         tail -1 timestats | cut -c8- > RESTART/$enddate.timestats.res
         #Save the whole timestats under ascii/
         mv timestats $enddate.timestats
         mv timestats.nc $enddate.timestats.nc
         #Make a directory to trick FRE to pick up and archive in ascii
         mkdir extra.results
         mv *velocity_truncations MOM_parameter_doc* SIS_parameter_doc* seaice.stats timestats ocean.stats *.ocean.stats* extra.results/
      #When the ocean uses a mask_table the ocean_static.nc file produced by the model run has holes in coordinates (geolon,geolat)
      #This causes problems for ferret and python tools for analysis.
      #Copy a non-masked version of ocean_static.nc to be saved as a history file to be used by the analysis scipts . 
      cp $work/INPUT/ocean_static_no_mask_table.nc $work/
      ## added 2018/08/23
      #Basin codes are needed to calculate offline diagnostics for CMIP6 
      cp $work/INPUT/basin_codes.nc $work/
         ]]></csh>
      <!--REFINE DIAG SCRIPT -->
      <!--refineDiag_data_stager.csh calculates global averages of basic quantities and stores them in a sqlit database file-->
      <!--By default a refineDiag script causes the annual history files to be unpacked and saved in /ptmp/$USER-->
      <refineDiag script="$(NB_ROOT)/mom6/tools/analysis/MOM6_refineDiag.csh,$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>

<!--
      <component type="ocean_daily"   source="ocean_daily" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_daily"/>
      </component>
-->

      <component type="ocean_monthly"   source="ocean_month" sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_month">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_monthly.frepp"/>
        </timeSeries>
  
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)" >
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_monthly.frepp"/>
	</timeAverage>
      </component>

      <!-- changed to CHUNK_A only -->
      <component type="ocean_annual"    source="ocean_annual" sourceGrid="ocean-tripolar">
        <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual.frepp"/>
        </timeAverage>
        <timeSeries freq="annual"   chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_annual"/>
      </component>

      <!-- changed to CHUNK_A only -->
      <component type="ocean_annual_z" source="ocean_annual_z" sourceGrid="ocean-tripolar">
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual_z.frepp"/>
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="yes" script="$(NB_ROOT)/awg/analysis/stub/atw_ocean_av_annual_subsfc_ocean.csh -D ocean_annual_z.%04d-%04d."/>
        </timeAverage>
        <timeSeries freq="annual"   chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_annual_z"/>	
      </component>

      <!-- ocean 1x1 degree output -->
      <component type="ocean_monthly_1x1deg" source="ocean_month" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)">
          <variables>   
              evs                   ficeberg               friver                 heat_content_cond
              heat_content_fprec    heat_content_massin    heat_content_massout   heat_content_surfwater
              heat_content_vprec    Heat_PmE               hfds                   hfevapds
              hfibthermds           hflso                  hfrainds               hfrunoffds
              hfsifrazil            hfsnthermds            hfsso
              LwLatSens             MLD_003                MLD_restrat            mlotstmax
              mlotstmin             mlotst                 mlotstsq               MSTAR
              net_heat_coupler      net_massin             net_massout            nonpenSW
              pbo                   prlq                   prsn                   pso
              rlntds                rsntds                 sfdsi                  sob
              sos                   sossq                  tob                    tos
              tossq                 ustar                  wfo                    zos
              zossq  
          </variables>   
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_month_rho2_1x1deg" source="ocean_month_rho2" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)">
        </timeSeries>
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_monthly_z_1x1deg" source="ocean_month_z" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_annual_1x1deg" source="ocean_annual" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
        <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)">
          <variables>
             boundary_forcing_heat_tendency_2d  boundary_forcing_salt_tendency_2d  dispkexyfo evs  ficeberg  frazil_heat_tendency_2d
             friver                             heat_content_cond                           heat_content_fprec        heat_content_massin
             heat_content_massout               heat_content_surfwater                      heat_content_vprec        Heat_PmE
             hfds                               hfevapds                                    hfibthermds               hflso
             hfrainds                           hfrunoffds                                  hfsifrazil                hfsnthermds
             hfsso                              LwLatSens                                   mass_wt
             MEKE_KH                            MEKE_Le                                     MEKE_Ue                   MLD_003_max
             MLD_003_min                        MLD_003                                     mlotstmax                 mlotstmin
             mlotst                             mlotstsq                                    MSTAR                     net_heat_coupler
             net_massin                         net_massout                                 nonpenSW                  opottempmint
             opottemptend_2d                    osalttend_2d                                pbo                       prlq
             prsn                               pso                                         rlntds                    rsntds
             S_advection_xy_2d                  sfdsi                                       Sh_tendency_vert_remap_2d sob
             somint                             sos                                         sossq                     speed
             subML_N2                           T_advection_xy_2d                           Th_tendency_vert_remap_2d TKE_itidal
             TKE_tidal                          tob                                         tos_max
             tos_min                            tos                                         tossq                     ustar
             wfo                                zos                                         zossq
          </variables> 
        </timeSeries>

        <timeAverage source="annual" interval="10yr"/>
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_annual_rho2_1x1deg" source="ocean_annual_rho2" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
        <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)">
        </timeSeries>
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_annual_z_1x1deg" source="ocean_annual_z" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
        <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>


      <!--Ocean scalars-->
      <!-- changed to CHUNK_A only -->
      <component type="ocean_scalar_monthly"   source="ocean_scalar_month" sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_scalar_month"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_scalar_annual"    source="ocean_scalar_annual" sourceGrid="ocean-tripolar">
        <timeSeries freq="annual"   chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_scalar_annual"/>
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <!--Ocean regions-->
      <component type="ocean_Barents_opening" source="ocean_Barents_opening" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Barents_opening"/>
      </component>
      <component type="ocean_Bering_Strait" source="ocean_Bering_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Bering_Strait"/>
      </component>
      <component type="ocean_Davis_Strait" source="ocean_Davis_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Davis_Strait"/>
      </component>
      <component type="ocean_Windward_Passage" source="ocean_Windward_Passage" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Windward_Passage"/>
      </component>
      <component type="ocean_Denmark_Strait" source="ocean_Denmark_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Denmark_Strait"/>
      </component>
      <component type="ocean_Drake_Passage" source="ocean_Drake_Passage" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Drake_Passage"/>
      </component>
      <component type="ocean_English_Channel" source="ocean_English_Channel" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_English_Channel"/>
      </component>
      <component type="ocean_Faroe_Scotland" source="ocean_Faroe_Scotland" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Faroe_Scotland"/>
      </component>
      <component type="ocean_Florida_Bahamas" source="ocean_Florida_Bahamas" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Florida_Bahamas"/>
      </component>
      <component type="ocean_Fram_Strait" source="ocean_Fram_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Fram_Strait"/>
      </component>
      <component type="ocean_Iceland_Faroe_V" source="ocean_Iceland_Faroe_V" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Iceland_Faroe_V"/>
      </component>
      <component type="ocean_Iceland_Faroe_U" source="ocean_Iceland_Faroe_U" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Iceland_Faroe_U"/>
      </component>
      <component type="ocean_Indonesian_Throughflow" source="ocean_Indonesian_Throughflow" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Indonesian_Throughflow"/>
      </component>
      <component type="ocean_Mozambique_Channel" source="ocean_Mozambique_Channel" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Mozambique_Channel"/>
      </component>
      <component type="ocean_Pacific_undercurrent" source="ocean_Pacific_undercurrent" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Pacific_undercurrent"/>
      </component>
      <component type="ocean_Taiwan_Luzon" source="ocean_Taiwan_Luzon" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Taiwan_Luzon"/>
      </component>
      <component type="ocean_Agulhas_section" source="ocean_Agulhas_section" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Agulhas_section"/>
      </component>
      <component type="ocean_Gibraltar_Strait" source="ocean_Gibraltar_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Gibraltar_Strait"/>
      </component>
      <component type="ocean_Iceland_Norway" source="ocean_Iceland_Norway" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" source="ocean_Iceland_Norway"/>
      </component>
    </postProcess>
  </freInclude> 

      <!--ICE-->      
  <freInclude name="ICE_postprocess">
    <postProcess>
      <refineDiag script="$(NB_ROOT)/mom6/tools/analysis/MOM6_refineDiag.csh,$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>
      <!-- changed to CHUNK_A only -->
      <component type="ice"  source="ice_month" sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"  source="ice_month">
	   <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/tools/analysis/Krasting-SeaIce.csh"/>
	</timeSeries>   
        <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>     
      <component type="ice_1x1deg"  source="ice_month" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>
    </postProcess>
  </freInclude> 

      <!--ATMOS-->      
  <freInclude name="c96_climo_cmip6_postprocess_ATMOS">
    <postProcess>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_atmos_cmip6.csh"/>
      <!--refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_CFsite.csh"/-->

      <component type="atmos_cmip"  start="$(PP_START_YEAR)" source="atmos_month_cmip" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="on">
        <timeSeries freq="3hr" source="atmos_8xdaily_cmip" chunkLength="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmos8xDailyTScmip/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>

        <timeSeries freq="3hr" source="atmos_8xdaily_inst" chunkLength="$(PP_CMIP_CHUNK_A)"/>

            <!-- 6hrLevPt, 2D -->
<!--
        <timeSeries freq="6hr" source="atmos_4xdaily_cmip" chunkLength="$(PP_CMIP_CHUNK_A)">
          <variables>
             rv850 p850 psl
          </variables>
        </timeSeries>
-->

            <!-- diag_table_day, 2D field at 1-deg resolution -->
        <timeSeries freq="daily" source="atmos_daily_cmip" chunkLength="$(PP_CMIP_CHUNK_A)">
<!--
          <variables> 
             huss tasmin tasmax tas pr psl sfcWind hurs hursmin hursmax clt tslsi prc prsn uas vas sfcWindmax hfls hfss rlds rlus rsds rsus rlut  
          </variables>
-->
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosDailyTScmip/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeSeries freq="daily" source="atmos_daily_refined" chunkLength="$(PP_CMIP_CHUNK_A)"/>

        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthTScmip/*)">
            <xi:fallback/>
          </xi:include>
          <analysis switch="$(ANALYSIS_SWITCH_CMIP)" cumulative="no" script="$(AWG_INPUT_HOME)/analysis/stub/cmip6_combine.csh"/>
        </timeSeries>

        <timeSeries freq="monthly" source="atmos_month_refined" chunkLength="$(PP_CMIP_CHUNK_A)"/>
<!--
        <timeSeries freq="monthly" source="atmos_month_refined" chunkLength="$(PP_CMIP_CHUNK_B)">
	      <analysis switch="on" cumulative="no" script="/home/mdteam/DET/analysis/ILAMB/ILAMB-GFDL.py"/>
        </timeSeries>
-->

        <!-- changed to CHUNK_A -->
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthAvecmip/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>

        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>


                 <!-- diag_table_day, 2D field at both 2-deg and 1-deg resolution-->
                 <!-- diag_table_CFday,  2D outputs at 2-deg resolution -->
                 <!-- diag_table_Eday,  2D outputs at 2-deg resolution -->
                 <!-- diag_table_CFday,  2D outputs at 2-deg resolution -->
<!--
      <component type="atmos_cmip_2deg_daily_2D"  start="$(PP_START_YEAR)" source="atmos_daily_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" cmip="on">
        <timeSeries freq="daily" source="atmos_daily_cmip" chunkLength="$(PP_CMIP_CHUNK_A)">
          <variables>
             huss tasmin tasmax tas pr psl sfcWind hurs hursmin hursmax clt tslsi prc prsn uas vas sfcWindmax hfls hfss rlds rlus rsds rsus rlut 
             ps rsdt rsut rsdscs rsuscs rldscs rlutcs rsutcs clwvi clivi wap500 p500 ta700_unmsk ccb cct cltisccp albisccp pctisccp cltcalipso cllcalipso clmcalipso clhcalipso 
             rsdsdiff rsdscsdiff cldnvi ts prw
          </variables>
        </timeSeries>

        <timeSeries freq="daily" source="atmos_daily_refined" chunkLength="$(PP_CMIP_CHUNK_A)">
          <variables>
             ta700 p700
          </variables>
        </timeSeries>
      </component>
-->

            <!-- diag_table_day, at plev19 -->
<!--
      <component type="atmos_cmip_2deg_daily_3D"  start="$(PP_START_YEAR)" source="atmos_daily_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" cmip="off">
        <timeSeries freq="daily" source="atmos_daily_refined" chunkLength="$(PP_CMIP_CHUNK_A)">
          <variables>
             hur hus ta ua va wap albs zg
          </variables>
          <analysis switch="$(ANALYSIS_SWITCH_CMIP)" cumulative="no" script="$(AWG_INPUT_HOME)/analysis/stub/zonal_average.csh -v ta,va,zg,hus"/>
          <analysis switch="$(ANALYSIS_SWITCH_CMIP)" cumulative="no" script="$(AWG_INPUT_HOME)/analysis/stub/Plev19ToPlev8.csh ta,ua,va,wap,hur,hus,zg"/>
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosDaily3DTScmip/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
      </component>
-->

<!-- just for cmip6 pre-publish Plev8 daily data -->
<!--
      <component type="atmos_cmip_2deg_daily_3D_Plev8"  start="$(PP_START_YEAR)" source="atmos_daily_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" cmip="on">
        <timeSeries freq="daily" source="atmos_daily_refined" chunkLength="$(PP_CMIP_CHUNK_A)"/>
      </component>
-->

      <component type="atmos"  start="$(PP_START_YEAR)" zInterp="era40" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmos4xDailyTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthTS/*)">
            <xi:fallback/>
          </xi:include>
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/a1r/analysis/agu/Krasting/pywavelet_jpk_a1r.py -varname t_surf -comp atmos"/>
        </timeSeries>
        <!-- changed to CHUNK_A only -->
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)">
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/fms/local/opt/fre-analysis/test/eem/code/pcmdi_metrics/frepp.pcmdi_metrics.atmos.csh"/>
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
        <!-- changed to CHUNK_A only -->
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosAnnualAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

      <component type="atmos_level_cmip" start="$(PP_START_YEAR)" source="atmos_level_cmip" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="yes">
<!--
        <timeSeries freq="6hr" source="atmos_4xdaily_inst" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeSeries freq="daily" source="atmos_daily_level" chunkLength="$(PP_CMIP_CHUNK_A)"/>
-->
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

<!-- 6hrLev (model level) not requested for piControl
      <component type="atmos_level_cmip_2deg_6hr" start="$(PP_START_YEAR)" source="atmos_level_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" cmip="on">
             6hrLev, at native model vertical levels (i.e., 33 levels) 
        <timeSeries freq="6hr" source="atmos_4xdaily_inst" chunkLength="$(PP_CMIP_CHUNK_A)"/>            
      </component>
-->

            <!-- diag_table_CFday,  3D native model vertical level (33 levels) outputs -->
<!--
      <component type="atmos_level_cmip_2deg_daily" start="$(PP_START_YEAR)" source="atmos_level_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" cmip="on">
        <timeSeries freq="daily" source="atmos_level_daily_cmip" chunkLength="$(PP_CMIP_CHUNK_A)">
          <variables> 
             ua va ta hus wap zg hur cl clw cli mc
          </variables>
        </timeSeries>
      </component>
-->

      <component type="atmos_level"  start="$(PP_START_YEAR)" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeSeries freq="annual"  chunkLength="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosLevelAnnualTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <!-- changed to CHUNK_A only -->
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosLevelMonthAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

      <component type="atmos_plev39_cmip" start="$(PP_START_YEAR)" source="atmos_month_plev39_refined" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)">
             <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(AWG_INPUT_HOME)/analysis/stub/zonal_average.csh -v ua,ta,tntmp,tntrl,tntrs,tntrlcs,tntrscs,tntc,tntscp,tntnogw,tntogw"/>
        </timeSeries>
      </component>

<!--
      <component type="atmos_plev39_6hr" start="$(PP_START_YEAR)" source="atmos_4xdaily_plev39_refined" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="on">
        <timeSeries freq="6hr" chunkLength="$(PP_CMIP_CHUNK_A)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(AWG_INPUT_HOME)/analysis/stub/dynvar_driver.csh"/>
        </timeSeries>
      </component>

      <component type="atmos_plev39_cmip_daily" start="$(PP_START_YEAR)" source="atmos_daily_plev39_refined" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="on">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(AWG_INPUT_HOME)/analysis/stub/zonal_average.csh -v ua,utendnogw,utendogw"/>
        </timeSeries>
      </component>
-->

      <component type="atmos_month_aer" start="$(PP_START_YEAR)" source="atmos_month_aer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="off">
         <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthAerAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="atmos_diurnal_cmip" start="$(PP_START_YEAR)"  source="atmos_diurnal_cmip" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
      </component>

        <!-- changed to CHUNK_A only -->
      <component type="atmos_diurnal" start="$(PP_START_YEAR)"  source="atmos_diurnal" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>


      <component type="atmos_scalar" start="$(PP_START_YEAR)" source="atmos_scalar" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeSeries freq="monthly" source="atmos_global_cmip" chunkLength="$(PP_CMIP_CHUNK_A)"/>
      </component>

    </postProcess>
  </freInclude> 

<!-- FULL CHEMISTRY -->
  <freInclude name="c96_climo_cmip6_postprocess_FULLCHEM">
    <postProcess>
      <refineDiag script="$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_atmos_cmip6.csh"/>
      <component type="tracer_level" start="$(PP_START_YEAR)" source="atmos_tracer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/tracerAnnualTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <!-- changed to CHUNK_A only -->
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/tracerMonthAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>
      <component type="aerosol_cmip" start="$(PP_START_YEAR)" source="aerosol_month_cmip" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="yes">
        <!-- post-process daily fields on 1deg grid -->
        <timeSeries freq="daily" source="aerosol_daily_cmip" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)">
          <analysis switch="$(ANALYSIS_SWITCH_CMIP)" cumulative="no" script="$(AWG_INPUT_HOME)/analysis/stub/cmip6_emilnox.csh"/>
	</timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" source="aerosol_month_refined"/>
        <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

<!--
      <component type="aerosol_cmip_2deg" start="$(PP_START_YEAR)" source="aerosol_daily_cmip" sourceGrid="atmos-cubedsphere" xyInterp="90,144" interpMethod="conserve_order1" cmip="on">
        <timeSeries freq="daily" source="aerosol_daily_cmip" chunkLength="$(PP_CMIP_CHUNK_A)"/>
      </component>
-->
       
    </postProcess>
  </freInclude> 

<!-- LAND -->
  <freInclude name="c96_climo_cmip6_postprocess_LAND">
    <postProcess>
      <component type="land" start="$(PP_START_YEAR)" source="land_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
<!--    <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CMIP_CHUNK_A)"/> -->
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landMonthTS/*)" >
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
        <!-- changed to CHUNK_A only -->
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landMonthAve/*)" >
            <xi:fallback/>
	  </xi:include>
        </timeAverage>
      </component>

      <component type="land_cubic" start="$(PP_START_YEAR)" source="land_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" >
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landMonthTSNative/*)" >
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
<!--    <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CMIP_CHUNK_A)"/> -->
      </component>
      
      <component type="land_instant_cubic" start="$(PP_START_YEAR)" source="land_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
      </component>
      <component type="land_cmip" start="$(PP_START_YEAR)" source="land_month_cmip" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1" cmip="yes">
<!-- comment out for now
        <timeSeries freq="daily" source="land_daily_cmip" chunkLength="$(PP_CMIP_CHUNK_A)"/>
-->
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_B)"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>
      <component type="land_dust" start="$(PP_START_YEAR)" source="land_dust" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="annual" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>
<!-- RIVER -->
      <component type="river" start="$(PP_START_YEAR)" source="river_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>
 
      <component type="river_cubic" start="$(PP_START_YEAR)" source="river_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" >
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/riverMonthTSNative/*)">
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
        <timeSeries freq="daily" source="river_daily" chunkLength="$(PP_CMIP_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/riverDailyTSNative/*)">
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
      </component>

      <component type="river_instant_cubic" start="$(PP_START_YEAR)" source="river_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
      </component>

    </postProcess>
  </freInclude>

  <!-- By-species land post-processing -->
  <freInclude name="land_by_species_postprocess">
    <postProcess>
      <component type="land_by_species" start="$(PP_START_YEAR)" source="land_month_by_species" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>
    </postProcess>
  </freInclude>

  <freInclude name="fire_postprocess">
    <postProcess>
      <component type="fire" start="$(PP_START_YEAR)" source="fire_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
      </component>
    </postProcess>
  </freInclude>


  <!-- Atmos co2 post-processing: note atmos_level, atmos_month and atmos_scalar already in c96_climo_postprocess -->
  <freInclude name="atmos_co2_postprocess">
      <postProcess> 
      <component type="atmos_co2_level" start="$(PP_START_YEAR)" source="atmos_co2_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288" cmip="on">
        <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)"/>
        <timeSeries freq="annual"  chunkLength="$(PP_CMIP_CHUNK_A)">
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CMIP_CHUNK_A)">
        </timeAverage>
      </component>
     </postProcess>
  </freInclude>

  <!-- OCEAN BGC post-processing-->

  <!-- temporary 5day component to evaluate 2-D variables (mesozoo_200, chlos, phycos): native horizontal grid only -->
  <freInclude name="COBALT_5day_postprocess">
      <postProcess> 

      <component type="ocean_cobalt_5day" start="$(PP_START_YEAR)" source="ocean_cobalt_5day" sourceGrid="ocean-tripolar">
         <timeSeries freq="120hr" chunkLength="$(PP_CMIP_CHUNK_A)" />
      </component>

     </postProcess>
  </freInclude>


  <!-- 2-D: native horizontal -  not being served publicly -->
  <freInclude name="COBALT_postprocess">
      <postProcess> 

      <component type="ocean_cobalt_sfc" start="$(PP_START_YEAR)" source="ocean_cobalt_sfc" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_btm" start="$(PP_START_YEAR)" source="ocean_cobalt_btm" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_fdet_100" start="$(PP_START_YEAR)" source="ocean_cobalt_fdet_100" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_tracers_int" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_int" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_fluxes_int" start="$(PP_START_YEAR)" source="ocean_cobalt_fluxes_int" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

     </postProcess>
  </freInclude>


  <!-- 3-D: native horizontal, _z grid not requested by CMIP/OMIP: not being served publicly -->
  <freInclude name="COBALT_z_postprocess">
      <postProcess> 

      <component type="ocean_cobalt_tracers_year_z" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_year_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

     </postProcess>
  </freInclude>


  <!-- CMIP6 OCEAN BGC post-processing-->

  <!-- native horizontal and vertical - not being served publicly -->
  <!-- CHECK: do we actually want to save any fields on full native grid -->


  <!-- 2-D: native horizontal: not being served publicly -->
  <freInclude name="COBALT_CMIP6_postprocess">
      <postProcess> 

      <component type="ocean_cobalt_omip_daily" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_daily" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" />
      </component>

      <component type="ocean_cobalt_omip_sfc" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_sfc" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_omip_2d" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_2d" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

    </postProcess>
  </freInclude>


  <!-- 3-D: native horizontal, _z vertical: not being served publicly -->
  <freInclude name="COBALT_CMIP6_z_postprocess">
      <postProcess> 

      <component type="ocean_cobalt_omip_tracers_month_z" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_tracers_month_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_omip_tracers_year_z" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_tracers_year_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_omip_rates_year_z" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_rates_year_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

     </postProcess>
  </freInclude>


  <!-- 2-D: 1x1 postprocessing for publicly served output -->
  <freInclude name="COBALT_CMIP6_1x1_postprocess">
      <postProcess> 

      <component type="ocean_cobalt_omip_daily_1x1deg" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_daily" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
        <timeSeries freq="daily" chunkLength="$(PP_CMIP_CHUNK_A)" />
      </component>

      <component type="ocean_cobalt_omip_sfc_1x1deg" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_sfc" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_omip_2d_1x1deg" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_2d" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
      <!-- only fgco2 is needed annually -->
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)">
          <variables>
             fgco2
          </variables> 
         </timeSeries>
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

    </postProcess>
  </freInclude>


  <!-- 3-D: 1x1_z postprocessing for publicly served output -->
  <freInclude name="COBALT_CMIP6_1x1_z_postprocess">
      <postProcess> 

      <component type="ocean_cobalt_omip_tracers_month_z_1x1deg" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_tracers_month_z" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
         <timeSeries freq="monthly" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_omip_tracers_year_z_1x1deg" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_tracers_year_z" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_omip_rates_year_z_1x1deg" start="$(PP_START_YEAR)" source="ocean_cobalt_omip_rates_year_z" sourceGrid="ocean-tripolar" xyInterp="180,360" cmip="on">
         <timeSeries freq="annual" chunkLength="$(PP_CMIP_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CMIP_CHUNK_A)"/>
      </component>

     </postProcess>
  </freInclude>

<!--====================================-->
<!--= END TEMPLATES FOR POSTPROCESSING =-->
<!--====================================-->


<!--=======================-->
<!--= ESM4 EXPERIMENTS    =-->
<!--=======================-->

  <experiment name="ESM4_piControl_B" inherit="esm4.1_sis2_compile">
    <publicMetadata DBswitch="$MDBIswitch">
      <project>"$(ProjectID)"</project>
      <model>"ESM4_c96L49_am4p1_OMp5"</model>
      <modelID>"ESM4_c96L49_am4p1_OMp5"</modelID>
      <experimentName>"$(name)"</experimentName>
      <experimentID>"$(name)" </experimentID>
      <comment>
      </comment>
    </publicMetadata>

<description>
</description>

    <input>

      <!--Input namelists by component -->
<!-- ATMOS namelists -->

      <namelist name="aer_ccn_act_nml">
      sul_concen  = 0.01
      low_concen  = 0.01
      high_concen = 1.0
      </namelist>

      <namelist name="aerosol_cloud_nml">
        treat_nitrate_as_sulfate=.true.
        var_limit = 0.7
      </namelist>

      <namelist name ="aerosol_nml">
    family_names = "small_dust", "large_dust", "black_carbon","organic_carbon", "sea_salt", "SOA", "aerosol", "pm2.5", "dust", "POA"
    in_family1 = F,T,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,
    in_family2 = F,F,T,T,T,T,F,F,F,F,F,F,F,F,F,F,F,
    in_family3 = F,F,F,F,F,F,F,F,F,F,F,F,T,T,F,F,F,
    in_family4 = T,F,F,F,F,F,F,F,F,F,F,F,F,F,T,T,F,
    in_family5 = F,F,F,F,F,F,F,T,T,T,T,T,F,F,F,F,F,
    in_family6 = T,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,F,
    in_family7 = T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,T,
    in_family8 = T,T,F,F,F,F,T,T,T,F,F,F,T,T,T,T,T,
    in_family9 = F,T,T,T,T,T,F,F,F,F,F,F,F,F,F,F,F,
    in_family10= F,F,F,F,F,F,F,F,F,F,F,F,F,F,T,T,F,
    aerosol_data_source = "predicted"
    partition_nh4 = .true.
      </namelist>

      <namelist name ="aerosolrad_driver_nml">
      do_swaerosol_forcing = .true.
      do_lwaerosol_forcing = .true.
      </namelist>

      <namelist name ="aerosolrad_package_nml">
    force_to_repro_quebec = .true.
    using_im_bcsul = .true.
    volcanic_dataset_entry = 1,1,1,0,0,
    using_volcanic_lw_files = .true.,
    lw_ext_filename = "extlw_data.nc"
    lw_ext_root = "extlw"
    lw_asy_filename = "             "
    lw_asy_root = "     "
    lw_ssa_filename = "             "
    lw_ssa_root = "     "
    using_volcanic_sw_files = .true.,
    sw_ext_filename = "extsw_data.nc"
    sw_ext_root = "extsw"
    sw_ssa_filename = "omgsw_data.nc"
    sw_ssa_root = "omgsw"
    sw_asy_filename = "asmsw_data.nc"
    sw_asy_root = "asmsw"
    do_lwaerosol = .true.,
    do_swaerosol = .true.,
    aerosol_data_set = "Ginoux_Reddy"
    optical_filename = "AM4_201510",
    sulfate_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97, 
    nitrate_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97, 
    omphilic_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97, 
    bcphilic_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97, 
    seasalt1_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97, 
    seasalt2_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97, 
    seasalt3_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97, 
    seasalt4_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97, 
    seasalt5_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97, 
    seasalt_aitken_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97,
    seasalt_fine_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97,
    seasalt_coarse_indices = 30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,
                      30,35,35,35,35,35,40,40,40,40,40,45,45,45,45,45,
                      50,50,50,50,50,55,55,55,55,55,60,60,60,60,60,65,
                      65,65,65,65,70,70,70,70,70,75,75,75,75,75,80,80,
                      80,80,82,82,84,84,86,86,88,88,90,91,92,93,94,95,
                      96,97,97,97,97,
    aerosol_optical_names = "sulfate_30%_100%","sulfate_35%_100%","sulfate_40%_100%","sulfate_45%_100%","sulfate_50%_100%",
"sulfate_55%_100%","sulfate_60%_100%","sulfate_65%_100%","sulfate_70%_100%","sulfate_75%_100%",
"sulfate_80%_100%","sulfate_82%_100%","sulfate_84%_100%","sulfate_86%_100%","sulfate_88%_100%",
"sulfate_90%_100%","sulfate_91%_100%","sulfate_92%_100%","sulfate_93%_100%","sulfate_94%_100%",
"sulfate_95%_100%","sulfate_96%_100%","sulfate_97%_100%","sulfate_98%_100%","sulfate_99%_100%",
"sulfate_100%_100%","sulfate_30%_98%","sulfate_35%_98%","sulfate_40%_98%","sulfate_45%_98%",
"sulfate_50%_98%","sulfate_55%_98%","sulfate_60%_98%","sulfate_65%_98%","sulfate_70%_98%",
"sulfate_75%_98%","sulfate_80%_98%","sulfate_82%_98%","sulfate_84%_98%","sulfate_86%_98%",
"sulfate_88%_98%","sulfate_90%_98%","sulfate_91%_98%","sulfate_92%_98%","sulfate_93%_98%",
"sulfate_94%_98%","sulfate_95%_98%","sulfate_96%_98%","sulfate_97%_98%","sulfate_98%_98%",
"sulfate_99%_98%","sulfate_100%_98%","sulfate_30%_96%","sulfate_35%_96%","sulfate_40%_96%",
"sulfate_45%_96%","sulfate_50%_96%","sulfate_55%_96%","sulfate_60%_96%","sulfate_65%_96%",
"sulfate_70%_96%","sulfate_75%_96%","sulfate_80%_96%","sulfate_82%_96%","sulfate_84%_96%",
"sulfate_86%_96%","sulfate_88%_96%","sulfate_90%_96%","sulfate_91%_96%","sulfate_92%_96%",
"sulfate_93%_96%","sulfate_94%_96%","sulfate_95%_96%","sulfate_96%_96%","sulfate_97%_96%",
"sulfate_98%_96%","sulfate_99%_96%","sulfate_100%_96%","sulfate_30%_94%","sulfate_35%_94%",
"sulfate_40%_94%","sulfate_45%_94%","sulfate_50%_94%","sulfate_55%_94%","sulfate_60%_94%",
"sulfate_65%_94%","sulfate_70%_94%","sulfate_75%_94%","sulfate_80%_94%","sulfate_82%_94%",
"sulfate_84%_94%","sulfate_86%_94%","sulfate_88%_94%","sulfate_90%_94%","sulfate_91%_94%",
"sulfate_92%_94%","sulfate_93%_94%","sulfate_94%_94%","sulfate_95%_94%","sulfate_96%_94%",
"sulfate_97%_94%","sulfate_98%_94%","sulfate_99%_94%","sulfate_100%_94%","sulfate_30%_92%",
"sulfate_35%_92%","sulfate_40%_92%","sulfate_45%_92%","sulfate_50%_92%","sulfate_55%_92%",
"sulfate_60%_92%","sulfate_65%_92%","sulfate_70%_92%","sulfate_75%_92%","sulfate_80%_92%",
"sulfate_82%_92%","sulfate_84%_92%","sulfate_86%_92%","sulfate_88%_92%","sulfate_90%_92%",
"sulfate_91%_92%","sulfate_92%_92%","sulfate_93%_92%","sulfate_94%_92%","sulfate_95%_92%",
"sulfate_96%_92%","sulfate_97%_92%","sulfate_98%_92%","sulfate_99%_92%","sulfate_100%_92%",
"sulfate_30%_90%","sulfate_35%_90%","sulfate_40%_90%","sulfate_45%_90%","sulfate_50%_90%",
"sulfate_55%_90%","sulfate_60%_90%","sulfate_65%_90%","sulfate_70%_90%","sulfate_75%_90%",
"sulfate_80%_90%","sulfate_82%_90%","sulfate_84%_90%","sulfate_86%_90%","sulfate_88%_90%",
"sulfate_90%_90%","sulfate_91%_90%","sulfate_92%_90%","sulfate_93%_90%","sulfate_94%_90%",
"sulfate_95%_90%","sulfate_96%_90%","sulfate_97%_90%","sulfate_98%_90%","sulfate_99%_90%",
"sulfate_100%_90%","sulfate_30%_88%","sulfate_35%_88%","sulfate_40%_88%","sulfate_45%_88%",
"sulfate_50%_88%","sulfate_55%_88%","sulfate_60%_88%","sulfate_65%_88%","sulfate_70%_88%",
"sulfate_75%_88%","sulfate_80%_88%","sulfate_82%_88%","sulfate_84%_88%","sulfate_86%_88%",
"sulfate_88%_88%","sulfate_90%_88%","sulfate_91%_88%","sulfate_92%_88%","sulfate_93%_88%",
"sulfate_94%_88%","sulfate_95%_88%","sulfate_96%_88%","sulfate_97%_88%","sulfate_98%_88%",
"sulfate_99%_88%","sulfate_100%_88%","sulfate_30%_86%","sulfate_35%_86%","sulfate_40%_86%",
"sulfate_45%_86%","sulfate_50%_86%","sulfate_55%_86%","sulfate_60%_86%","sulfate_65%_86%",
"sulfate_70%_86%","sulfate_75%_86%","sulfate_80%_86%","sulfate_82%_86%","sulfate_84%_86%",
"sulfate_86%_86%","sulfate_88%_86%","sulfate_90%_86%","sulfate_91%_86%","sulfate_92%_86%",
"sulfate_93%_86%","sulfate_94%_86%","sulfate_95%_86%","sulfate_96%_86%","sulfate_97%_86%",
"sulfate_98%_86%","sulfate_99%_86%","sulfate_100%_86%","sulfate_30%_84%","sulfate_35%_84%",
"sulfate_40%_84%","sulfate_45%_84%","sulfate_50%_84%","sulfate_55%_84%","sulfate_60%_84%",
"sulfate_65%_84%","sulfate_70%_84%","sulfate_75%_84%","sulfate_80%_84%","sulfate_82%_84%",
"sulfate_84%_84%","sulfate_86%_84%","sulfate_88%_84%","sulfate_90%_84%","sulfate_91%_84%",
"sulfate_92%_84%","sulfate_93%_84%","sulfate_94%_84%","sulfate_95%_84%","sulfate_96%_84%",
"sulfate_97%_84%","sulfate_98%_84%","sulfate_99%_84%","sulfate_100%_84%","sulfate_30%_82%",
"sulfate_35%_82%","sulfate_40%_82%","sulfate_45%_82%","sulfate_50%_82%","sulfate_55%_82%",
"sulfate_60%_82%","sulfate_65%_82%","sulfate_70%_82%","sulfate_75%_82%","sulfate_80%_82%",
"sulfate_82%_82%","sulfate_84%_82%","sulfate_86%_82%","sulfate_88%_82%","sulfate_90%_82%",
"sulfate_91%_82%","sulfate_92%_82%","sulfate_93%_82%","sulfate_94%_82%","sulfate_95%_82%",
"sulfate_96%_82%","sulfate_97%_82%","sulfate_98%_82%","sulfate_99%_82%","sulfate_100%_82%",
"sulfate_30%_80%","sulfate_35%_80%","sulfate_40%_80%","sulfate_45%_80%","sulfate_50%_80%",
"sulfate_55%_80%","sulfate_60%_80%","sulfate_65%_80%","sulfate_70%_80%","sulfate_75%_80%",
"sulfate_80%_80%","sulfate_82%_80%","sulfate_84%_80%","sulfate_86%_80%","sulfate_88%_80%",
"sulfate_90%_80%","sulfate_91%_80%","sulfate_92%_80%","sulfate_93%_80%","sulfate_94%_80%",
"sulfate_95%_80%","sulfate_96%_80%","sulfate_97%_80%","sulfate_98%_80%","sulfate_99%_80%",
"sulfate_100%_80%","sulfate_30%_75%","sulfate_35%_75%","sulfate_40%_75%","sulfate_45%_75%",
"sulfate_50%_75%","sulfate_55%_75%","sulfate_60%_75%","sulfate_65%_75%","sulfate_70%_75%",
"sulfate_75%_75%","sulfate_80%_75%","sulfate_82%_75%","sulfate_84%_75%","sulfate_86%_75%",
"sulfate_88%_75%","sulfate_90%_75%","sulfate_91%_75%","sulfate_92%_75%","sulfate_93%_75%",
"sulfate_94%_75%","sulfate_95%_75%","sulfate_96%_75%","sulfate_97%_75%","sulfate_98%_75%",
"sulfate_99%_75%","sulfate_100%_75%","sulfate_30%_70%","sulfate_35%_70%","sulfate_40%_70%",
"sulfate_45%_70%","sulfate_50%_70%","sulfate_55%_70%","sulfate_60%_70%","sulfate_65%_70%",
"sulfate_70%_70%","sulfate_75%_70%","sulfate_80%_70%","sulfate_82%_70%","sulfate_84%_70%",
"sulfate_86%_70%","sulfate_88%_70%","sulfate_90%_70%","sulfate_91%_70%","sulfate_92%_70%",
"sulfate_93%_70%","sulfate_94%_70%","sulfate_95%_70%","sulfate_96%_70%","sulfate_97%_70%",
"sulfate_98%_70%","sulfate_99%_70%","sulfate_100%_70%","sulfate_30%_65%","sulfate_35%_65%",
"sulfate_40%_65%","sulfate_45%_65%","sulfate_50%_65%","sulfate_55%_65%","sulfate_60%_65%",
"sulfate_65%_65%","sulfate_70%_65%","sulfate_75%_65%","sulfate_80%_65%","sulfate_82%_65%",
"sulfate_84%_65%","sulfate_86%_65%","sulfate_88%_65%","sulfate_90%_65%","sulfate_91%_65%",
"sulfate_92%_65%","sulfate_93%_65%","sulfate_94%_65%","sulfate_95%_65%","sulfate_96%_65%",
"sulfate_97%_65%","sulfate_98%_65%","sulfate_99%_65%","sulfate_100%_65%","sulfate_30%_60%",
"sulfate_35%_60%","sulfate_40%_60%","sulfate_45%_60%","sulfate_50%_60%","sulfate_55%_60%",
"sulfate_60%_60%","sulfate_65%_60%","sulfate_70%_60%","sulfate_75%_60%","sulfate_80%_60%",
"sulfate_82%_60%","sulfate_84%_60%","sulfate_86%_60%","sulfate_88%_60%","sulfate_90%_60%",
"sulfate_91%_60%","sulfate_92%_60%","sulfate_93%_60%","sulfate_94%_60%","sulfate_95%_60%",
"sulfate_96%_60%","sulfate_97%_60%","sulfate_98%_60%","sulfate_99%_60%","sulfate_100%_60%",
"sulfate_30%_55%","sulfate_35%_55%","sulfate_40%_55%","sulfate_45%_55%","sulfate_50%_55%",
"sulfate_55%_55%","sulfate_60%_55%","sulfate_65%_55%","sulfate_70%_55%","sulfate_75%_55%",
"sulfate_80%_55%","sulfate_82%_55%","sulfate_84%_55%","sulfate_86%_55%","sulfate_88%_55%",
"sulfate_90%_55%","sulfate_91%_55%","sulfate_92%_55%","sulfate_93%_55%","sulfate_94%_55%",
"sulfate_95%_55%","sulfate_96%_55%","sulfate_97%_55%","sulfate_98%_55%","sulfate_99%_55%",
"sulfate_100%_55%","sulfate_30%_50%","sulfate_35%_50%","sulfate_40%_50%","sulfate_45%_50%",
"sulfate_50%_50%","sulfate_55%_50%","sulfate_60%_50%","sulfate_65%_50%","sulfate_70%_50%",
"sulfate_75%_50%","sulfate_80%_50%","sulfate_82%_50%","sulfate_84%_50%","sulfate_86%_50%",
"sulfate_88%_50%","sulfate_90%_50%","sulfate_91%_50%","sulfate_92%_50%","sulfate_93%_50%",
"sulfate_94%_50%","sulfate_95%_50%","sulfate_96%_50%","sulfate_97%_50%","sulfate_98%_50%",
"sulfate_99%_50%","sulfate_100%_50%","sulfate_30%_45%","sulfate_35%_45%","sulfate_40%_45%",
"sulfate_45%_45%","sulfate_50%_45%","sulfate_55%_45%","sulfate_60%_45%","sulfate_65%_45%",
"sulfate_70%_45%","sulfate_75%_45%","sulfate_80%_45%","sulfate_82%_45%","sulfate_84%_45%",
"sulfate_86%_45%","sulfate_88%_45%","sulfate_90%_45%","sulfate_91%_45%","sulfate_92%_45%",
"sulfate_93%_45%","sulfate_94%_45%","sulfate_95%_45%","sulfate_96%_45%","sulfate_97%_45%",
"sulfate_98%_45%","sulfate_99%_45%","sulfate_100%_45%","sulfate_30%_40%","sulfate_35%_40%",
"sulfate_40%_40%","sulfate_45%_40%","sulfate_50%_40%","sulfate_55%_40%","sulfate_60%_40%",
"sulfate_65%_40%","sulfate_70%_40%","sulfate_75%_40%","sulfate_80%_40%","sulfate_82%_40%",
"sulfate_84%_40%","sulfate_86%_40%","sulfate_88%_40%","sulfate_90%_40%","sulfate_91%_40%",
"sulfate_92%_40%","sulfate_93%_40%","sulfate_94%_40%","sulfate_95%_40%","sulfate_96%_40%",
"sulfate_97%_40%","sulfate_98%_40%","sulfate_99%_40%","sulfate_100%_40%","sulfate_30%_35%",
"sulfate_35%_35%","sulfate_40%_35%","sulfate_45%_35%","sulfate_50%_35%","sulfate_55%_35%",
"sulfate_60%_35%","sulfate_65%_35%","sulfate_70%_35%","sulfate_75%_35%","sulfate_80%_35%",
"sulfate_82%_35%","sulfate_84%_35%","sulfate_86%_35%","sulfate_88%_35%","sulfate_90%_35%",
"sulfate_91%_35%","sulfate_92%_35%","sulfate_93%_35%","sulfate_94%_35%","sulfate_95%_35%",
"sulfate_96%_35%","sulfate_97%_35%","sulfate_98%_35%","sulfate_99%_35%","sulfate_100%_35%",
"sulfate_30%_30%","sulfate_35%_30%","sulfate_40%_30%","sulfate_45%_30%","sulfate_50%_30%",
"sulfate_55%_30%","sulfate_60%_30%","sulfate_65%_30%","sulfate_70%_30%","sulfate_75%_30%",
"sulfate_80%_30%","sulfate_82%_30%","sulfate_84%_30%","sulfate_86%_30%","sulfate_88%_30%",
"sulfate_90%_30%","sulfate_91%_30%","sulfate_92%_30%","sulfate_93%_30%","sulfate_94%_30%",
"sulfate_95%_30%","sulfate_96%_30%","sulfate_97%_30%","sulfate_98%_30%","sulfate_99%_30%",
"sulfate_100%_30%","sulfate_30%_25%","sulfate_35%_25%","sulfate_40%_25%","sulfate_45%_25%",
"sulfate_50%_25%","sulfate_55%_25%","sulfate_60%_25%","sulfate_65%_25%","sulfate_70%_25%",
"sulfate_75%_25%","sulfate_80%_25%","sulfate_82%_25%","sulfate_84%_25%","sulfate_86%_25%",
"sulfate_88%_25%","sulfate_90%_25%","sulfate_91%_25%","sulfate_92%_25%","sulfate_93%_25%",
"sulfate_94%_25%","sulfate_95%_25%","sulfate_96%_25%","sulfate_97%_25%","sulfate_98%_25%",
"sulfate_99%_25%","sulfate_100%_25%","sulfate_30%_20%","sulfate_35%_20%","sulfate_40%_20%",
"sulfate_45%_20%","sulfate_50%_20%","sulfate_55%_20%","sulfate_60%_20%","sulfate_65%_20%",
"sulfate_70%_20%","sulfate_75%_20%","sulfate_80%_20%","sulfate_82%_20%","sulfate_84%_20%",
"sulfate_86%_20%","sulfate_88%_20%","sulfate_90%_20%","sulfate_91%_20%","sulfate_92%_20%",
"sulfate_93%_20%","sulfate_94%_20%","sulfate_95%_20%","sulfate_96%_20%","sulfate_97%_20%",
"sulfate_98%_20%","sulfate_99%_20%","sulfate_100%_20%","sulfate_30%_15%","sulfate_35%_15%",
"sulfate_40%_15%","sulfate_45%_15%","sulfate_50%_15%","sulfate_55%_15%","sulfate_60%_15%",
"sulfate_65%_15%","sulfate_70%_15%","sulfate_75%_15%","sulfate_80%_15%","sulfate_82%_15%",
"sulfate_84%_15%","sulfate_86%_15%","sulfate_88%_15%","sulfate_90%_15%","sulfate_91%_15%",
"sulfate_92%_15%","sulfate_93%_15%","sulfate_94%_15%","sulfate_95%_15%","sulfate_96%_15%",
"sulfate_97%_15%","sulfate_98%_15%","sulfate_99%_15%","sulfate_100%_15%","sulfate_30%_10%",
"sulfate_35%_10%","sulfate_40%_10%","sulfate_45%_10%","sulfate_50%_10%","sulfate_55%_10%",
"sulfate_60%_10%","sulfate_65%_10%","sulfate_70%_10%","sulfate_75%_10%","sulfate_80%_10%",
"sulfate_82%_10%","sulfate_84%_10%","sulfate_86%_10%","sulfate_88%_10%","sulfate_90%_10%",
"sulfate_91%_10%","sulfate_92%_10%","sulfate_93%_10%","sulfate_94%_10%","sulfate_95%_10%",
"sulfate_96%_10%","sulfate_97%_10%","sulfate_98%_10%","sulfate_99%_10%","sulfate_100%_10%",
"sulfate_30%_5%","sulfate_35%_5%","sulfate_40%_5%","sulfate_45%_5%","sulfate_50%_5%",
"sulfate_55%_5%","sulfate_60%_5%","sulfate_65%_5%","sulfate_70%_5%","sulfate_75%_5%",
"sulfate_80%_5%","sulfate_82%_5%","sulfate_84%_5%","sulfate_86%_5%","sulfate_88%_5%",
"sulfate_90%_5%","sulfate_91%_5%","sulfate_92%_5%","sulfate_93%_5%","sulfate_94%_5%",
"sulfate_95%_5%","sulfate_96%_5%","sulfate_97%_5%","sulfate_98%_5%","sulfate_99%_5%",
"sulfate_100%_5%","sulfate_30%_0%","sulfate_35%_0%","sulfate_40%_0%","sulfate_45%_0%",
"sulfate_50%_0%","sulfate_55%_0%","sulfate_60%_0%","sulfate_65%_0%","sulfate_70%_0%",
"sulfate_75%_0%","sulfate_80%_0%","sulfate_82%_0%","sulfate_84%_0%","sulfate_86%_0%",
"sulfate_88%_0%","sulfate_90%_0%","sulfate_91%_0%","sulfate_92%_0%","sulfate_93%_0%",
"sulfate_94%_0%","sulfate_95%_0%","sulfate_96%_0%","sulfate_97%_0%","sulfate_98%_0%",
"sulfate_99%_0%","sulfate_100%_0%",
                            "organic_carbon","soot",
                            "sea_salt",    "dust_0.1",    "dust_0.2",    "dust_0.4",
                            "dust_0.8",    "dust_1.0",    "dust_2.0",    "dust_4.0",
                            "dust_8.0",
                            "dust1",       "dust2",         "dust3",        "dust4",
                            "dust5",       "bcphobic",      "omphobic",     "bcdry"
                            "omphilic_30%", "omphilic_35%", "omphilic_40%", "omphilic_45%",
                            "omphilic_50%", "omphilic_55%", "omphilic_60%", "omphilic_65%",
                            "omphilic_70%", "omphilic_75%", "omphilic_80%", "omphilic_82%",
                            "omphilic_84%", "omphilic_86%", "omphilic_88%", "omphilic_90%",
                            "omphilic_91%", "omphilic_92%", "omphilic_93%", "omphilic_94%",
                            "omphilic_95%", "omphilic_96%", "omphilic_97%", "omphilic_98%",
                            "omphilic_99%",
                            "seasalt1_30%", "seasalt1_35%", "seasalt1_40%", "seasalt1_45%",
                            "seasalt1_50%", "seasalt1_55%", "seasalt1_60%", "seasalt1_65%",
                            "seasalt1_70%", "seasalt1_75%", "seasalt1_80%", "seasalt1_82%",
                            "seasalt1_84%", "seasalt1_86%", "seasalt1_88%", "seasalt1_90%",
                            "seasalt1_91%", "seasalt1_92%", "seasalt1_93%", "seasalt1_94%",
                            "seasalt1_95%", "seasalt1_96%", "seasalt1_97%", "seasalt1_98%",
                            "seasalt1_99%",
                            "seasalt2_30%", "seasalt2_35%", "seasalt2_40%", "seasalt2_45%",
                            "seasalt2_50%", "seasalt2_55%", "seasalt2_60%", "seasalt2_65%",
                            "seasalt2_70%", "seasalt2_75%", "seasalt2_80%", "seasalt2_82%",
                            "seasalt2_84%", "seasalt2_86%", "seasalt2_88%", "seasalt2_90%",
                            "seasalt2_91%", "seasalt2_92%", "seasalt2_93%", "seasalt2_94%",
                            "seasalt2_95%", "seasalt2_96%", "seasalt2_97%", "seasalt2_98%",
                            "seasalt2_99%",
                            "seasalt3_30%", "seasalt3_35%", "seasalt3_40%", "seasalt3_45%",
                            "seasalt3_50%", "seasalt3_55%", "seasalt3_60%", "seasalt3_65%",
                            "seasalt3_70%", "seasalt3_75%", "seasalt3_80%", "seasalt3_82%",
                            "seasalt3_84%", "seasalt3_86%", "seasalt3_88%", "seasalt3_90%",
                            "seasalt3_91%", "seasalt3_92%", "seasalt3_93%", "seasalt3_94%",
                            "seasalt3_95%", "seasalt3_96%", "seasalt3_97%", "seasalt3_98%",
                            "seasalt3_99%",
                            "seasalt4_30%", "seasalt4_35%", "seasalt4_40%", "seasalt4_45%",
                            "seasalt4_50%", "seasalt4_55%", "seasalt4_60%", "seasalt4_65%",
                            "seasalt4_70%", "seasalt4_75%", "seasalt4_80%", "seasalt4_82%",
                            "seasalt4_84%", "seasalt4_86%", "seasalt4_88%", "seasalt4_90%",
                            "seasalt4_91%", "seasalt4_92%", "seasalt4_93%", "seasalt4_94%",
                            "seasalt4_95%", "seasalt4_96%", "seasalt4_97%", "seasalt4_98%",
                            "seasalt4_99%",
                            "seasalt5_30%", "seasalt5_35%", "seasalt5_40%", "seasalt5_45%",
                            "seasalt5_50%", "seasalt5_55%", "seasalt5_60%", "seasalt5_65%",
                            "seasalt5_70%", "seasalt5_75%", "seasalt5_80%", "seasalt5_82%",
                            "seasalt5_84%", "seasalt5_86%", "seasalt5_88%", "seasalt5_90%",
                            "seasalt5_91%", "seasalt5_92%", "seasalt5_93%", "seasalt5_94%",
                            "seasalt5_95%", "seasalt5_96%", "seasalt5_97%", "seasalt5_98%",
                            "seasalt5_99%",
                            "dust_mode1_of_1","dust_mode1_of_2","dust_mode2_of_2","dust_mode1_of_3","dust_mode2_of_3","dust_mode3_of_3",
   "seasalt_aitken_30%", "seasalt_aitken_35%", "seasalt_aitken_40%", "seasalt_aitken_45%",
   "seasalt_aitken_50%", "seasalt_aitken_55%", "seasalt_aitken_60%", "seasalt_aitken_65%",
   "seasalt_aitken_70%", "seasalt_aitken_75%", "seasalt_aitken_80%", "seasalt_aitken_82%",
   "seasalt_aitken_84%", "seasalt_aitken_86%", "seasalt_aitken_88%", "seasalt_aitken_90%",
   "seasalt_aitken_91%", "seasalt_aitken_92%", "seasalt_aitken_93%", "seasalt_aitken_94%",
   "seasalt_aitken_95%", "seasalt_aitken_96%", "seasalt_aitken_97%", "seasalt_aitken_98%",
   "seasalt_aitken_99%",
   "seasalt_fine_30%", "seasalt_fine_35%", "seasalt_fine_40%", "seasalt_fine_45%",
   "seasalt_fine_50%", "seasalt_fine_55%", "seasalt_fine_60%", "seasalt_fine_65%",
   "seasalt_fine_70%", "seasalt_fine_75%", "seasalt_fine_80%", "seasalt_fine_82%",
   "seasalt_fine_84%", "seasalt_fine_86%", "seasalt_fine_88%", "seasalt_fine_90%",
   "seasalt_fine_91%", "seasalt_fine_92%", "seasalt_fine_93%", "seasalt_fine_94%",
   "seasalt_fine_95%", "seasalt_fine_96%", "seasalt_fine_97%", "seasalt_fine_98%",
   "seasalt_fine_99%",
   "seasalt_coarse_30%", "seasalt_coarse_35%", "seasalt_coarse_40%", "seasalt_coarse_45%",
   "seasalt_coarse_50%", "seasalt_coarse_55%", "seasalt_coarse_60%", "seasalt_coarse_65%",
   "seasalt_coarse_70%", "seasalt_coarse_75%", "seasalt_coarse_80%", "seasalt_coarse_82%",
   "seasalt_coarse_84%", "seasalt_coarse_86%", "seasalt_coarse_88%", "seasalt_coarse_90%",
   "seasalt_coarse_91%", "seasalt_coarse_92%", "seasalt_coarse_93%", "seasalt_coarse_94%",
   "seasalt_coarse_95%", "seasalt_coarse_96%", "seasalt_coarse_97%", "seasalt_coarse_98%",
   "seasalt_coarse_99%"
   "nitrate_30%", "nitrate_35%", "nitrate_40%", "nitrate_45%",
   "nitrate_50%", "nitrate_55%", "nitrate_60%", "nitrate_65%",
   "nitrate_70%", "nitrate_75%", "nitrate_80%", "nitrate_82%",
   "nitrate_84%", "nitrate_86%", "nitrate_88%", "nitrate_90%",
   "nitrate_91%", "nitrate_92%", "nitrate_93%", "nitrate_94%",
   "nitrate_95%", "nitrate_96%", "nitrate_97%", "nitrate_98%",
   "nitrate_99%"
      </namelist>

      <namelist name="atmos_co2_nml">
       do_co2_restore = .true.               
       restore_tscale = 3.1536e7,
       restore_klimit = 1000                          ! jgj resolution dependent so set to large number for now
       co2_radiation_override = .false.
       do_co2_emissions = .false.
      </namelist>

      <namelist name="atmos_model_nml">
         nxblocks = $nxblock
         nyblocks = $nyblock
      </namelist>

      <namelist name ="atmos_tracer_driver_nml">
      step_update_tracer = .true.
      do_esm_nitrogen_flux = .true. !turn on nh4,no3 exchange with OCN
      prevent_flux_through_ice = .true. !set to .true. im 922
      do_nh3_atm_ocean_exchange = .true. !turn on exchange of NH3
      </namelist>

      <namelist name="atmos_tropopause_nml">
        do_tropopause_diagnostics = .true.          
      </namelist> 

      <namelist name="atmosphere_nml">
      </namelist>

      <namelist name ="carbon_aerosol_nml">
      do_dynamic_bc = .true.,
      frac_bcbb_phobic = 0.4,
      frac_bcbb_philic = 0.6,
      do_dynamic_om = .true.,
      bcff_source = 'gocart_2007',
        bcff_input_name(1)='anthro',
        bcff_filename='emissions.bc.0.5x0.5.1850.nc',
        bcff_time_dependency_type='fixed_year',bcff_dataset_entry=1850,1,1,0,0,
      omff_source = 'gocart_2007',
        omff_input_name(1)='anthro',
        omff_filename='emissions.om.0.5x0.5.1850.nc',
        omff_time_dependency_type='fixed_year',omff_dataset_entry=1850,1,1,0,0,
      omsh_source = 'gocart_2007',
        omsh_input_name(1)='ship',
        omsh_filename='emissions.om.0.5x0.5.1850.nc',
        omsh_time_dependency_type='fixed_year',omsh_dataset_entry=1850,1,1,0,0,
      bcsh_source = 'gocart_2007',
        bcsh_input_name(1)='ship',
        bcsh_filename='emissions.bc.0.5x0.5.1850.nc',
        bcsh_time_dependency_type='fixed_year',bcsh_dataset_entry=1850,1,1,0,0,
      bcav_source = 'do_aircraft'
        bcav_input_name(1)='fuel',
        bcav_filename='emissions.aircraft.aero.0.5x0.5.1850.nc',
        bcav_time_dependency_type='fixed_year',bcav_dataset_entry=1850,1,1,0,0,
      bcbb_source = 'AEROCOM',
        bcbb_filename='emissions.bc.0.5x0.5.1850.nc',
        bcbb_input_name(1)='bb_l1'
        bcbb_input_name(2)='bb_l2'
        bcbb_input_name(3)='bb_l3'
        bcbb_input_name(4)='bb_l4'
        bcbb_input_name(5)='bb_l5'
        bcbb_input_name(6)='bb_l6'
        bcbb_time_dependency_type='fixed_year',bcbb_dataset_entry=1850,1,1,0,0,
      ombb_source = 'AEROCOM',
        ombb_filename='emissions.om.0.5x0.5.1850.nc',
        ombb_input_name(1)='bb_l1'
        ombb_input_name(2)='bb_l2'
        ombb_input_name(3)='bb_l3'
        ombb_input_name(4)='bb_l4'
        ombb_input_name(5)='bb_l5'
        ombb_input_name(6)='bb_l6'
        ombb_time_dependency_type='fixed_year',ombb_dataset_entry=1850,1,1,0,0,
      omna_source = '',
      omss_source = 'ODowd'
        omss_coef = 0.05
      no_biobur_if_no_pbl = .false.
      do_biobur_pbl_bug = .false.
      </namelist>

      <namelist name ="cg_drag_nml">
        cg_drag_freq = 1800,
        cg_drag_offset = 0,
        Bt_0 =  0.004,
        Bt_aug= 0.000,
        Bt_nh=  0.0010,
        Bt_sh= -0.0005,
        Bt_eq=  0.000,
        Bt_eq_width= 4.0,
        phi0n =  30.,
        phi0s = -30.,
        dphin =  5.0,
        dphis = -5.0,
        dump_flux= .true.
        dc= 2.4,
        cmax= 99.6
        do_conserve_energy = .true.,
      </namelist>

      <namelist name ="cloud_generator_nml">
      do_inhomogeneous_clouds = .true.
      defaultOverlap = 4
      overlapLengthScale = 2.0
      </namelist>

      <namelist name="cloud_rad_nml">
      do_brenguier = .false.,
      scale_factor = 1.00
      </namelist>

      <namelist name ="cloud_spec_nml">
        cloud_type_form = 'stratuw'
	do_stochastic_clouds = .true.
	use_cloud_tracers_in_radiation = .false. !from radiation in common.nml
      </namelist>

      <namelist name="cloudrad_diagnostics_nml">
      do_isccp = .true.
      isccp_scale_factor = 1.00
      water_ice_ratio = 10.
      </namelist>

      <namelist name="cloudrad_package_nml">
      microphys_form = 'predicted'
      </namelist>

      <namelist name="clouds_nml">
      do_zonal_clouds = .false.,
      do_obs_clouds  = .false.
      </namelist>

      <namelist name="convection_driver_nml">
        cmt_mass_flux_source='uw',
        do_cmt=.true., 
        do_donner_before_uw = .false.,
        do_donner_conservation_checks = .false.,
        do_gust_cv = .false.,
        do_gust_cv_new = .false.,
        do_limit_donner = .false.,
        do_limit_uw = .false.,
        force_donner_moist_conserv = .false.,
      </namelist>

      <namelist name="cu_mo_trans_nml">
      transport_scheme='diffusive'
      diff_norm = 2.5
      </namelist>

      <namelist name ="damping_driver_nml">
        trayfric = 0.,
        nlev_rayfric = 1,
        do_mg_drag = .false.
        do_cg_drag = .true.
        do_topo_drag = .true.,
        do_conserve_energy = .true.,
        kstart= 0
      </namelist>

      <namelist name="deep_conv_nml">
        crh_th_ocean = 0.4
        crh_th_land  = 0.4
        auto_th0_d = 0.2e-3
        tcrit_d    = -25.15,
        peff_l_d   = 6.0e-5
        peff_i_d   = 11.e-5
        rkm_dp1 = 0.9
        rkm_dp2 = 0.1
        crh_max = 1.0
        cwfn_th = 10.
        tau_dp = 28800.
        mixing_assumption_d = 6
        do_ppen_d  = .true.
        rpen_d     = 4.0
        do_pevap_d = .true.
        cfrac_d    = 0.15
        hcevap_d   = 0.85
        hcevappbl_d = 0.95
        pblfac_d   = 1.0
        frac_limit_d = 0.25
        dcwfndm_th = 100
        lofactor_d = 1.0
        do_cgust_dp  = .true.
        cgust_choice = 1
        include_emf_d = .false.
      </namelist>

      <namelist name="diag_cloud_nml">
      linvers = .false., lcnvcld = .false.,
      l_theqv = .true., lomega = .true.,
      low_lev_cloud_index = 16, nofog = .false.
      </namelist>

      <namelist name="diag_cloud_rad_nml">
      l_har_anvil   = .true.,
      l_har_coldcld = .true.,
      l_anom_abs_v  = .true.
      </namelist>

      <namelist name="diag_integral_nml">
      file_name  = 'diag_integral.out',
      time_units = 'days',
      output_interval = 1.0
      fields_per_print_line = 6
      </namelist>

      <namelist name ="donner_deep_clouds_W_nml">
      using_dge_sw = .true.,
      using_dge_lw = .true.
      </namelist>

      <namelist name ="donner_deep_nml">
      parcel_launch_level = 2
      model_levels_in_sfcbl = 0
      donner_deep_freq = 1200
      write_reduced_restart_file = .true.
      allow_mesoscale_circulation = .true.
      do_donner_cape    = .false.
      do_donner_plume   = .false.
      do_donner_closure = .false.
      do_donner_lscloud = .true.
      do_dcape          = .false.
      do_lands          = .false.
      do_freezing_for_cape = .true.
      do_freezing_for_closure = .true.
      gama              = 0.0
      tau               = 28800.
      tke0              = 0.5
      cape0             = 1000.
      lochoice          = 10
      do_capetau_land   = .false.
      use_llift_criteria= .false.
      do_ice            = .true.
      atopevap  = 0.1
      auto_rate = 1.e-3
      auto_th   = 0.5e-3
      frac      = 1.65
      ttend_max = 0.005
      EVAP_IN_DOWNDRAFTS  = 0.00
      EVAP_IN_ENVIRON     = 0.00
      ENTRAINED_INTO_MESO = 1.00
      ANVIL_PRECIP_EFFICIENCY = 0.55
      MESO_DOWN_EVAP_FRACTION = 0.4
      MESO_UP_EVAP_FRACTION   = 0.05
      wmin_ratio      = 0.05,
      arat =  1.0, 0.26, 0.35, 0.32, 0.3, 0.54, 0.66
      erat =  1.0, 1.30, 1.80, 2.50, 3.3, 4.50, 10.0
      frc_internal_enthalpy_conserv = .true.
      limit_pztm_to_tropo = .true.
      </namelist>

      <namelist name="dust_nml">
      dust_source_name = 'source',
      dust_source_filename = 'dust_source.nc'
      uthresh = 3.5
      coef_emis = 2.0e-10
      use_sj_sedimentation_solver=.true.
      do_esm_dust_flux = .true.
      </namelist>

      <namelist name="edt_nml">
      n_print_levels = 14,
      use_qcmin = .true.,
      num_pts_ij = 0,
      min_adj_time = 1.0,
      do_gaussian_cloud = .false.,
      use_extrapolated_ql = .false.
      </namelist>

     <namelist name ="entrain_nml">
        convect_shutoff = .true.,
        apply_entrain = .true.,
        parcel_buoy   = 0.25,
        parcel_option = 2,
        beta_rad      = 0.23,
        Ashear        = 25.0, 
        beta_surf     = 0.23,
        radperturb    = 0.10, 
        critjump      = 0.10,
      </namelist>

      <namelist name="esfsw_driver_nml">
     do_four_stream = .false.
     reproduce_ulm   = .false.
     do_ch4_sw_effects = .true.
     do_n2o_sw_effects = .true.
     do_sw_continuum   = .true.
     do_quench = .true.
     remain_rayleigh_bug   = .false.
      </namelist>

      <namelist name="esfsw_parameters_nml">
      sw_code_version = 'esf2015' ! replaces deprecated sw_resolution = 'med'
      sw_int_points = 66
      sw_diff_streams = 1
      sw_NIRVISgas_bands = 11 ! ulm's default value =9, ulm_patch=11
      </namelist>

     <namelist name ="fv_core_nml">
        layout   = $atm_layout
        io_layout = $atm_io_layout
        npx      = 97,
        npy      = 97,
        ntiles   = 6,
        npz      = 49,
        k_split  = 1,
        n_split  = 14,
        a2b_ord  = 4,
        adjust_dry_mass = $adjust_dry_mass,
        adj_mass_vmr    = .true.,
        print_freq = 0,
        grid_type = 0,
        tau = 0.      
        do_uni_zfull = .true.
       n_sponge = 0
       d2_bg_k1 = 0.16
       d2_bg_k2 = 0.02
       kord_tm = -10
       kord_mt =  10
       kord_tr =  10
       hydrostatic = .T.
       d_ext = 0.
       d2_bg = 0.
       nord =  2
       dddmp = 0.
       d4_bg = 0.15
       vtdm4 = 0.0
       do_vort_damp = .F.
       d_con = 0.
       hord_mt = 10
       hord_vt = 10
       hord_tm = 10
       hord_dp = 10
       hord_tr = 8
       consv_te = 0.7
       consv_am = .T.
       fill = .T.
       z_tracer = .T.
      </namelist>

      <namelist name="fv_mapz_nml">
        vert_profile_reconstruct_top  =.true.,
        vert_profile_reconstruct_bot = .true.
      </namelist>

      <namelist name="gas_tf_nml">
      interp_form = 'log' ,
      do_calcstdco2tfs = .true.,
      do_writestdco2tfs= .false.,
      do_readstdco2tfs = .false.,
      do_calcstdch4tfs = .true.,
      do_writestdch4tfs= .false.,
      do_readstdch4tfs = .false.,
      do_calcstdn2otfs = .true.,
      do_writestdn2otfs= .false.,
      do_readstdn2otfs = .false.
      </namelist>

      <namelist name ="interpolator_nml">
      retain_cm3_bug = .false.
      </namelist>

      <namelist name="lscale_cond_nml">
      do_evap = .true.
      </namelist>

      <namelist name ="lscloud_driver_nml">
        aerosol_activation_scheme = "total"
        cfact = 1.0
        Dmin = 1.0e-07,
        use_cf_metadata = .true.                     
      </namelist>

      <namelist name="lw_gases_stdtf_nml">
      NSTDCO2LVLS=496
      do_co2_bug = .false.
      </namelist>

      <namelist name ="mg_drag_nml">
        gmax  = 1.0,
        acoef = 1.,
        do_conserve_energy = .true.,
        flux_cut_level = 30.e2,                        ! jgj set to default (0.0) in CM4B #814
        source_of_sgsmtn = 'input/computed'
      </namelist>

      <namelist name ="microphys_rad_nml">
      do_orig_donner_stoch = .false.,
      lwem_form = 'fuliou'
      </namelist>

      <namelist name ="moist_conv_nml">
      beta = 0.0
      </namelist>

      <namelist name ="moist_processes_nml">
        do_uw_conv = .true.
        do_height_adjust = .true.
      </namelist>

      <namelist name ="monin_obukhov_nml">
      stable_option =  2,
      rich_crit = 1.0,
      zeta_trans =  0.5
      </namelist>

      <namelist name ="my25_turb_nml">
      do_thv_stab = .true.,
      TKEmin = 1.e-8,
      AKmin_land = 5.,
      AKmin_sea  = 0.
      </namelist>

      <namelist name ="ozone_nml">
      basic_ozone_type = 'predicted_ozone' ,
      ozone_data_source = 'predicted_ozone'
      do_coupled_stratozone=.true.
      </namelist>

      <namelist name ="physics_driver_nml">
        n_land = 300.e6,
        n_ocean = 100.e6,
        !donner_meso_is_largescale = .false.        ! jgj - do not activate yet
        !do_cosp = .true.                           ! jgj - do not activate yet
        !do_modis_yim = .true.                      ! jgj - do not activate yet
      </namelist>

      <namelist name ="rad_output_file_nml">
      write_data_file=.true.
      </namelist>

      <namelist name ="radiation_diag_nml">
      iradprt_gl = 20, 6,
      jradprt_gl = 12, 20,
      num_pts_ij = 0
      </namelist>

      <namelist name ="radiation_driver_diag_nml">
      all_step_diagnostics = .true.,
      </namelist>

      <namelist name ="radiation_driver_nml">
      rad_time_step= 10800,
      rad_package = 'sea_esf',
      do_clear_sky_pass=.true.,
      !calc_hemi_integrals = .false.,
      renormalize_sw_fluxes=.true.,
      zenith_spec = 'diurnally_varying',
      using_restart_file = .false.
      do_conserve_energy = .true.
      sw_rad_time_step = 3600,
      use_single_lw_sw_ts = .false.,
      use_co2_tracer_field = .true.                 ! jgj added
      treat_sfc_refl_dir_as_dif = .false.           ! jgj added
      use_ch4_tracer_field = .true.
      </namelist>

      <namelist name ="radiative_gases_nml">
      use_co2_10um = .true.

      verbose = 3
      gas_printout_freq = 240

      time_varying_co2 = .false.,
      co2_variation_type = 'linear',
      co2_dataset_entry = 1850,1,1,0,0,
      co2_specification_type = 'base_and_trend',
      co2_floor = 100.0E-06,
      co2_ceiling = 1600.0E-06,
      co2_data_source = 'predicted'

      time_varying_ch4 = .false.,
      ch4_variation_type = 'linear'
      ch4_dataset_entry = 1850,1,1,0,0,
      ch4_specification_type = 'base_and_trend'
      ch4_data_source = 'predicted'

      time_varying_n2o = .false.,
      n2o_variation_type = 'linear'
      n2o_dataset_entry = 1850,1,1,0,0,
      n2o_specification_type = 'time_series'
      n2o_data_source = 'input'

      time_varying_f11 = .false.,
      f11_variation_type = 'linear'
      f11_dataset_entry = 1850,1,1,0,0,
      f11_specification_type = 'time_series'
      f11_data_source = 'input'

      time_varying_f12 = .false.,
      f12_variation_type = 'linear'
      f12_dataset_entry = 1850,1,1,0,0,
      f12_specification_type = 'time_series'
      f12_data_source = 'input'

      time_varying_f113 = .false.,
      f113_variation_type = 'linear'
      f113_dataset_entry = 1850,1,1,0,0,
      f113_specification_type = 'time_series'
      f113_data_source = 'input'

      time_varying_f22 = .false.,
      f22_variation_type = 'linear'
      f22_dataset_entry = 1850,1,1,0,0,
      f22_specification_type = 'time_series'
      f22_data_source = 'input'

      calc_co2_tfs_on_first_step = .false.,
      calc_co2_tfs_monthly = .true.,
      co2_tf_time_displacement = 0.0,                 ! jgj was 360 in CM4B #814

      calc_ch4_tfs_on_first_step = .false.,
      calc_ch4_tfs_monthly = .true.,
      ch4_tf_time_displacement = 0.0,

      calc_n2o_tfs_on_first_step = .false.,
      calc_n2o_tfs_monthly = .true.,
      n2o_tf_time_displacement = 360.0,
      </namelist>

      <namelist name ="random_number_streams_nml">
        force_use_of_temp_for_seed = .true.
      </namelist>

      <namelist name ="ras_nml">
      aratio = 0.9,
      modify_pbl=.true.
      rn_frac_bot = 0.5,
      rn_pbot = 800.0e2,
      puplim =  500.0e02,
      rn_ptop = 500.0e2,
      rn_frac_top = 0.975,
      Tokioka_on = .true.,
      Tokioka_con = 0.025,
      Tokioka_plim = 500.0e2,
      cufric =.false.
      do_rasdeep = .false.
      do_fixed_pres_deep = .true.
      prevent_unreasonable =.true.
      a = 1.6851, 1.1686, 0.7663, 0.5255, 0.4100, 0.3677,
          0.3151, 0.2216, 0.1521, 0.0750, 0.0000, 0.0000,
          0.0000, 0.0000, 0.0000
      </namelist>

      <namelist name ="regional_tracer_driver_nml">
      ntracers     = 3,
      tracer_names = "e90", "aoanh", "nh50"
      loss_freq   =  1.286008e-07, 0., 2.314815e-07
      </namelist>

      <namelist name ="rh_based_clouds_nml">
      cirrus_cld_prop_form = 'part', 
      cldht_type_form = '93'
      </namelist>

     <namelist name ="rotstayn_klein_mp_nml">
        rk_act_only_if_ql_gt_qmin = .true.
        include_homogeneous_for_wetdep = .false.
        include_adjustment_for_wetdep = .true.
        num_mass_ratio1 = 1.0
        num_mass_ratio2 = 0.
        rthresh = 8.5,
        U_evap_snow = 1.0
        vfact = 0.85
      </namelist>

      <namelist name ="sat_vapor_pres_nml">
      construct_table_wrt_liq = .true.,
      construct_table_wrt_liq_and_ice = .true.,
      use_exact_qs = .true.
      </namelist>

      <namelist name ="sealw99_nml">
      do_thick = .false.,
      do_nlte = .false.,
      do_lwcldemiss = .true.,
      continuum_form = 'mt_ckd2.5',
      linecatalog_form = 'hitran_2012',
      verbose = 5
      </namelist>

      <namelist name ="secondary_organics_nml">
        gas_conc_filename ='gas_conc_3D_am3p9.nc'
	isoprene_source = 'guenther'
	isoprene_filename = 'emissions.isoprene.1x1.2000.nc'
	isoprene_input_name(1) = 'biogenic'
	isoprene_SOA_yield = 0.10
	terpene_source = 'guenther'
	terpene_filename  = 'emissions.terpenes.1x1.2000.nc'
	terpene_input_name(1) = 'biogenic'
	terpene_SOA_yield = 0.10
	use_interactive_tracers = .true.
	use_interactive_BVOC_emis = .true.
      </namelist>

      <namelist name ="shortwave_driver_nml">
      do_cmip_diagnostics = .true.,
      swform = 'esfsw99'
      solar_dataset_entry = 1850,1,1,0,0,
      time_varying_solar_constant = .false.,
      </namelist>

      <namelist name ="simple_sulfate_nml">
      aerocom_emission_filename='so2_0.25_volcanoes.nc',
      dms_sw_filename='DMS_lana_gfdl.nc',
      critical_sea_fraction=0.
      </namelist>

      <namelist name ="ssalt_nml">
        coef_emis_coarse=1.15,
	do_sst_seasalt=.true.   !jaegle sst dependence
	use_sj_sedimentation_solver=.true.
	critical_sea_fraction = 0.
	t_crit = -999.
      </namelist>

      <namelist name ="stable_bl_turb_nml">
      alsm = 500.0,
      alsh = 500.0
      </namelist>

      <namelist name ="strat_clouds_W_nml">
      </namelist>

      <namelist name ="tiedtke_macro_nml">
        diff_thresh = 0.1,
        eros_scale = 1.e-6,
        eros_choice = .true.,
        eros_scale_c = 5.e-5,
        eros_scale_t = 5.e-5,
        U00 = 0.80,
        mc_thresh = 0.001,
        U00_profile = .true.,
      </namelist>

      <namelist name ="topo_drag_nml">
        frcrit  = 0.7
        alin    = 0.9
        anonlin = 3.0
        use_mg_scaling = .true.
        do_pbl_average = .false.
        use_mask_for_pbl = .false.
        beta = 0.5
        gamma = 0.4
        epsi = 0.0
        h_frac = 0.1
        zref_fac = 1.0
        no_drag_frac = 0.1
        tboost = 1.5
        pcut = 0.
        samp = 2.
        do_conserve_energy = .true.
        use_pbl_from_lock = .true.
        use_uref_4stable = .true.
      </namelist>
           
      <namelist name ="tropchem_driver_nml">
        relaxed_dt = 864000.,
        ub_pres = 1.,
        relaxed_dt_lbc = 86400.,
        lb_pres = 800.e2,
        file_sulfate = 'sulfate.nc',
        file_conc = 'tracerIC.19800101.v2.nc',
        file_emis_1 = 'emissions.',
        file_emis_2 = '.0.5x0.5.1850.nc',
        file_emis3d_1 = 'emissions3D.',
        file_emis3d_2 = '.0.5x0.5.1850.nc',
        file_ub = 'ub_vals.mozart.nc',
        file_dry = 'depvel_gc_am3_tran.nc',
        inv_list = '',
        file_aircraft = 'emissions.aircraft.0.5x0.5.1850.nc',
        lght_no_prd_factor = 1.2,
        normalize_lght_no_prd_area = .true.,
        min_land_frac_lght = 0.1,
        cloud_chem_type = 'f1p',
        strat_chem_age_factor = 1.,
        strat_chem_dclydt_factor = 1.,
        do_tropchem = .true.,
        o3_column_top = 0.002,
        repartition_water_tracers = .true.,
        allow_negative_cosz = .true.,
        allow_psc_settling_type1 = .true.,
        force_cly_conservation = .true.,
        set_min_h2o_strat = .true.,
        ch4_filename = 'ch4_gblannualdata',
        ch4_scale_factor = 1.e-9,
        time_varying_cfc_lbc = .false.,
        cfc_lbc_dataset_entry = 1950,1,1,0,0,0,
        do_fastjx_photo = .true.
        frac_aerosol_incloud   = 0.7,
        frac_dust_incloud = 0.0,
        min_lwc_for_cloud_chem = 1.e-10,
        aerosol_thermo_method = 'isorropia',
        max_rh_aerosol = 95.,
        verbose = 1,
        retain_cm3_bugs =.false.,
        check_convergence = .true.
        sim_data_filename = 'sim.AM4_v20180614.dat'
        het_chem_type = 'j1m'
        gN2O5 = 0.02
        gHO2 = 0.2
        gNO3 = 0.02
        gNO2 = 1e-5
        gNH3 = 0.,
        time_varying_solarflux = .false.
	gSO2_dynamic = 'zheng2015'
      </namelist>

      <namelist name ="uw_closure_nml">
        do_old_cbmfmax = .true.,
        rkfre    = 0.1
        wcrit_min= 0.2
      </namelist>

      <namelist name ="uw_conv_nml">
        rkm_sh1         = 7.0,
        rkm_sh          = 3.0,
        do_deep         = .true.,
        idpchoice       = 2
        do_rescale      = .true.
        do_rescale_t    = .true.
        use_new_let     = .true.
        do_new_subflx   = .true.
        do_new_pevap    = .false.
        plev_cin        = 60000.
        plev_for        = 60000.
        src_choice      = 1
        wrel_min        = 1.
        do_new_qnact    = .true.
        do_prog_gust    = .true.
        cgust0          = 2.
        cgust_max       = 4.
        tracer_check_type = 2
        stop_at_let     = .true.
        lofactor0       = 0.5
        do_umf_pbl      = .true.
        do_new_convcld  = .true.
        do_minmse       = .true.
        reproduce_old_version = .false.
        do_conv_micro_N = .false.
        N0 = 100.e6
        do_eis_limit = .true.
        eis_max = 8.
      </namelist>

      <namelist name ="uw_plume_nml">
        r_thresh = 10.
        auto_th0 = 0.2e-3,
        tcrit    = -25.15,
        peff_l   = 6.0e-5
        peff_i   = 11.e-5
        frac_drs = 0.5
        rpen     = 4.0
        wmin     = 0.5
        deltaqc0 = 0.5e-3 
        do_pdfpcp= .false.
        do_pmadjt= .true.
        do_emmax = .true.
        do_pnqv  = .true.
        mixing_assumption = 6
	scaleh0  = 1000.
        beta = 0.0
        rkm_max = 15
        mp_choice = 3
        do_pevap = .true.
        do_new_pblfac = .true.
        include_emf_s = .false.
        cfrac    = 0.15
        hcevap   = 0.85
        hcevappbl = 0.95
        pblfac   = 1.0
        emfrac_max = 0.25
        rmaxfrac = 0.1
        do_limit_wmax = .true.
        do_limit_fdr  = .true.
        wmax = 20.
        do_tten_max = .false.
        tten_max = 1000
        bigc = 0.0
        nom_ratio = 0.7
      </namelist>

      <namelist name ="vert_diff_driver_nml">
      do_conserve_energy = .true.
      </namelist>

      <namelist name ="vert_turb_driver_nml">
      gust_scheme      = 'beljaars',
      do_mellor_yamada = .false.,
      do_entrain       = .true.,
      do_edt           = .false.,
      do_diffusivity   = .false.,
      do_stable_bl     = .true.,
      do_shallow_conv  = .false.
      </namelist>

      <namelist name ="wetdep_nml">
        scale_aerosol_wetdep = 1.
        drydep_exp = .true.
        kbs_val = 0.5
      </namelist>

      <namelist name ="xactive_bvoc_nml">
   xactive_algorithm = "MEGAN2",
   file_LAI   = "INPUT/mksrf_lai.060929.nc",
   file_PFT   = "INPUT/mksrf_pft.060929.nc",
   file_PPFD  = "INPUT/dswrf_monthly_clim_1980-2000.nc"
   file_TEMP  = "INPUT/tas_monthly_clim_1980-2000.nc"
   file_O3    = "surface_ozone.nc",
   file_SOILM = "soil_moisture.nc",
   file_WS    = "wind_speed.nc",
   file_CO2   = "co2_conc.nc",
   do_AM3_ISOP = .true.,
   do_SESQTERP = .false.,
   do_PARSED_TERP = .true.,
   do_GAMMA_BDLAI = .false.,
   do_GAMMA_CO2   = .false.,
   do_GAMMA_AQ    = .false.,
   do_GAMMA_SM    = .false.,
   do_GAMMA_HT    = .false.,
   do_GAMMA_LT    = .false.,
   do_GAMMA_HW    = .false.,
   do_ONLINE_LAI  = .false.,
   do_ONLINE_PFT  = .false.,
   do_ONLINE_TEMP = .true.,
   do_ONLINE_PPFD = .true.,
   do_ONLINE_O3   = .false.,
   do_ONLINE_WIND = .false.,
   do_ONLINE_SM   = .false.,
   do_ONLINE_CO2  = .false.,
   T_s            = 297.,
   RHO_CANOPY     = 1.,
   min_land_frac  = 0.01
      </namelist>

<!-- LAND namelists -->
      <namelist name ="cana_nml">
       turbulence_to_use = "lm3v"
       init_co2 = 286.0e-6
       canopy_air_mass_for_tracers = 10.0
       use_sai_for_heat_exchange = .TRUE.

      </namelist>
      <namelist name="fire_nml">
       fire_to_use = 'unpacked'
       fire_for_past = 'pastfp'
       do_calc_derivs = .FALSE.
       f_agb_style = 'gompertz'
       f_rh_style = 'gompertz'
       f_theta_style = 'gompertz'
       min_BA_to_split = 1.0
       do_fire_fragmentation = .TRUE.
       frag_incl_nonveg = .TRUE.
       frag_incl_PAST = .FALSE.
       zero_TMF = .TRUE.
       use_FpopD_ba = .FALSE.
       use_Fgdp_nf = .FALSE.
       use_Fgdp_ba = .FALSE.
       theta_ROSeffect_asFnTheta = .TRUE.
       C_beta_params_likeRH = .FALSE.
!       lock_ROSmaxC3_to_ROSmaxC4 = .TRUE.
       agb_gom2 = 88.7, 56.7
       agb_gom3 = 0.66, 9.5
       Ia_alpha_monthly = 0.0014, 0.006
       Ia_param1 = 6.7, 5.8
       Ia_param2 = 0.2, 0.67
       popD_supp_eps3 = 0.21, 0.033
       rh_gom2 = 0.11, 0.0076
       rh_gom3 = -3.5, -9.4
       theta_gom2 = 0.0083, 0.082
       theta_gom3 = -5.6, -6.3
       magic_scalar = 1.0, 1.0
       do_crownfires = .TRUE.
       do_multiday_fires = .TRUE.
       mdf_threshold = 1.0
       FireMIP_ltng = .FALSE.
      </namelist>

      <namelist name ="glac_data_nml">
       use_lm2_awc = .true.,
       rsa_exp_global = 10.,
       f_iso_cold = 0.92, 0.58
       f_vol_cold = 0.06, 0.08
       f_geo_cold = 0.00, 0.00
       f_iso_warm = 0.92, 0.58
       f_vol_warm = 0.06, 0.08
       f_geo_warm = 0.00, 0.00
       dat_emis_dry = 1.,
       dat_emis_sat = 1.,
       geothermal_heat_flux_constant = 0.065
      </namelist>

      <namelist name ="glac_nml">
      conserve_glacier_mass = .true.
      lm2 = .true.
      albedo_to_use = 'brdf-params'
      </namelist>

      <namelist name="harvesting_nml">
       do_harvesting          = .TRUE.
       grazing_intensity_past = 18.25 ! roughly 5% of biomass per day
       grazing_residue        = 0.1
       grazing_frequency      = 'daily'
       min_lai_for_grazing_past = 1.0
       frac_wood_wasted_harv  = 0.25
       frac_wood_wasted_clear = 0.25
       crop_schedule          = 'prescribed'
       crop_schedule_file     = '$(CMIP6_ARCHIVE_ROOT)/ESM4/LAND/agriculture/NewGrid_2by25_All_26crops_f1p_3d_doy_v20171107.nc'
       c3_crop_species        = 'c3grass'
       c4_crop_species        = 'c4grass'
       crop_seed_density      = 0.1
      </namelist>

      <namelist name ="lake_data_nml">
       lake_to_use = 'from-rivers'
       lake_specific_width = .false.
       large_lake_sill_width = 800.
       num_l = 20,
       dat_emis_dry = 1.,
       dat_emis_sat = 1.,
       dat_heat_capacity_ref = 0.,
       f_iso_liq = 0.025, 0.01
       f_iso_ice = 0.025, 0.01
       f_vol_liq = 0., 0.
       f_vol_ice = 0., 0.
       f_geo_liq = 0., 0.
       f_geo_ice = 0., 0.
       dry_lake_depth_frac = 0.5
       dat_z0_momentum(1)     = 1.4e-4
       dat_z0_momentum_ice(1) = 1.4e-4
       k_over_B_ice           = 0.25
       geothermal_heat_flux_constant = 0.065
      </namelist>

      <namelist name ="lake_nml">
       albedo_to_use = 'brdf-params'
       float_ice_to_top = .true.
       lake_depth_max = 1.e10
       max_plain_slope = 16.e-5
       K_z_background  = 15.e-5
      </namelist>

      <namelist name ="land_conservation_nml">
       do_check_conservation = .FALSE.
      </namelist>

      <namelist name ="land_debug_nml">
       watch_point = 0, 0, 0, 1
      </namelist>

      <namelist name="land_dust_nml">
       input_file_name  = "INPUT/dust_source.nc",
       input_field_name = "source_nomask",
       lai_thresh=0.1
       sai_thresh=0.01
       sliq_thresh=0.3
       sice_thresh=0.025
       snow_thresh=0.01
       u_min=1.
       u_min_past=6.
       frac_bare_past=0.0325
       u_min_crop=8.
       frac_bare_crop=0.0325
       dependency_soil_moisture=.false.
       ch=1.5e-9
      </namelist>

      <namelist name="land_io_nml">
       new_land_io = .FALSE.
      </namelist>

      <namelist name ="land_model_nml">
       layout   = $lnd_layout
       io_layout = $lnd_io_layout
       tau_snow_T_adj = 604800.
       prohibit_negative_canopy_water = .TRUE.
       min_frac = 1e-8
       con_fac_small = 0.0
       con_fac_large = 1.0e2
       max_canopy_water_steps = 4
       improve_solution = .TRUE.
       npes_io_group = 8
       lw_delta_T_thresh = 50.
      </namelist>

      <namelist name ="landuse_nml">
       do_landuse_change = .FALSE.
       data_type   = 'luh2'
       input_file  = '$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/landuse/LUH2/v2.0h/extras/zero-transitions.v20170711.nc'
       state_file  = '$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/landuse/LUH2/v2.0h/extras/state-1850-nosecd.v20170711.nc'
       static_file = '$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/landuse/LUH2/v2.0h/landfrac.nc'
       distribute_transitions = 'min-n-tiles'
       rangeland_is_pasture = .TRUE.
      </namelist>

      <namelist name ="photosynthesis_nml">
       photosynthesis_to_use = 'leuning'
       co2_to_use_for_photosynthesis ='interactive'
       co2_for_photosynthesis = 284.262e-6
       water_stress_to_use = 'plant-hydraulics'
      </namelist>

      <namelist name ="river_nml">
       dt_slow     = 86400.
       land_area_called_cellarea = .true.
       all_big_outlet_ctn0 = .true.
       ave_DHG_exp = 0.55, 0.45, 0.0
       ave_DHG_coef = 7.5, 0.3, 0.444444444
       ave_AAS_exp = 0.26, 0.40, 0.34
      </namelist>

      <namelist name ="river_physics_nml">
       lake_sfc_w_min = 10.
       prohibit_cold_ice_outflow = .FALSE.
      </namelist>

      <namelist name ="snow_data_nml">
        emis_snow_max = 1.
        emis_snow_min = 1.
        z0_momentum = 0.01
        num_l = 5
        dz = 0.05, 0.2, 0.5, 0.2, 0.05, 0.0, 0.0, 0.0, 0.0, 0.0
        f_iso_cold = 0.92, 0.58
        f_vol_cold = 0.06, 0.08
        f_geo_cold = 0.00, 0.00
        f_iso_warm = 0.77, 0.43
        f_vol_warm = 0.06, 0.08
        f_geo_warm = 0.00, 0.00
        depth_crit = 0.0125
        thermal_cond_ref = 0.09
        distinct_snow_on_glacier = .TRUE.
        f_iso_cold_on_glacier = 0.92, 0.68
        f_vol_cold_on_glacier = 0.06, 0.08
        f_geo_cold_on_glacier = 0.00, 0.00
        f_iso_warm_on_glacier = 0.77, 0.43
        f_vol_warm_on_glacier = 0.06, 0.08
        f_geo_warm_on_glacier = 0.00, 0.00
      </namelist>

      <namelist name ="snow_nml">
       min_snow_mass = 1.e-7
       albedo_to_use = 'brdf-params'
       snow_density = 250.
      </namelist>

      <namelist name="soil_carbon_nml">
       soil_carbon_model_to_use = 'CORPSE'  !Nitrogen turned off
       vmaxref=4.5,0.20,4.5     !Vmax at reference temperature (yr-1)
       Ea=6e3,40e3,6e3
       kC=3*.015
       minMicrobeC=1e-3
       Tmic=0.25
       eup=.6,.05,.6
       protection_rate=0.0
       protection_species=0.2,0.0002,1.0
       tProtected=75.0
       soilMaxCohorts=2
       gas_diffusion_exp=0.6
       substrate_diffusion_exp=1.5
       et=0.8
       C_leaching_solubility=0.1 !0.3 
       DOC_deposition_rate=1.0
       C_flavor_relative_solubility=1.0,0.2,1.0
       protected_relative_solubility=0.0
       litterDensity=22.0
       min_anaerobic_resp_factor=0.1
       microbe_driven_protection=.FALSE.
       use_rhizosphere_cohort=.TRUE.  ! Use just 2 cohorts: rhiz and bulk
      </namelist>

      <namelist name ="soil_data_nml">
       geohydrology_to_use    = 'hill'
       use_comp_for_ic        = .true.
       use_comp_for_push      = .true.       ! jgj to match CM4B #814 (default is false)
       use_tau_fix            = .false.
       use_sat_fix            = .true.
       use_alt3_soil_hydraulics = .true.
       gw_scale_soil_depth  = 0.1666667
       gw_scale_perm        = 1.0
       gw_scale_relief      = 0.5
       aspect           = 0.01
       k0_macro_z       = 0.0
       k0_macro_x       = 1.0
       freeze_factor    = 1.5
       comp             = 1e-4
       num_l            = 20
       dz = 0.020, 0.040, 0.040, 0.050, 0.05, 0.100, 0.10, 0.200, 0.200, 0.2,
            0.40,  0.40,  0.40,  0.4,   0.4,   1.0,   1.0,  1.0,  1.5,   2.5
       soil_type_file          = "INPUT/soil_type.nc"
       input_cover_types       =  1,       2,       3,       4,       5,       6,       7,       8,       9,       10,      11,      12,      13,       14
       tile_names              =  'hec',   'sic',   'lic',   'sicl',  'cl',    'si',    'sil',   'sac',   'l',     'sacl',  'sal',  'ls',     's',     'u'
       dat_w_sat               =  0.468,   0.468,   0.468,   0.464,   0.465,   0.476,   0.476,   0.406,   0.439,   0.404,   0.434,   0.421,   0.339,   0.439
       dat_k_sat_ref           =  0.00097, 0.0013,  0.00097, 0.002,   0.0024,  0.0028,  0.0028,  0.0072,  0.0033,  0.0045,  0.0052,  0.014,   0.047,   0.0033
       dat_psi_sat_ref         = -0.47,   -0.32,   -0.47,   -0.62,   -0.26,   -0.76,   -0.76,   -0.098,  -0.35,   -0.13,   -0.14,   -0.036   -0.069,  -0.35
       dat_chb                 =  12.0,    10.0,    12.0,    8.7,     8.2,     5.3,     5.3,     11.0,    5.2,     6.8,     4.7,     4.3,     2.8,     5.2
       dat_heat_capacity_dry   =  1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6,   1.1e6
       dat_thermal_cond_dry    =  0.21,    0.21,    0.21,    0.21,    0.21,    0.21,    0.21,    0.21,    0.21,    0.21,    0.21,    0.21,    0.14,    0.21
       dat_thermal_cond_sat    =  1.5,     1.5,     1.5,     1.5,     1.5,     1.5,     1.5,     1.5,     1.5,     1.5,     1.5,     1.5,     2.3,     1.5
       dat_thermal_cond_exp    =  6,       6,       6,       5,       5,       5,       5,       6,       5,       5,       5,       5,       3,       5
       dat_thermal_cond_scale  =  10,      10,      10,      0.5,     0.5,     0.5,     0.5,     10,      0.5,     0.5,     0.5,     0.5,     15,      0.5
       dat_thermal_cond_weight =  0.7,     0.7,     0.7,     0.7,     0.7,     0.7,     0.7,     0.7,     0.7,     0.7,     0.7,     0.7,     0.2,     0.7
       dat_emis_dry            =  1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0
       dat_emis_sat            =  1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0,     1.0
       dat_tf_depr             =  2.0,     2.0,     2.0,     2.0,     2.0,     2.0,     2.0,     2.0,     2.0,     2.0,     2.0,     2.0,     2.0,     2.0
       dat_z0_momentum         =  0.01,    0.01,    0.01,    0.01,    0.01,    0.01,    0.01,    0.01,    0.01,    0.01,    0.01,    0.01,    0.01,    0.01
       Dpsi_min_const      = -1.e12
       K_min               = 1.e-12
       geothermal_heat_flux_constant = 0.065
       retro_a0N1 = .true.
      </namelist>

      <namelist name ="soil_nml">
       init_wtdep    = 10.
       albedo_to_use = 'brdf-maps'
       active_layer_drainage_acceleration = 1.
       gw_flux_max   = 0.001
       lrunf_from_div = .false.
       cold_infilt   = .false.
       use_depth_to_wt_4 = .true.
       layer_for_gw_switch = 16
       bottom_up_cold_infilt = .true.
       cold_depth = 3.0
       bwood_macinf = 1.
       allow_neg_wl = .true.
       prohibit_negative_water_div = .true.
      </namelist>

      <namelist name ="static_veg_nml">
       use_static_veg = .FALSE.
      </namelist>

      <namelist name ="topo_rough_nml">
       use_topo_rough    = .true.
       max_topo_rough    = 100.0 
       topo_rough_factor = 0.01
       topo_rough_source = 'input',
       topo_rough_file = 'INPUT/topo_rough_land.nc',                 
      </namelist>

      <namelist name="uptake_nml">
       uptake_to_use = 'darcy2d-linearized'
       uptake_oneway = .true.
      </namelist>

      <namelist name ="vegn_data_nml">
       vegn_to_use = 'uniform'
       K1=10
       K2=0.1

       critical_root_density = 0.0
       tau_drip_s     = 259200.0
       t_transp_min = 268.

       phen_ev2 = 0.925
       cmc_eps = 0.01
       do_ppa = .TRUE.
       mcv_min = 0.0
       mcv_lai = 0.0

       nat_mortality_splits_tiles = .TRUE.
       nsc_target_to_use = 'from-canopy-blmax'
       nsc_starv_frac = 0.0
       NSC_merge_rel = 9999.0
       snow_masking_to_use = 'none'

       ! Nitrogen parameters follow:
       N_fixer_C_efficiency  = 0.2  ! Phillips, 1980: Per plant allocation, about 6 gC/gN
       myc_scav_C_efficiency = 0.5
       myc_mine_C_efficiency = 0.5
       N_limits_live_biomass = .FALSE.
       mycorrhizal_turnover_time = 1.0
       N_fixer_turnover_time = 0.1
       excess_stored_N_leakage_rate = 1.5e-1
       et_myc = 0.5
       N_fix_Tdep_Houlton = .TRUE.
       
       sai_rad = .TRUE.
       sai_cover = .TRUE.
       treeline_thresh_T = -9999.0
       treeline_season_length = -9999.0

       permafrost_depth_thresh = 0.3
      </namelist>

      <namelist name ="vegn_nml">
       init_Tv = 288.0
       init_n_cohorts = 6
       init_cohort_species =  'c3grass', 'c4grass', 'acer', 'picea', 'larix', 'prioria'
       init_cohort_nindivs =   0.1,       0.1,       1.0,    1.0,      1.0,    1.0
       init_cohort_height  =   2.5e-3,    2.5e-3,    0.5,    0.5,      0.5,    0.5
       rad_to_use = 'two-stream'
       snow_rad_to_use = 'paint-leaves'
       do_cohort_dynamics   = .TRUE.
       do_patch_disturbance = .TRUE.
       do_phenology         = .TRUE.
       do_biogeography      = .FALSE.
       seed_transport_to_use = 'diffuse'
      </namelist>


<!-- from OM4_data -->
     <namelist name="MOM_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag_MOM6'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override'
     </namelist>
      <namelist name="ice_albedo_nml">
            t_range = 10.
      </namelist>

     <namelist name="SIS_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag_SIS2'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_override'
     </namelist>

      <namelist name ="ice_spec_nml">
      mcm_ice = .false.
      do_leads = .false.
      minimum_ice_concentration = 0.5
      minimum_ice_thickness = 0.1
      sst_degk = .true.
      </namelist>
 
      <namelist name="icebergs_nml">
        really_debug=.FALSE.
        debug=.FALSE.
        verbose=.FALSE.
        verbose_hrs=7200
        use_operator_splitting=.TRUE.
        bergy_bit_erosion_fraction=0.0
        sicn_shift=0.1
        parallel_reprod=.TRUE.
        traj_sample_hrs=0
        add_weight_to_ocean=.false.	
        make_calving_reproduce=.true.
        tidal_drift = 0.005
        coastal_drift = 0.001
      </namelist>
      <namelist name="ocean_albedo_nml">
            ocean_albedo_option = 5
      </namelist>
      <namelist name="ocean_rough_nml">
            rough_scheme = 'coare3.5'
      </namelist>


<!-- GENERIC TRACERS -->
      <namelist name="generic_COBALT_nml">
       co2_calc = 'mocsy'
       debug = .false.
       do_nh3_atm_ocean_exchange = .true.  !turn on exchange of NH3
       scheme_no3_nh4_lim        = 2       !update nh4/no3 uptake scheme
       scheme_nitrif             = 3       !new nitrification scheme
      </namelist>

      <namelist name="generic_tracer_nml">
       do_generic_tracer=.true.
       do_generic_CFC=.false.
       do_generic_COBALT=.true.
       do_generic_TOPAZ=.false.
       do_generic_BLING=.false.
       force_update_fluxes=.true. !This has to be set for THERMO_SPANS_COUPLING to work
      </namelist>


<!-- SHARED -->
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = 1,1,1,0,0,0,
        calendar = 'NOLEAP'
        dt_atmos = 1800,
        dt_cpld  = 3600,
        use_lag_fluxes = .true.
        concurrent = .true.
        do_ocean = .true.
        ocean_npes = $ocn_ranks
        atmos_npes = $atm_ranks
        atmos_nthreads = $atmos_threads
        ncores_per_node = $(NCORE_PER_NODE)
        use_hyper_thread=.T.
      </namelist>

      <namelist name="diag_manager_nml">
        max_axes = 400,
        max_files = 400,
        max_num_axis_sets = 400,
        max_input_fields = 2000
        max_output_fields = 5000
        mix_snapshot_average_fields=.false.
        max_field_attributes=4
        max_axis_attributes=6
        issue_oor_warnings = .false.
      </namelist>

      <namelist name="flux_exchange_nml">
        nblocks = $nyblock
        divert_stocks_report = .TRUE.
      </namelist>

      <namelist name="fms_io_nml">
        fms_netcdf_restart=.true.
        threading_read='multi'
        max_files_r = 800
        max_files_w = 800
      </namelist>

      <namelist name="fms_nml">
        clock_grain='ROUTINE'
        clock_flags='NONE'
        domains_stack_size = 7000000
        stack_size =0
      </namelist>

      <namelist name="frecheck_nml">
         ! start_date =  0001,01,01,0,0,0, !This is Current Model Time from coupler.res in the initCond, frecheck needs it, but it does not open coupler.res
      </namelist>

      <namelist name="mpp_io_nml">
        cf_compliance = .true.
      </namelist>

      <namelist name ="surface_flux_nml">
        gust_min = 1.e-10
        raoult_sat_vap = .true.
      </namelist>

      <namelist name="xgrid_nml">
        make_exchange_reproduce = .true.
        interp_method = 'second_order'
      </namelist>

<!-- MOM and SIS overrides -->
      <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override USE_generic_tracer = True
#override CHL_FROM_FILE = False
MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 720
#override NJGLOBAL = 576
#override MIN_OCN_INTERTIAL_H = 2.

#override ICE_STATS_INTERVAL = 30
#override ICE_DELTA_EDD_R_ICE = 1.5
#override ICE_DELTA_EDD_R_SNOW = 1.5
#override ICE_DELTA_EDD_R_POND = 1.5
SIS_OVERRIDE_EOF

     ]]></csh>

<!-- DATA TABLES by component -->
      <dataTable>
      <!--COBALT 1860 data table, o2 gas exchange data table, CMIP6 Jan 1 1850 co2 data table -->
      <!-- Note:  for development: override pcairco2 with CMIP6 Jan 1 1850 value -->
# jgj 2016/07/08 COBALT 1860 data table with TOPAZ Fe datasets                                                                    
#                                                                                                                                 
"OCN", "runoff_no3_flux_ice_ocn",   "NO3_CONC",   "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ldon_flux_ice_ocn",  "LDON_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_sldon_flux_ice_ocn", "SLDON_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_srdon_flux_ice_ocn", "SRDON_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ndet_flux_ice_ocn",  "NDET_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_po4_flux_ice_ocn",   "PO4_CONC",   "./INPUT/news_nutrients.nc","none",1.65e-3
"OCN", "runoff_ldop_flux_ice_ocn",  "LDOP_CONC",  "./INPUT/news_nutrients.nc","none",1.65e-3
"OCN", "runoff_sldop_flux_ice_ocn", "SLDOP_CONC", "./INPUT/news_nutrients.nc","none",1.65e-3
"OCN", "runoff_srdop_flux_ice_ocn", "SRDOP_CONC", "./INPUT/news_nutrients.nc","none",1.65e-3
"OCN", "runoff_fed_flux_ice_ocn",   "FED_CONC",   "./INPUT/river_iron.nc",    "none",1.0e-3
"OCN", "runoff_alk_flux_ice_ocn",  "",    "",                             "none",  0.42e-3
"OCN", "runoff_dic_flux_ice_ocn",  "",    "",                             "none",  0.32e-3
"OCN", "runoff_lith_flux_ice_ocn", ""  , ""                             , "none" , 13.0e-3
#
# jgj data table for o2 gas exchange
#
"ATM", "o2_flux_pcair_atm", ""         , ""                             , "none" , 0.214
#
# jgj 2016/11/29 co2 data table (Jan 1 1850 from CMIP6 co2 gbl file: /lustre/f1/unswept/Huan.Guo/awg/input/cmip6/co2_gblannualdata_2016)
#
## restoring co2 data override set to CMIP6 Jan 1 1850 value 284.262e-6
"ATM" , "co2_dvmr_restore", "",     "", "none",  284.262e-06
      </dataTable>  


<!-- FIELD TABLES by component -->
<!-- atmos, land, atmos_chem 
     ESM4 CMIP6 Jan 1 1850 co2 field table 
     COBALT field table (2018/05/09 GLODAPv2 Preind DIC)
 -->
      <fieldTable>
# specific humidity for moist runs
 "TRACER", "atmos_mod", "sphum"
           "longname", "specific humidity"
           "units", "kg/kg"
	   "profile_type", "fixed", "surface_value=3.e-6" /

# prognostic cloud scheme tracers
  "TRACER", "atmos_mod", "liq_wat"
            "longname", "cloud liquid specific humidity"
            "units", "kg/kg" /
  "TRACER", "atmos_mod", "ice_wat"
            "longname", "cloud ice water specific humidity"
            "units", "kg/kg" /
  "TRACER", "atmos_mod", "cld_amt"
            "longname", "cloud fraction"
            "units", "none" /
  "TRACER", "atmos_mod", "liq_drp"
            "longname", "cloud droplet"
            "units", "none" /

# required by LM3
  "TRACER", "land_mod", "sphum"
           "longname",     "specific humidity"
            "units",        "kg/kg" /
 "TRACER", "land_mod",     "dust1"
           "longname",     "dust1 tracer"
           "units",        "mmr" /
 "TRACER", "land_mod",     "dust2"
           "longname",     "dust2 tracer"
           "units",        "mmr" /
 "TRACER", "land_mod",     "dust3"
           "longname",     "dust3 tracer"
           "units",        "mmr" /
 "TRACER", "land_mod",     "dust4"
           "longname",     "dust4 tracer"
           "units",        "mmr" /
 "TRACER", "land_mod",     "dust5"
           "longname",     "dust5 tracer"
           "units",        "mmr" /
  "TRACER", "land_mod",     "co2"
           "longname",     "carbon dioxide"
           "units",        "kg/kg" /
# land field table needed for any coupler flux exchange
# otherwise the model crashes in flux_exchange
  "TRACER", "land_mod",     "nh4"
           "longname",     "nh4"
           "units",        "NA" /
  "TRACER", "land_mod",     "hno3"
           "longname",     "hno3"
           "units",        "NA" /
  "TRACER", "land_mod",     "nh3"
           "longname",     "nh3"
           "units",        "NA" /

# atm chem
 "TRACER", "atmos_mod", "SOA"
           "longname", "SOA tracer"
           "units", "mmr"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=0.89,frac_pm25=0.96,frac_pm10=1."
           "profile_type","fixed","surface_value=1.e-32"
           "dry_deposition","williams_wind_driven","surfr=200.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.3, frac_incloud_uw=0.4, frac_incloud_snow=0., alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=omphilic, name_in_clim_mod=organic_carbon" /
#
 "TRACER", "atmos_mod", "dust1"
           "longname", "dust1 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=0.1e-6, rb=1.0e-6, dustref=0.75e-6, dustden=2500.0"
           "emission", "lm3", "source_fraction=0.05"
           "convection", "all"
           "dry_deposition","williams_wind_driven","surfr=200.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.2, frac_incloud_uw=0.3, frac_incloud_snow=0.05, alphar=0.001, alphas=0.001"
           "chem_param","aerosol","frac_pm1=0.444,frac_pm25=1.,frac_pm10=1."
           "radiative_param", "online", "name_in_rad_mod=dust1, name_in_clim_mod=small_dust"/
 "TRACER", "atmos_mod", "dust2"
           "longname", "dust2 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=1.0e-6, rb=2.0e-6, dustref=1.5e-6, dustden=2650.0"
           "emission", "lm3", "source_fraction=0.15"
           "convection", "all"
           "dry_deposition","williams_wind_driven","surfr=100.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.2, frac_incloud_uw=0.3, frac_incloud_snow=0.05, alphar=0.001, alphas=0.001"
           "chem_param","aerosol","frac_pm1=0.,frac_pm25=0.25,frac_pm10=1."
           "radiative_param", "online", "name_in_rad_mod=dust2, name_in_clim_mod=large_dust"/
 "TRACER", "atmos_mod", "dust3"
           "longname", "dust3 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=2.0e-6, rb=3.0e-6, dustref=2.5e-6, dustden=2650.0"
           "emission", "lm3", "source_fraction=0.3"
           "convection", "all"
           "dry_deposition","williams_wind_driven","surfr=100.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.2, frac_incloud_uw=0.3, frac_incloud_snow=0.05, alphar=0.001, alphas=0.001"
           "chem_param","aerosol","frac_pm1=0.,frac_pm25=0.,frac_pm10=1."
           "radiative_param", "online", "name_in_rad_mod=dust3, name_in_clim_mod=large_dust"/
 "TRACER", "atmos_mod", "dust4"
           "longname", "dust4 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=3.0e-6, rb=6.0e-6, dustref=4.5e-6, dustden=2650.0"
           "emission", "lm3", "source_fraction=0.27"
           "convection", "all"
           "dry_deposition","williams_wind_driven","surfr=100.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.2, frac_incloud_uw=0.3, frac_incloud_snow=0.05, alphar=0.001, alphas=0.001"
           "chem_param","aerosol","frac_pm1=0.,frac_pm25=0.,frac_pm10=0.667"
           "radiative_param", "online", "name_in_rad_mod=dust4, name_in_clim_mod=large_dust"/
 "TRACER", "atmos_mod", "dust5"
           "longname", "dust5 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=6.0e-6, rb=10.0e-6, dustref=8e-6, dustden=2650.0"
           "emission", "lm3", "source_fraction=0.23"
           "convection", "all"
           "dry_deposition","williams_wind_driven","surfr=100.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.2, frac_incloud_uw=0.3, frac_incloud_snow=0.05, alphar=0.001, alphas=0.001"
           "chem_param","aerosol","frac_pm1=0.,frac_pm25=0.,frac_pm10=0."
           "radiative_param", "online", "name_in_rad_mod=dust5, name_in_clim_mod=large_dust"/
#
"tracer","atmos_mod","so4"
"longname","SO4"
"units", "VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","aerosol_below","frac_incloud=0.3, frac_incloud_uw=0.4, frac_incloud_snowh=0.1, frac_incloud_snow=0., alphar=0.001, alphas=0.001"
"dry_deposition","williams_wind_driven","surfr=200.,icer=1200."	
"convection", "all"
"radiative_param", "online", "name_in_rad_mod=so4, name_in_clim_mod=sulfate, scale_factor=3.31"
"cmip","cmip6","cmip_name=sulfate,cmip_longname=sulfate,cmip_longname2=SO4"
"chem_param","aerosol","mw=96.,frac_pm1=0.9,frac_pm25=0.97,frac_pm10=1."
/
#
 "TRACER", "atmos_mod", "ssalt1"
           "longname", "ssalt 1 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=0.1e-6, rb=0.5e-6, ssaltref=0.3e-6, ssaltden=2200.0"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=1.0,frac_pm25=1.0,frac_pm10=1."
           "dry_deposition","williams_wind_driven","surfr=200.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.2, frac_incloud_uw=0.4, alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=seasalt1, name_in_clim_mod=sea_salt"/
 "TRACER", "atmos_mod", "ssalt2"
           "longname", "ssalt 2 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=0.5e-6, rb=1.0e-6, ssaltref=0.75e-6, ssaltden=2200.0"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=0.0,frac_pm25=1.0,frac_pm10=1."
           "dry_deposition","williams_wind_driven","surfr=100.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.3, frac_incloud_uw=0.4, alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=seasalt2, name_in_clim_mod=sea_salt"/
 "TRACER", "atmos_mod", "ssalt3"
           "longname", "ssalt 3 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=1.0e-6, rb=2.5e-6, ssaltref=1.75e-6, ssaltden=2200.0"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=0.0,frac_pm25=0.167,frac_pm10=1."
           "dry_deposition","williams_wind_driven","surfr=50.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.5, frac_incloud_uw=0.8, alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=seasalt3, name_in_clim_mod=sea_salt"/
 "TRACER", "atmos_mod", "ssalt4"
           "longname", "ssalt 4 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=2.5e-6, rb=5.0e-6, ssaltref=3.75e-6, ssaltden=2200.0"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=0.0,frac_pm25=0.,frac_pm10=1."
           "dry_deposition","williams_wind_driven","surfr=50.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.5, frac_incloud_uw=0.8, alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=seasalt4, name_in_clim_mod=sea_salt"/
 "TRACER", "atmos_mod", "ssalt5"
           "longname", "ssalt 5 tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "parameters", "all", "ra=5.0e-6, rb=10.0e-6, ssaltref=7.5e-6, ssaltden=2200.0"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=0.0,frac_pm25=0.,frac_pm10=0."
           "dry_deposition","williams_wind_driven","surfr=50.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.5, frac_incloud_uw=0.8, alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=seasalt5, name_in_clim_mod=sea_salt"/
#
 "TRACER", "atmos_mod", "bcphob"
           "longname", "bcphob tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=0.981,frac_pm25=0.995,frac_pm10=1."
           "dry_deposition","williams_wind_driven","surfr=200.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0., alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=bcphobic, name_in_clim_mod=black_carbon"/
 "TRACER", "atmos_mod", "bcphil"
           "longname", "bcphil tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=0.981,frac_pm25=0.995,frac_pm10=1."
           "dry_deposition","williams_wind_driven","surfr=200.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.2, frac_incloud_uw=0.3, frac_incloud_snow=0., alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=bcphilic, name_in_clim_mod=black_carbon"/
 "TRACER", "atmos_mod", "omphob"
           "longname", "omphob tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=0.89,frac_pm25=0.960,frac_pm10=1."
           "dry_deposition","williams_wind_driven","surfr=200.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0., alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=omphobic, name_in_clim_mod=organic_carbon"/
 "TRACER", "atmos_mod", "omphil"
           "longname", "omphil tracer"
           "units", "mmr"
           "profile_type","fixed","surface_value=1.e-32"
           "convection", "all"
           "chem_param","aerosol","frac_pm1=0.89,frac_pm25=0.960,frac_pm10=1."
            "dry_deposition","williams_wind_driven","surfr=200.,icer=1200."
           "wet_deposition","aerosol_below","frac_incloud=0.3, frac_incloud_uw=0.4, frac_incloud_snow=0., alphar=0.001, alphas=0.001"
           "radiative_param", "online", "name_in_rad_mod=omphilic, name_in_clim_mod=organic_carbon"/

#
"tracer","atmos_mod","radon"
"longname","radon-222"
"units","VMR*1E21"
"profile_type","fixed","surface_value=0.0E+00"
"convection","all"
/

"tracer","atmos_mod","co"
"longname","CO"
"cmip","cmip6","cmip_name=carbon_monoxide"
"units","VMR"
"emissions", "file"
"emissions3d", "file"
"dry_deposition", "file"
"init_conc", "file"
"convection","all"
/

"tracer","atmos_mod","ch2o"
"longname","CH2O"
"cmip","cmip6","cmip_name=Formaldehyde,cmip_longname=Formaldehyde"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"emissions", "file"
"emissions3d", "file"
"wet_deposition","henry_below_noice","henry=6.22e-2,dependence=6460."
"dry_deposition", "file"
"convection","all"
/

"tracer","atmos_mod","oh"
          "longname","OH"
          "cmip","cmip6","cmip_name=hydroxyl_radical"
          "units","VMR"
          "tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","o3"
"longname","O3"
"cmip","cmip6","cmip_name=ozone,cmip_longname=Ozone"
"units","VMR"
"chem_param","gas","mw=48."
"dry_deposition","file","diurnal=yes"
"init_conc","file"
"convection","all"
/

"tracer","atmos_mod","o"
"longname","O"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","o1d"
"longname","O1D"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","n2o"
"longname","N2O"
"units","VMR"
"cmip","cmip6","cmip_name=nitrous_oxide"
"init_conc","file"
"convection","all"
"lower_bound","file","file=n2o_gblannualdata,factor=1.e-9,fixed_year=1850."
/

"tracer","atmos_mod","n"
"longname","N"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","no"
"longname","NO"
"units","VMR"
"cmip","cmip6","cmip_name=nitrogen_oxide"
"chem_param","gas","nb_N_ox=1,mw=30."
"emissions","file"
"emissions3d", "file"
"dry_deposition","file"
"init_conc","file"
"aircraft_emis","file","name=no"
"convection","all"
/

"tracer","atmos_mod","no2"
"longname","NO2"
"units","VMR"
"cmip","cmip6","cmip_name=nitrogen_dioxide"
"chem_param","gas","nb_N_ox=1,mw=46."
"emissions","none"
"dry_deposition","file"
"init_conc","file"
"convection","all"
/

"tracer","atmos_mod","no3"
"longname","NO3"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"convection","all"
/

"tracer","atmos_mod","hno3"
"longname","HNO3"
"units","VMR"
"cmip","cmip6","cmip_name=nitric_acid"
"chem_param","gas","nb_N_ox=1,mw=63."
"wet_deposition","henry_below","henry=3.19e6,dependence=8700."
"dry_deposition","file"
"init_conc","file"
"convection","all"
/

"tracer","atmos_mod","ho2no2"
"longname","HO2NO2"
"units","VMR"
"chem_param","gas","nb_N_ox=1,mw=79."
"dry_deposition","file","name=hno4"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=1.97e-1,dependence=0."
"convection","all"
/

"tracer","atmos_mod","n2o5"
"longname","N2O5"
"units","VMR"
"chem_param","gas","nb_N_ox=2,mw=108."
"init_conc","file"
"dry_deposition","file"
"convection","all"
/

"tracer","atmos_mod","ch4"
"longname","CH4"
"units","VMR"
"cmip","cmip6","cmip_name=methane"
"dry_deposition","file"
"init_conc","file"
"convection","all"
"lower_bound","file","file=ch4_gblannualdata,factor=1.e-9,fixed_year=1850."
/

"tracer","atmos_mod","ch3o2"
"longname","CH3O2"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ch3ooh"
"longname","CH3OOH"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=2.24e-3,dependence=5610."
"dry_deposition","file"
"convection","all"
/

"tracer","atmos_mod","ho2"
"longname","HO2"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","h2o2"
"longname","H2O2"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=7.35e-1,dependence=6620."
"dry_deposition","file"
"convection","all"
/

"tracer","atmos_mod","c3h6"
"longname","C3H6"
"units","VMR"
"cmip","cmip6","cmip_name=ethene"
"profile_type","fixed","surface_value=1.e-20"
"emissions","file"
"emissions3d","file"
"convection","all"
/

"tracer","atmos_mod","isop"
"longname","isoprene(C5H8)"
"units","VMR"
"cmip","cmip6","cmip_name=isoprene,cmip_longname=Isoprene"
"profile_type","fixed","surface_value=1.e-20"
"emissions","file","name=isoprene"
"emissions3d","file","name=isoprene"
"xactive_emissions","yes"
"convection","all"
/

"tracer","atmos_mod","po2"
"longname","PO2(C3H6OHO2)"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ch3cho"
"longname","CH3CHO"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=1.38e-4,dependence=5600."
"convection","all"
/

"tracer","atmos_mod","pooh"
"longname","POOH(C3H6OHOOH)"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ch3co3"
"longname","CH3CO3"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ch3coooh"
"longname","CH3COOOH"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","pan"
"longname","PAN(CH3CO3NO2)"
"cmip","cmip6","cmip_name=peroxyacetyl_nitrate"
"units","VMR"
"chem_param","gas","nb_N_ox=1,mw=121."
"dry_deposition","file"
"init_conc","file"
"convection","all"
/

"tracer","atmos_mod","c2h6"
"longname","C2H6"
"cmip","cmip6","cmip_name=ethane"
"units","VMR"
"emissions", "file"
"emissions3d","file"
"init_conc","file"
"convection","all"
/

"tracer","atmos_mod","c2h4"
"longname","C2H4"
"units","VMR"
"cmip","cmip6","cmip_name=ethene"
"profile_type","fixed","surface_value=1.e-20"
"emissions", "file"
"emissions3d", "file"
"convection","all"
/

"tracer","atmos_mod","c4h10"
"longname","C4H10"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"emissions","file"
"emissions3d","file"
"convection","all"
/

"tracer","atmos_mod","mpan"
"longname","MPAN(CH2CCH3CO3NO2)"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"dry_deposition","file","name=pmn"
"convection","all"
/

"tracer","atmos_mod","isopo2"
"longname","ISOPO2(HOCH2COOCH3CHCH2)"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","mvk"
"longname","MVK(CH2CHCOCH3)"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=2.07e-4,dependence=7800."
"convection","all"
/

"tracer","atmos_mod","macr"
"longname","MACR(CH2CCH3CHO)"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=4.24e-5,dependence=5300."
"convection","all"
/

"tracer","atmos_mod","macro2"
"longname","MACRO2(CH3COCHO2CH2OH)"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","macrooh"
"longname","MACROOH(CH3COCHOOHCH2OH)"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","c2h5o2"
"longname","C2H5O2"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","c2h5ooh"
"longname","C2H5OOH"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","c10h16"
"longname","C10H16"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"emissions","file","name=terpenes"
"emissions3d","file","name=terpenes"
"xactive_emissions","yes"
"convection","all"
/

"tracer","atmos_mod","c3h8"
"longname","C3H8"
"units","VMR"
"cmip","cmip6","cmip_name=propane"
"profile_type","fixed","surface_value=1.e-20"
"emissions","file"
"emissions3d","file"
"convection","all"
/

"tracer","atmos_mod","c3h7o2"
"longname","C3H7O2"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","c3h7ooh"
"longname","C3H7OOH"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ch3coch3"
"longname","CH3COCH3"
"units","VMR"
"cmip","cmip6","cmip_name=acetone"
"emissions","file","name=acet"
"emissions3d","file","name=acet"
"dry_deposition","file"
"init_conc","file"
"convection","all"
/

"tracer","atmos_mod","ch3oh"
"longname","CH3OH"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"emissions", "file"
"emissions3d", "file"
"wet_deposition","henry_below_noice","henry=2.24e-3,dependence=5610."
"dry_deposition", "file", "name=ch3ooh"
"convection","all"
/

"tracer","atmos_mod","c2h5oh"
"longname","C2H5OH"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"emissions", "file"
"emissions3d", "file"
"wet_deposition","henry_below_noice","henry=2.24e-3,dependence=5610."
"dry_deposition", "file", "name=ch3ooh"
"convection","all"
/

"tracer","atmos_mod","glyald"
"longname","GLYALD(HOCH2CHO)"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=4.05e-1,dependence=4600."
"dry_deposition", "file", "name=glyc"
"convection","all"
/

"tracer","atmos_mod","hyac"
"longname","HYAC(CH3COCH2OH)"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=6.22e-2,dependence=6460."
"dry_deposition", "file", "name=hac"
"convection","all"
/

"tracer","atmos_mod","eo2"
"longname","EO2(HOCH2CH2O2)"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","eo"
"longname","EO2(HOCH2CH2O)"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","isopooh"
"longname","ISOPOOH(HOCH2COOHCH3CHCH2)"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=3.19e6,dependence=8700."
"dry_deposition","file","name=rip"
"convection","all"
/

"tracer","atmos_mod","h2"
"longname","H2"
"units","VMR"
"emissions", "file"
"emissions3d","file"
"profile_type","fixed","surface_value=1.e-20"
"dry_deposition","file","name=co"
"convection","all"
/

"tracer","atmos_mod","so2"
"longname","SO2"
"cmip","cmip6","cmip_name=sulfur_dioxide"
"chem_param","gas","mw=64."
"units","VMR"
"emissions", "file"
"emissions3d", "file","file=emissions3d.SO2.2000.v4plev.nc"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice_so2","henry=1.49e-2,dependence=5080."
"dry_deposition","file","name=so2"
"aircraft_emis","file"
"convection","all"
/

"tracer","atmos_mod","dms"
"longname","DMS"
"cmip","cmip6","cmip_name=dimethyl_sulfide"
"units","VMR"
"xactive_emissions", "yes"
"profile_type","fixed","surface_value=1.e-20"
"dry_deposition","fixed","land=0.11e-2, sea=0.09e-2"
"wet_deposition","henry_below","henry=4.74e-6, dependence=3100"
"convection","all"
/

"tracer","atmos_mod","nh3"
"longname","NH3"
"cmip","cmip6","cmip_name=ammonia"
"units","VMR"
"emissions", "file"
"emissions3d", "file"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=3.3d1,dependence=4.1d3"
"dry_deposition","file"
"convection","all"
"chem_param","gas","mw=17.,nb_N_red=1"
/

"tracer","atmos_mod","nh4no3"
"longname","NH4NO3"
"units","VMR"
"cmip","cmip6","cmip_name=nitrate,cmip_longname=nitrate,cmip_longname2=NO3"
"chem_param","aerosol","mw=62,nb_N_ox=1,frac_pm1=0.877,frac_pm25=0.954,frac_pm10=1."
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","aerosol_below","frac_incloud=0.3, frac_incloud_uw=0.4, frac_incloud_snowh=0.1, frac_incloud_snow=0.,alphar=0.001, alphas=0.001"
"dry_deposition","williams_wind_driven","surfr=100.,icer=1200."
"convection","all"
"radiative_param", "online", "name_in_rad_mod=nitrate, name_in_clim_mod=nitrate, scale_factor=2.14"
/

"tracer","atmos_mod","nh4"
"longname","NH4"
"units","VMR"
"cmip","cmip6","cmip_name=ammonium,cmip_longname=ammonium,cmip_longname2=NH4"
"chem_param","aerosol","mw=18,nb_N_red=1,frac_pm1=0.92,frac_pm25=0.973,frac_pm10=1."
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","aerosol_below","frac_incloud=0.3, frac_incloud_uw=0.4, frac_incloud_snowh=0.1, frac_incloud_snow=0.,alphar=0.001, alphas=0.001"
"dry_deposition","williams_wind_driven","surfr=200.,icer=1200."
"convection","all"
/

"tracer","atmos_mod","hcl"
"longname","HCl"
"cmip","cmip6","cmip_name=hydrogen_chloride"
"units","VMR"
"wet_deposition","henry_below_noice","henry=3.19e6,dependence=8700."
"dry_deposition","file","name=hno3"
"init_conc", "file"
"convection","all"
/

"tracer","atmos_mod","hocl"
"longname","HOCl"
"units","VMR"
"init_conc", "file"
"convection","all"
/

"tracer","atmos_mod","clono2"
"longname","ClONO2"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"init_conc", "file"
"convection","all"
/

"tracer","atmos_mod","cl"
"longname","Cl"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"convection","all"
/

"tracer","atmos_mod","clo"
"longname","ClO"
"units","VMR"
"init_conc", "file"
"convection","all"
/

"tracer","atmos_mod","cl2o2"
"longname","Cl2O2"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"convection","all"
/

"tracer","atmos_mod","cl2"
"longname","Cl2"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"convection","all"
/

"tracer","atmos_mod","hobr"
"longname","HOBr"
"units","VMR"
"init_conc", "file"
"dry_deposition","file"
"convection","all"
/

"tracer","atmos_mod","hbr"
"longname","HBr"
"units","VMR"
"wet_deposition","henry_below_noice","henry=3.19e6,dependence=8700."
"dry_deposition","file"
"init_conc", "file"
"convection","all"
/

"tracer","atmos_mod","brono2"
"longname","BrONO2"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"init_conc", "file"
"dry_deposition","file","brno3"
"convection","all"
/

"tracer","atmos_mod","br"
"longname","Br"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"convection","all"
/

"tracer","atmos_mod","bro"
"longname","bro"
"units","VMR"
"init_conc", "file"
"convection","all"
/

"tracer","atmos_mod","brcl"
"longname","BrCl"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"convection","all"
/

"tracer","atmos_mod","h"
"longname","H"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","age"
"longname","age of air"
"units","years"
"profile_type","fixed","surface_value=0.0E+00"
"init_conc", "file", "file=tracerIC.19800101.v2.nc"
"convection","all"
"adjust_mass", "false"
/

"tracer", "atmos_mod", "Extinction"
"longname", "Extinction for band 4 centred at 1 micron"
"tracer_type","diagnostic"
"units", "1/m"
/

"tracer","atmos_mod","NOy"
"longname","NOy"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","Cly"
"longname","Cly"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","Bry"
"longname","Bry"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","LCH4"
"longname","CH4 loss via OH"
"units","VMR/s"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ATO2"
"longname","ATO2(CH3C(O)CH2O2)"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ATOOH"
"longname","ATOOH(CH3C(O)CH2OOH)"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=1.14e-1,dependence=6300."
"dry_deposition","file","name=ch3ooh"
"convection","all"
/

"tracer","atmos_mod","GLYX"
"longname","CHOCHO"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=3.6e0,dependence=7200."
"dry_deposition","file","name=h2o2"
"convection","all"
/
"tracer","atmos_mod","IEPOX"
"longname","isoprene epoxide"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=8.3e-1,dependence=7400."
"dry_deposition","file","name=h2o2"
"convection","all"
/

"tracer","atmos_mod","IEPOXOO"
"longname","IEPOXOO"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ISN1"
"longname","ISN1"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","INO2"
"longname","INO2"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ISNOOA"
"longname","ISNOOA"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","INPN"
"longname","O2NOCH2C(OOH)(CH3)CH=CH2"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ISOPNB"
"longname","HOCH2C(CH3)=CHCH2ONO2"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=1.7e-1,dependence=9200."
"dry_deposition","file","name=hno3"
"convection","all"
/

"tracer","atmos_mod","ISOPNBO2"
"longname","HOC5H7(OH)(O2)ONO2"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","MACRN"
"longname","HOCH2C(ONO2)(CH3)CHO"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=1.7e-1,dependence=9200."
"dry_deposition","file","name=hno3"
"convection","all"
/

"tracer","atmos_mod","MACRNO2"
"longname","MACRNO2"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","MAO3"
"longname","CH2=C(CH3)C(O)OO"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","MAOP"
"longname","CH2=C(CH3)C(O)OOH"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","MAOPO2"
"longname","MAOPO2"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","MEK"
"longname","RC(O)R"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","MGLY"
"longname","CH3COCHO"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=3.6e0,dependence=7200."
"dry_deposition","file","name=h2o2"
"convection","all"
/

"tracer","atmos_mod","MVKN"
"longname","HOCH2CH(ONO2)C(O)CH3"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=1.7e-1,dependence=9200."
"dry_deposition","file","name=hno3"
"convection","all"
/

"tracer","atmos_mod","MVKO2"
"longname","HOCH2CH(O2)C(O)CH3"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","MVKOOH"
"longname","HOCH2CH(OOH)C(O)CH3"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","R4N1"
"longname","RO2fromR4N2"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=2.1e0,dependence=8700."
"dry_deposition","file","name=hno3"
"convection","all"
/

"tracer","atmos_mod","R4N2"
"longname","O2NOCH2CH(OO)CH3"
"chem_param","gas","nb_N_ox=1"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"wet_deposition","henry_below_noice","henry=2.1e0,dependence=8700."
"dry_deposition","file","name=hno3"
"convection","all"
/

"tracer","atmos_mod","RCHO"
"longname","RCHO"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","ROH"
"longname","ROH"
"units","VMR"
"tracer_type","diagnostic"
"profile_type","fixed","surface_value=1.e-20"
/

"tracer","atmos_mod","o3s"
"longname","O3S"
"units","VMR"
"dry_deposition","file","name=o3,diurnal=yes"
"profile_type","fixed","surface_value=1.e-20"
"convection","all"
/

# Tagged O3S_E90
"tracer","atmos_mod","e90"
"longname","E90"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"convection","all"
"emissions","file","file=emissions.e90.surface.1x1.nc"
/

"tracer","atmos_mod","o3s_e90"
"longname","O3S_E90"
"cmip","cmip6","cmip_name=ozone,cmip_longname=Ozone"
"units","VMR"
"chem_param","gas","mw=48."
"dry_deposition","file","name=o3,diurnal=yes"
"profile_type","fixed","surface_value=1.e-20"
"convection",   "all"
/

"tracer","atmos_mod","aoanh"
"longname","Northern Hemisphere tracer"
"units","years"
"profile_type","fixed","surface_value=1.e-20"
"convection",   "all"
"adjust_mass", "false"
/

"tracer","atmos_mod","nh50"
"longname","Northern Hemisphere tracer"
"cmip","cmip6","cmip_name=artificial_tracer_with_fixed_lifetime"
"units","VMR"
"profile_type","fixed","surface_value=1.e-20"
"convection",   "all"
/

####.................................................
### ESM atmos co2 field table for CMIP6 Jan 1 1850
## jgj 2016/11/29

# CO2 tracer
## Note: atm transport and land model expect moist mmr.
##       set co2 units: kg/kg  (mass mixing ratio) for both atm and lnd field table entries.
##       convert atm IC field table entry from dry vmr value to **dry** mmr
## Note: for atm cold start from constant co2 value, instead of using field table to initialize co2,
##       create atmos_tracers.res.nc with co2 moist mmr values
##       WTMAIR = 2.896440E+01 WTMCO2   =  44.00995
##       CMIP6 Jan 1 1850 co2 = 284.262e-6
#
 "TRACER", "atmos_mod",    "co2"
           "longname",     "carbon dioxide"
           "units",        "kg/kg"
           "cmip","cmip6","cmip_name=carbon_dioxide"
           "chem_param","gas","mw=44."
           "convection",   "all"
           "profile_type","fixed","surface_value = 431.9218e-06"/

###.................................................
### COBALT field table for initializing tracers
## jgj 2013/01/23 updated for COBALT
## jgj 2018/05/09 updated for GLODAP v2 and regridded COBALT history file

"namelists","ocean_mod","generic_cobalt/*global*"
/

"namelists","ocean_mod","generic_cobalt"

init = f

#
# JGJ 2015/07/28
# field table entries for initialization of cobalt tracers
# all unit conversions will be specified in the code based on
# valid src_var_unit and internal model unit.
# If field table src_var_unit does not match valid src_var_unit
# in code, model will give fatal error.
# valid src_var_units:
#    NO3, PO4, SiO4    : micromoles_per_liter
#    O2                : milliliters_per_liter
#    DIC, ALK          : micromoles_per_kg
#    all other fields  : none
# valid src_var_record : 0-12, where 0 is Annual, 1-12 for Jan-Dec
# 2015/10/05: Use annual data for WOA13 N, P, Si, O2 since monthly data does not extend to depth
# airsea and ice_ocean fluxes are handled by coupler, so are initialized in COBALT.
#
# 2015/09/28 jgj updated to provide valid_min, valid_max for tracers to ensure
# tracers remain positive after interpolation
# note that values of valid_min and valid_max are in model units not src_units
# currently only alk, dic and htotal have both a valid_min and valid_max
# specified in field_table, but valid_max is ignored for now by code.
# as of 2015/10/06 src_var_record and src_var_gridspec are not yet implemented
#
# 2015/10/14 change valid_min for alk and dic to 0 since land values get filled with valid_min
#            also remove valid_max for alk and dic
#
#------------------------------------------------------------------------------------------------
#
# NO3 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_n_annual_01.nc)
# min = 0, max = 65.08 from input dataset
# divide by 1035e3 to convert from umol/l to mol/kg
no3_src_file = INPUT/woa13_all_n_annual_01.nc
no3_src_var_name = n_an
no3_src_var_unit = micromoles_per_liter
no3_dest_var_name =  no3
no3_dest_var_unit = mol kg-1
no3_src_var_record = 1
no3_src_var_gridspec = NONE
no3_valid_min = 0.0
#
# O2 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_o_annual_01.nc)
# min = 0, max = 15.44 from input dataset
# multiply by (1000/22391.6)/1035 to convert from ml/l to mol/kg
o2_src_file = INPUT/woa13_all_o_annual_01.nc
o2_src_var_name = o_an
o2_src_var_unit = milliliters_per_liter
o2_dest_var_name =  o2
o2_dest_var_unit = mol kg-1
o2_src_var_record = 1
o2_src_var_gridspec = NONE
o2_valid_min = 0.0
#
# PO4 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_p_annual_01.nc)
# min = 0, max = 9.757 from input dataset
# divide by 1035e3 to convert from umol/l to mol/kg
po4_src_file = INPUT/woa13_all_p_annual_01.nc
po4_src_var_name = p_an
po4_src_var_unit = micromoles_per_liter
po4_dest_var_name =  po4
po4_dest_var_unit = mol kg-1
po4_src_var_record = 1
po4_src_var_gridspec = NONE
po4_valid_min = 0.0
#
# SIO4 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_i_annual_01.nc)
# min = 0, max = 267.3 from input dataset
# divide by 1035e3 to convert from umol/l to mol/kg
sio4_src_file = INPUT/woa13_all_i_annual_01.nc
sio4_src_var_name = i_an
sio4_src_var_unit = micromoles_per_liter
sio4_dest_var_name =  sio4
sio4_dest_var_unit = mol kg-1
sio4_src_var_record = 1
sio4_src_var_gridspec = NONE
sio4_valid_min = 0.0
#
# Alkalinity from GLODAPv2  (/lustre/f1/pdata/cmip6/datasets/ESM4/OBGC/GLODAPv2/GLODAPv2.2016b.oi-filled.20180322.nc)
# divide by 1e6 to convert from umol/kg to mol/kg
alk_src_file = INPUT/GLODAPv2.2016b.oi-filled.20180322.nc
alk_src_var_name = TAlk
alk_src_var_unit = micromoles_per_kg
alk_dest_var_name =  alk
alk_dest_var_unit = mol kg-1
alk_src_var_record = 1
alk_src_var_gridspec = NONE
alk_valid_min = 0.0
#
# Preind DIC from GLODAPv2  (/lustre/f1/pdata/cmip6/datasets/ESM4/OBGC/GLODAPv2/GLODAPv2.2016b.oi-filled.20180322.nc)
# divide by 1e6 to convert from umol/kg to mol/kg
dic_src_file = INPUT/GLODAPv2.2016b.oi-filled.20180322.nc
dic_src_var_name = PI_TCO2
dic_src_var_unit = micromoles_per_kg
dic_dest_var_name =  dic
dic_dest_var_unit = mol kg-1
dic_src_var_record = 1
dic_src_var_gridspec = NONE
dic_valid_min = 0.0
#
# additional tracers from ESM4p-COBALT Preindustrial Control history file 
# no unit conversion necessary
cadet_arag_src_file = INPUT/init_ocean_cobalt.res.nc
cadet_arag_src_var_name = cadet_arag
cadet_arag_src_var_unit = none
cadet_arag_dest_var_name =  cadet_arag
cadet_arag_dest_var_unit = mol kg-1
cadet_arag_src_var_record = 1
cadet_arag_src_var_gridspec = NONE
cadet_arag_valid_min = 0.0
#
cadet_calc_src_file = INPUT/init_ocean_cobalt.res.nc
cadet_calc_src_var_name = cadet_calc
cadet_calc_src_var_unit = none
cadet_calc_dest_var_name =  cadet_calc
cadet_calc_dest_var_unit = mol kg-1
cadet_calc_src_var_record = 1
cadet_calc_src_var_gridspec = NONE
cadet_calc_valid_min = 0.0
#
# NOTE: CASED = 0 at all K except K=1 from input dataset
cased_src_file = INPUT/init_ocean_cobalt.res.nc
cased_src_var_name = cased
cased_src_var_unit = none
cased_dest_var_name =  cased
cased_dest_var_unit = mol kg-1
cased_src_var_record = 1
cased_src_var_gridspec = NONE
cased_valid_min = 0.0
#
chl_src_file = INPUT/init_ocean_cobalt.res.nc
chl_src_var_name = chl
chl_src_var_unit = none
chl_dest_var_name =  chl
chl_dest_var_unit = mol kg-1
chl_src_var_record = 1
chl_src_var_gridspec = NONE
chl_valid_min = 0.0
#
co3_ion_src_file = INPUT/init_ocean_cobalt.res.nc
co3_ion_src_var_name = co3_ion
co3_ion_src_var_unit = none
co3_ion_dest_var_name =  co3_ion
co3_ion_dest_var_unit = mol kg-1
co3_ion_src_var_record = 1
co3_ion_src_var_gridspec = NONE
co3_ion_valid_min = 0.0
#
fed_src_file = INPUT/init_ocean_cobalt.res.nc
fed_src_var_name = fed
fed_src_var_unit = none
fed_dest_var_name =  fed
fed_dest_var_unit = mol kg-1
fed_src_var_record = 1
fed_src_var_gridspec = NONE
fed_valid_min = 0.0
#
fedi_src_file = INPUT/init_ocean_cobalt.res.nc
fedi_src_var_name = fedi
fedi_src_var_unit = none
fedi_dest_var_name =  fedi
fedi_dest_var_unit = mol kg-1
fedi_src_var_record = 1
fedi_src_var_gridspec = NONE
fedi_valid_min = 0.0
#
felg_src_file = INPUT/init_ocean_cobalt.res.nc
felg_src_var_name = felg
felg_src_var_unit = none
felg_dest_var_name =  felg
felg_dest_var_unit = mol kg-1
felg_src_var_record = 1
felg_src_var_gridspec = NONE
felg_valid_min = 0.0
#
fesm_src_file = INPUT/init_ocean_cobalt.res.nc
fesm_src_var_name = fesm
fesm_src_var_unit = none
fesm_dest_var_name =  fesm
fesm_dest_var_unit = mol kg-1
fesm_src_var_record = 1
fesm_src_var_gridspec = NONE
fesm_valid_min = 0.0
#
htotal_src_file = INPUT/init_ocean_cobalt.res.nc
htotal_src_var_name = htotal
htotal_src_var_unit = none
htotal_dest_var_name =  htotal
htotal_dest_var_unit = mol kg-1
htotal_src_var_record = 1
htotal_src_var_gridspec = NONE
htotal_valid_min = 3.981E-09
htotal_valid_max = 1.259E-08
#
irr_mem_src_file = INPUT/init_ocean_cobalt.res.nc
irr_mem_src_var_name = irr_mem
irr_mem_src_var_unit = none
irr_mem_dest_var_name =  irr_mem
irr_mem_dest_var_unit = mol kg-1
irr_mem_src_var_record = 1
irr_mem_src_var_gridspec = NONE
irr_mem_valid_min = 0.0
#
ldon_src_file = INPUT/init_ocean_cobalt.res.nc
ldon_src_var_name = ldon
ldon_src_var_unit = none
ldon_dest_var_name =  ldon
ldon_dest_var_unit = mol kg-1
ldon_src_var_record = 1
ldon_src_var_gridspec = NONE
ldon_valid_min = 0.0
#
ldop_src_file = INPUT/init_ocean_cobalt.res.nc
ldop_src_var_name = ldop
ldop_src_var_unit = none
ldop_dest_var_name =  ldop
ldop_dest_var_unit = mol kg-1
ldop_src_var_record = 1
ldop_src_var_gridspec = NONE
ldop_valid_min = 0.0
#
lith_src_file = INPUT/init_ocean_cobalt.res.nc
lith_src_var_name = lith
lith_src_var_unit = none
lith_dest_var_name =  lith
lith_dest_var_unit = mol kg-1
lith_src_var_record = 1
lith_src_var_gridspec = NONE
lith_valid_min = 0.0
#
nh4_src_file = INPUT/init_ocean_cobalt.res.nc
nh4_src_var_name = nh4
nh4_src_var_unit = none
nh4_dest_var_name =  nh4
nh4_dest_var_unit = mol kg-1
nh4_src_var_record = 1
nh4_src_var_gridspec = NONE
nh4_valid_min = 0.0
#
nbact_src_file = INPUT/init_ocean_cobalt.res.nc
nbact_src_var_name = nbact
nbact_src_var_unit = none
nbact_dest_var_name =  nbact
nbact_dest_var_unit = mol kg-1
nbact_src_var_record = 1
nbact_src_var_gridspec = NONE
nbact_valid_min = 0.0
#
ndi_src_file = INPUT/init_ocean_cobalt.res.nc
ndi_src_var_name = ndi
ndi_src_var_unit = none
ndi_dest_var_name =  ndi
ndi_dest_var_unit = mol kg-1
ndi_src_var_record = 1
ndi_src_var_gridspec = NONE
ndi_valid_min = 0.0
#
nlg_src_file = INPUT/init_ocean_cobalt.res.nc
nlg_src_var_name = nlg
nlg_src_var_unit = none
nlg_dest_var_name =  nlg
nlg_dest_var_unit = mol kg-1
nlg_src_var_record = 1
nlg_src_var_gridspec = NONE
nlg_valid_min = 0.0
#
nsm_src_file = INPUT/init_ocean_cobalt.res.nc
nsm_src_var_name = nsm
nsm_src_var_unit = none
nsm_dest_var_name =  nsm
nsm_dest_var_unit = mol kg-1
nsm_src_var_record = 1
nsm_src_var_gridspec = NONE
nsm_valid_min = 0.0
#
nlgz_src_file = INPUT/init_ocean_cobalt.res.nc
nlgz_src_var_name = nlgz
nlgz_src_var_unit = none
nlgz_dest_var_name =  nlgz
nlgz_dest_var_unit = mol kg-1
nlgz_src_var_record = 1
nlgz_src_var_gridspec = NONE
nlgz_valid_min = 0.0
#
nmdz_src_file = INPUT/init_ocean_cobalt.res.nc
nmdz_src_var_name = nmdz
nmdz_src_var_unit = none
nmdz_dest_var_name =  nmdz
nmdz_dest_var_unit = mol kg-1
nmdz_src_var_record = 1
nmdz_src_var_gridspec = NONE
nmdz_valid_min = 0.0
#
nsmz_src_file = INPUT/init_ocean_cobalt.res.nc
nsmz_src_var_name = nsmz
nsmz_src_var_unit = none
nsmz_dest_var_name =  nsmz
nsmz_dest_var_unit = mol kg-1
nsmz_src_var_record = 1
nsmz_src_var_gridspec = NONE
nsmz_valid_min = 0.0
#
fedet_src_file = INPUT/init_ocean_cobalt.res.nc
fedet_src_var_name = fedet
fedet_src_var_unit = none
fedet_dest_var_name =  fedet
fedet_dest_var_unit = mol kg-1
fedet_src_var_record = 1
fedet_src_var_gridspec = NONE
fedet_valid_min = 0.0
#
lithdet_src_file = INPUT/init_ocean_cobalt.res.nc
lithdet_src_var_name = lithdet
lithdet_src_var_unit = none
lithdet_dest_var_name =  lithdet
lithdet_dest_var_unit = mol kg-1
lithdet_src_var_record = 1
lithdet_src_var_gridspec = NONE
lithdet_valid_min = 0.0
#
ndet_src_file = INPUT/init_ocean_cobalt.res.nc
ndet_src_var_name = ndet
ndet_src_var_unit = none
ndet_dest_var_name =  ndet
ndet_dest_var_unit = mol kg-1
ndet_src_var_record = 1
ndet_src_var_gridspec = NONE
ndet_valid_min = 0.0
#
pdet_src_file = INPUT/init_ocean_cobalt.res.nc
pdet_src_var_name = pdet
pdet_src_var_unit = none
pdet_dest_var_name =  pdet
pdet_dest_var_unit = mol kg-1
pdet_src_var_record = 1
pdet_src_var_gridspec = NONE
pdet_valid_min = 0.0
#
sidet_src_file = INPUT/init_ocean_cobalt.res.nc
sidet_src_var_name = sidet
sidet_src_var_unit = none
sidet_dest_var_name =  sidet
sidet_dest_var_unit = mol kg-1
sidet_src_var_record = 1
sidet_src_var_gridspec = NONE
sidet_valid_min = 0.0
#
silg_src_file = INPUT/init_ocean_cobalt.res.nc
silg_src_var_name = silg
silg_src_var_unit = none
silg_dest_var_name =  silg
silg_dest_var_unit = mol kg-1 
silg_src_var_record = 1
silg_src_var_gridspec = NONE
silg_valid_min = 0.0
#
sldon_src_file = INPUT/init_ocean_cobalt.res.nc
sldon_src_var_name = sldon
sldon_src_var_unit = none
sldon_dest_var_name =  sldon
sldon_dest_var_unit = mol kg-1
sldon_src_var_record = 1
sldon_src_var_gridspec = NONE
sldon_valid_min = 0.0
#
sldop_src_file = INPUT/init_ocean_cobalt.res.nc
sldop_src_var_name = sldop
sldop_src_var_unit = none
sldop_dest_var_name =  sldop
sldop_dest_var_unit = mol kg-1
sldop_src_var_record = 1
sldop_src_var_gridspec = NONE
sldop_valid_min = 0.0
#
srdon_src_file = INPUT/init_ocean_cobalt.res.nc
srdon_src_var_name = srdon
srdon_src_var_unit = none
srdon_dest_var_name =  srdon
srdon_dest_var_unit = mol kg-1
srdon_src_var_record = 1
srdon_src_var_gridspec = NONE
srdon_valid_min = 0.0
#
srdop_src_file = INPUT/init_ocean_cobalt.res.nc
srdop_src_var_name = srdop
srdop_src_var_unit = none
srdop_dest_var_name =  srdop
srdop_dest_var_unit = mol kg-1
srdop_src_var_record = 1
srdop_src_var_gridspec = NONE
srdop_valid_min = 0.0
#
cadet_arag_btf_src_file = INPUT/init_ocean_cobalt.res.nc
cadet_arag_btf_src_var_name = cadet_arag_btf
cadet_arag_btf_src_var_unit = none
cadet_arag_btf_dest_var_name =  cadet_arag_btf
cadet_arag_btf_dest_var_unit = mol kg-1
cadet_arag_btf_src_var_record = 1
cadet_arag_btf_src_var_gridspec = NONE
cadet_arag_btf_valid_min = 0.0
#
cadet_calc_btf_src_file = INPUT/init_ocean_cobalt.res.nc
cadet_calc_btf_src_var_name = cadet_calc_btf
cadet_calc_btf_src_var_unit = none
cadet_calc_btf_dest_var_name =  cadet_calc_btf
cadet_calc_btf_dest_var_unit = mol kg-1
cadet_calc_btf_src_var_record = 1
cadet_calc_btf_src_var_gridspec = NONE
cadet_calc_btf_valid_min = 0.0
#
lithdet_btf_src_file = INPUT/init_ocean_cobalt.res.nc
lithdet_btf_src_var_name = lithdet_btf
lithdet_btf_src_var_unit = none
lithdet_btf_dest_var_name =  lithdet_btf
lithdet_btf_dest_var_unit = mol kg-1
lithdet_btf_src_var_record = 1
lithdet_btf_src_var_gridspec = NONE
lithdet_btf_valid_min = 0.0
#
ndet_btf_src_file = INPUT/init_ocean_cobalt.res.nc
ndet_btf_src_var_name = ndet_btf
ndet_btf_src_var_unit = none
ndet_btf_dest_var_name =  ndet_btf
ndet_btf_dest_var_unit = mol kg-1
ndet_btf_src_var_record = 1
ndet_btf_src_var_gridspec = NONE
ndet_btf_valid_min = 0.0
#
pdet_btf_src_file = INPUT/init_ocean_cobalt.res.nc
pdet_btf_src_var_name = pdet_btf
pdet_btf_src_var_unit = none
pdet_btf_dest_var_name =  pdet_btf
pdet_btf_dest_var_unit = mol kg-1
pdet_btf_src_var_record = 1
pdet_btf_src_var_gridspec = NONE
pdet_btf_valid_min = 0.0
#
sidet_btf_src_file = INPUT/init_ocean_cobalt.res.nc
sidet_btf_src_var_name = sidet_btf
sidet_btf_src_var_unit = none
sidet_btf_dest_var_name =  sidet_btf
sidet_btf_dest_var_unit = mol kg-1
sidet_btf_src_var_record = 1
sidet_btf_src_var_gridspec = NONE
sidet_btf_valid_min = 0.0
#
mu_mem_ndi_src_file = INPUT/init_ocean_cobalt.res.nc
mu_mem_ndi_src_var_name = mu_mem_ndi
mu_mem_ndi_src_var_unit = none
mu_mem_ndi_dest_var_name =  mu_mem_ndi
mu_mem_ndi_dest_var_unit = mol kg-1
mu_mem_ndi_src_var_record = 1
mu_mem_ndi_src_var_gridspec = NONE
mu_mem_ndi_valid_min = 0.0
#
mu_mem_nlg_src_file = INPUT/init_ocean_cobalt.res.nc
mu_mem_nlg_src_var_name = mu_mem_nlg
mu_mem_nlg_src_var_unit = none
mu_mem_nlg_dest_var_name =  mu_mem_nlg
mu_mem_nlg_dest_var_unit = mol kg-1
mu_mem_nlg_src_var_record = 1
mu_mem_nlg_src_var_gridspec = NONE
mu_mem_nlg_valid_min = 0.0
#
mu_mem_nsm_src_file = INPUT/init_ocean_cobalt.res.nc
mu_mem_nsm_src_var_name = mu_mem_nsm
mu_mem_nsm_src_var_unit = none
mu_mem_nsm_dest_var_name =  mu_mem_nsm
mu_mem_nsm_dest_var_unit = mol kg-1
mu_mem_nsm_src_var_record = 1
mu_mem_nsm_src_var_gridspec = NONE
mu_mem_nsm_valid_min = 0.0
#
fedet_btf_src_file = INPUT/init_ocean_cobalt.res.nc
fedet_btf_src_var_name = fedet_btf
fedet_btf_src_var_unit = none
fedet_btf_dest_var_name =  fedet_btf
fedet_btf_dest_var_unit = mol kg-1
fedet_btf_src_var_record = 1
fedet_btf_src_var_gridspec = NONE
fedet_btf_valid_min = 0.0
#
#f1p-> required for cobalt new schemes + nh3 ocean/atm exchange
# min = 0,  max = 1. from input dataset
nh3_src_file = INPUT/init_ocean_cobalt_nh3.res.nc
nh3_src_var_name = nh3
nh3_src_var_unit = none
nh3_dest_var_name = nh3
nh3_dest_var_unit = mol kg-1
nh3_src_var_record = 1
nh3_src_var_gridspec = NONE
nh3_valid_min = 0.0
#
/
###........................................
# species parameters
"species", "land_mod", "default"
    csc_lai = 0.3
    dat_snow_crit = 1e7

    froot_live_c2n = 45.0
    sapwood_c2n    = 250.0
    leaf_C_retrans_frac = 0.24
    root_C_retrans_frac = 0.24
    root_N_retrans_frac = 0.2
    root_exudate_N_frac = 0.001
    dynamic_root_exudation = F
    N_fixation_rate = 4.2
    root_NH4_uptake_rate = 0.1
    root_NO3_uptake_rate = 0.1
    N_stress_root_factor = 0.0
    k_nitrate_root_uptake = 5e-3
    k_ammonium_root_uptake = 5e-3
    c2n_mycorrhizae = 10.0
    myc_N_to_plant_rate = 250.0
    myc_growth_rate = 0.3
    kM_myc_growth = 1.0e-4
    tau_nsc_exudate = 0.0
    understory_lai_factor = 0.25
    fsc_liv = 0.8, fsc_froot = 0.8, fsc_wood = 0.2
/
 "species", "land_mod", "prioria"
    long_name = prioria
    alpha_leaf =  0.5
    alpha_root = 0.8
    alpha_wood = 0.5e-01
    beta_root = 1.25
    beta_vleaf = 0.0
    beta_sapwood = 0.1e-02
    srl =    43900.0
    root_r =   0.12e-03
    LMA =   0.35e-01
    m_cond =    7.0
    Vmax =   0.3e-04
    gamma_resp =   0.10e-01
    alpha_phot = 0.04
    leaf_age_tau =    0.0
    cnst_crit_phen =   0.3
    dat_height =    19.5
    dat_root_density =    4.9
    dat_root_zeta =   0.25813
    dat_rs_min =    43.6
    allometry_type = HML
    alphaHT = 60.97697
    thetaHT = 0.8631476
    gammaHT = 0.6841742
    alphaCA = 243.7808
    thetaCA = 1.18162
    alphaBM = 0.559
    phiCSA = 0.841
    maturalage =    5.0
    seedling_height = 0.5
    prob_e =   0.4
    mortrate_d_c =   0.01429
    mortrate_d_u =   0.02301
    rho_wood =   215.95
    LAImax =   6.0
    phiRL =   1.4
    root_exudate_frac = 0.075
    Kxam = 3.0,     dx = -3.0, cx = 1.5
    Klam = 3.0E-01, dl = -3.0, cl = 1.5
    psi_tlp = -2.5
    root_perm  = 5.0e-7
    branch_wood_frac = 0.1525
    leaf_refl = 0.1, 0.45
    ROS_max = 0.22
    CC_leaf =  0.7,  CC_stem =  0.15, CC_litter =  0.5
    F_scorch_height = 0.1487
    LMA_understory_factor = 1.0, Vmax_understory_factor = 1.0, Resp_understory_factor = 1.0
    Tmin_mort = 278.16
    use_light_saber = F
    leaf_N_retrans_frac = 0.6
 /
# species parameters
"species", "land_mod", "picea"
    long_name = picea
    alpha_leaf =  0.120000000
    alpha_root = 0.5
    alpha_wood = 0.5e-01
    beta_root = 1.25
    beta_vleaf = 0.0
    beta_sapwood = 0.1e-02
    srl =    43900.0
    root_r =   0.12e-03
    LMA =   0.1
    m_cond =    7.0
    Vmax =   0.21e-04
    gamma_resp =   0.30e-01
    alpha_phot = 0.04
    growth_resp = 0.333
    NSC2targetbl = 4.0
    leaf_age_tau =    0.0
    cnst_crit_phen =   0.3
    dat_height =    19.5
    dat_root_density =    4.9
    dat_root_zeta =   0.25813
    dat_rs_min =    43.6
    allometry_type = HML
    alphaHT = 29.82898
    thetaHT = 1.45212
    gammaHT = 0.10951
    alphaCA = 111.059
    thetaCA = 1.57985
    alphaBM = 0.414
    phiCSA = 0.5364167
    maturalage =    5.0
    seedling_height = 0.5
    prob_e =   0.4
    mortrate_d_c =   0.01429
    mortrate_d_u =   0.81e-01
    rho_wood =  185.0
#   laimax was changed to its original value
    LAImax =  5.0
    phiRL =   1.4
    root_exudate_frac = 0.075
    Kxam = 3.0,     dx = -3.0, cx = 1.5
    Klam = 3.0E-01, dl = -3.0, cl = 1.5
    psi_tlp = -2.5
    root_perm  = 5.0e-7
    branch_wood_frac =  0.2065217
    phenology_type = 'evergreen'
    leaf_refl = 0.1, 0.39
    F_scorch_height = 0.11
    ROS_max = 0.3
    CC_leaf =  0.75,  CC_stem =  0.2, CC_litter =  0.55
    F_scorch_height = 0.1487
    LMA_understory_factor = 1.0, Vmax_understory_factor = 1.0, Resp_understory_factor = 1.0
    use_light_saber = F
    leaf_N_retrans_frac = 0.5
/
 "species", "land_mod", "larix"
    long_name = larix
    alpha_leaf =  0.12
    alpha_root = 0.4
    alpha_wood = 0.25e-01
    beta_root = 1.25
    beta_vleaf = 0.0
    beta_sapwood = 0.1e-02
    srl =    43900.0
    root_r =   0.12e-03
     LMA =   0.76e-01
#    LMA =   0.38e-01
    m_cond =    7.0
    Vmax =   0.17e-04
    gamma_resp =   0.35e-01
    growth_resp = 0.333
    NSC2targetbl = 4.0
    leaf_age_tau =    0.0
    cnst_crit_phen =   0.3
    gdd_crit = 180
    tc_crit = 278.15
    dat_height =    19.5
    dat_root_density =    4.9
    dat_root_zeta =   0.25813
    dat_rs_min =    43.6
    allometry_type = HML
    alphaHT = 34.88173
    thetaHT = 1.04406
    gammaHT = 0.22555
    alphaCA = 161.562
    thetaCA = 1.5814
    alphaBM = 0.366
    phiCSA = 0.5247044
    maturalage =    5.0
    seedling_height = 0.5
    prob_e =   0.4
    mortrate_d_c =   0.2e-01
    mortrate_d_u =   0.81e-01
    rho_wood =  245.0
    LAImax =   5.0
#    LAImax =   3.5
    phiRL =   1.4
#    phiRL =   0.8
    root_exudate_frac = 0.075
    Kxam = 3.0,     dx = -3.0, cx = 1.5
    Klam = 3.0E-01, dl = -3.0, cl = 1.5
    psi_tlp = -2.5
    root_perm  = 5.0e-7
#    branch_wood_frac =  0.25
     branch_wood_frac = 0.2065217
    leaf_refl = 0.1, 0.39
    F_scorch_height = 0.11
    ROS_max = 0.3
    CC_leaf =  0.75,  CC_stem =  0.2, CC_litter =  0.55
    F_scorch_height = 0.1487
    LMA_understory_factor = 1.0, Vmax_understory_factor = 1.0, Resp_understory_factor = 1.0
    use_light_saber = F
    leaf_N_retrans_frac = 0.6
/
 "species", "land_mod", "acer"
    long_name = acer
    alpha_leaf =  0.12
    alpha_root = 0.5
    alpha_wood = 0.25e-01
    beta_root = 1.25
    beta_vleaf = 0.0
    beta_sapwood = 0.1e-02
    srl =    43900.0
    root_r =   0.12e-03
    LMA =   0.38e-01
    m_cond =    7.0
    Vmax =   0.2e-04
    gamma_resp =   0.35e-01
    alpha_phot = 0.04
    growth_resp = 0.333
    NSC2targetbl = 4.0
    leaf_age_tau = 0.0
    cnst_crit_phen =   0.3
    dat_height =    19.5
    dat_root_density =    4.9
    dat_root_zeta =   0.25813
    dat_rs_min =    43.6
    allometry_type = HML
    alphaHT = 49.11781 
    thetaHT = 0.7590974
    gammaHT = 0.5309686
    alphaCA = 150.0
    thetaCA = 1.5
    alphaBM = 0.3683791
    phiCSA = 0.4106051
    maturalage =    5.0
    seedling_height = 0.5
    prob_e =   0.4
    mortrate_d_c =   0.01
    mortrate_d_u =   0.81e-01
    rho_wood =   245.0
    LAImax =   3.5
    phiRL =   0.8
    leaf_refl = 0.1, 0.45
    root_exudate_frac = 0.075
    Kxam = 3.0,     dx = -3.0, cx = 1.5
    Klam = 3.0E-01, dl = -3.0, cl = 1.5
    psi_tlp = -2.5
    root_perm  = 5.0e-7
    branch_wood_frac = 0.2065217
    ROS_max = 0.22
    CC_leaf =  0.7,  CC_stem =  0.1, CC_litter =  0.45
    F_scorch_height = 0.094
    LMA_understory_factor = 1.0, Vmax_understory_factor = 1.0, Resp_understory_factor = 1.0
    use_light_saber = F
    leaf_N_retrans_frac = 0.6
/
  "species", "land_mod", "c4grass"
    long_name = Idealized C4 grass
    lifeform = grass
    physiology_type = C4
    phenology_type = deciduous
    alpha_leaf   = 2.0
    alpha_root   = 0.8
    alpha_wood   = 2.0
    beta_sapwood = 0.1e-02
    beta_root    = 1.25
    root_r =   0.12e-03
    srl = 112.0e3
#    srl = 31950.0
    LMA = 0.02655
    m_cond =    4.0
    Vmax = 0.1e-4
    gamma_resp = 0.03
    alpha_phot = 0.03
    growth_resp = 0.333
    NSC2targetbl = 4.0
    leaf_age_tau =    0.0
    cnst_crit_phen =   0.3
    dat_height =    19.5
    dat_root_density =    4.9
    dat_root_zeta =   0.35212
    dat_rs_min =    43.6
    allometry_type = HML
    alphaHT = 1.411496
    thetaHT = 2.61129
    gammaHT = 0.001410067
    alphaCA = 95.0
    thetaCA = 1.5
    alphaBM = 1.0
    rho_wood = 69.4
    phiCSA = 0.0
    maturalage =    0.0
    seedling_height = 2.5e-03
    prob_e =   0.6
    prob_g = 0.1
    v_seed = 0.2
    mortrate_d_c =   0.14
    mortrate_d_u =   0.14
    LAImax =  2.5
    phiRL =   0.8
    root_exudate_frac = 0.075
    Kxam = 3.0,     dx = -3.0, cx = 1.5
    Klam = 3.0E-01, dl = -3.0, cl = 1.5
    psi_tlp = -2.5
    root_perm  = 5.0e-7
    branch_wood_frac = 0.0
    seedling_nsc_frac = 3.0
    leaf_refl = 0.11, 0.45
    internal_gap_frac = 0.3
    ROS_max = 0.4
    CC_leaf       = 0.85,  CC_stem       = 0.85,  CC_litter     = 0.85
    fireMort_leaf = 0.85,  fireMort_stem = 0.0,   fireMort_root = 0.2
    LMA_understory_factor = 1.0, Vmax_understory_factor = 1.0, Resp_understory_factor = 1.0
    reproduces_in_understory = F
    limit_tussock_R = T, tussock_Ra = 0.1, tussock_Rb = 1.0
    use_light_saber = T
    leaf_N_retrans_frac = 0.7
/
 "species", "land_mod", "c3grass"
    long_name = Idealized C3 grass
    lifeform = grass
    phenology_type = deciduous
    alpha_leaf   = 2.0
    alpha_root = 0.8
    alpha_wood   = 2.0
    beta_sapwood = 0.1e-02
    beta_root    = 1.25
    root_r =   0.12e-03
    srl =    150.0e3
    LMA = 0.02655
    m_cond =    7.0
    Vmax = 0.2e-4
#    gamma_resp = 0.02
    gamma_resp = 0.015
    alpha_phot = 0.06
    growth_resp = 0.333
    NSC2targetbl = 4.0
    leaf_age_tau =    0.0
    cnst_crit_phen =   0.15
    dat_height =    19.5
    dat_root_density =    4.9
    dat_root_zeta =   0.17039
    dat_rs_min =    43.6
    allometry_type = HML
    alphaHT = 1.411496
    thetaHT = 2.61129
    gammaHT = 0.001410067
    alphaCA = 95.0
    thetaCA = 1.5
    alphaBM = 1.0
    rho_wood = 69.4
    phiCSA = 0.0
    maturalage =    0.0
    seedling_height = 0.1
    prob_e =   0.6
    prob_g = 0.44
    v_seed = 0.1
    mortrate_d_c =   0.02475
    mortrate_d_u =   0.01936
    LAImax =  2.5
    phiRL =   0.8
    root_exudate_frac = 0.075
    Kxam = 3.0,     dx = -3.0, cx = 1.5
    Klam = 3.0E-01, dl = -3.0, cl = 1.5
    psi_tlp = -2.5
    root_perm  = 5.0e-7
    branch_wood_frac = 0.0
    seedling_nsc_frac = 3.0
    leaf_refl = 0.11, 0.45
    ROS_max = 0.4
    CC_leaf       = 0.85,  CC_stem       = 0.85,  CC_litter     =  0.85
    fireMort_leaf = 0.85,  fireMort_stem = 0.0,   fireMort_root = 0.2
    LMA_understory_factor = 1.0, Vmax_understory_factor = 1.0, Resp_understory_factor = 1.0
    reproduces_in_understory = F
    limit_tussock_R = T, tussock_Ra = 0.5, tussock_Rb = 1.0
    use_light_saber = T
    gdd_crit = 180
    tc_crit =  278.15
    leaf_N_retrans_frac = 0.7
/
      </fieldTable>

<!-- DIAG TABLES by component -->
      <diagTable>
$name
$baseDate
      </diagTable> 
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_ESM4_piControl</dataSource>
      </dataFile>
<!--
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/cmip6/diag_table_DynVar</dataSource>
      </dataFile>
-->

<!--  CSH SECTION 
      <xi:include xpointer="xpointer(//freInclude[@name='common_init_csh_blocks']/input/node())"/>
-->
      <csh type="always"><![CDATA[

# Copy AWG and OWG ascii input files to GFDL (waiting for FRE to do this for us)
if ( $?flagOutputXferOn && $?flagOutputPostProcessOn && $currentSeg == 1 ) then
  #gcp --batch does not understand some variations of home filesystem like /autofs/mnt/ncrc-svm1_home1 so we need to massage rtsxml to comply
  set xmldirlocal = `dirname $rtsxml | sed -r "s/^\/(autofs|ncrc)\/.+\/$USER\//\~$USER\//"`
  set xmldirRemote = `echo $xmldirlocal | sed -r "$patternSedHome"`
  set platform_domain = `perl -T -e "use Net::Domain(hostdomain) ; print hostdomain"`
  if ("${platform_domain}" == "ncrc.gov") then
    set xmldirRemote = `echo $xmldirlocal | sed -r "$patternSedHome;$patternSedCTMP;$patternSedCPERM"`
    gcp --batch -cd -r --sync $xmldirlocal/awg_include gfdl:$(AWG_INPUT_HOME_GFDL)/..
    gcp --batch -cd -r --sync $xmldirlocal/awg_include gfdl:$xmldirRemote/
  else if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
    gcp -cd -r --sync $xmldirlocal/awg_include gfdl:$(AWG_INPUT_HOME_GFDL)/..
    gcp -cd -r --sync $xmldirlocal/awg_include gfdl:$xmldirRemote/
  endif
  #trick to copy MOM6 directory but avoid traversing the .datasets links
  tar cvf mom6.tar --exclude='.datasets' -C $(MOM6_EXAMPLES) . > /dev/null
  #tar cvf mom6.tar  --exclude='.datasets' --exclude='src' --exclude='INPUT'  -C $(MOM6_EXAMPLES) . > /dev/null
  mkdir mom6
  tar xvf mom6.tar -C ./mom6 > /dev/null
  if ("${platform_domain}" == "ncrc.gov") then
    gcp --batch -cd -r --sync mom6 gfdl:$(NB_ROOT)/
  else if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
    gcp -cd -r --sync mom6 gfdl:$(NB_ROOT)/
  endif
endif

# create dummy MOM6 parameter file for do_ocean=.false.
touch $work/INPUT/MOM_input
touch $work/INPUT/MOM_override
touch $work/INPUT/MOM_layout
touch $work/INPUT/SIS_override
touch $work/INPUT/SIS_layout
ln -s $work/INPUT/ocean_topog.nc $work/INPUT/topog.nc 
ln -s $work/INPUT/mosaic.nc $work/INPUT/grid_spec.nc

# Record the job stdout location for later use timings database
cat >> $HOME/frejobs_stdout <<EOF_frejobs
$stdoutDir/$FRE_JOBID
EOF_frejobs

####COMMON ALWAYS CSH BEGINS######
# MOM6/SIS2 restart switch
   set restart_flag_MOM6 = 'r'
   set restart_flag_SIS2 = 'r'
   #Because of a technical issue FRE does not delete old uncombined restarts before copying the new ones for the next segment
   #The INPUT/ ends up with inconsistent restart files which at best cause the model to crash right away.
   if(-e $work/INPUT/MOM.res.nc.0000 ) \rm -rf $work/INPUT/MOM.res*.nc
   #Start ocean from WOA
   if ( $currentSeg == 1 ) then
      set restart_flag_MOM6 = 'n'
   endif

######################################################################
#  The finite-volume cubed-sphere model should have the dry mass
#  adjusted at the initial model time only. This script determines
#  if the model is at the initial time by comparing model start time
#  and current time in the coupler.res file.
######################################################################
# set adjust_dry_mass = ".true."
# if (-e $work/INPUT/coupler.res) then
#    set t1 = (`grep "Model start time"   $work/INPUT/coupler.res | awk '{print $1,$2,$3,$4,$5,$6}'`)
#    set t2 = (`grep "Current model time" $work/INPUT/coupler.res | awk '{print $1,$2,$3,$4,$5,$6}'`)
#    foreach i (1 2 3 4 5 6)
#       if ( $t1[$i] != $t2[$i] ) then
#          set adjust_dry_mass = ".false."
#          break   
#       endif      
#    end
# endif
if ( $currentSeg == 1 ) then 
   set adjust_dry_mass = ".true."
else
   set adjust_dry_mass = ".false."
endif

#Scan auxiliary_nml for setting MOM6/SIS2 layouts

cat > $work/INPUT/MOM_layout << MOM_LAYOUT_EOF
#override IO_LAYOUT = $ocn_io_layout
#override LAYOUT    = $ocn_layout
#override MASKTABLE = $ocn_mask_table
MOM_LAYOUT_EOF

cat > $work/INPUT/SIS_layout << SIS_LAYOUT_EOF
#override IO_LAYOUT = $ice_io_layout
#override LAYOUT    = $ice_layout
SIS_LAYOUT_EOF

#Handle concurrent radiation case

set do_concurrent_radiation = `awk '/do_concurrent_radiation/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set radiation_nthreads = `awk '/radiation_nthreads/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set atmos_nthreads = $atm_threads
if ( $do_concurrent_radiation == ".true." ) then
   @ atmos_nthreads -= $radiation_nthreads
   set atm_threads = $atmos_nthreads
   setenv MALLOC_CHECK_ 5
   setenv MPICH_GNI_NDREG_LAZYMEM disabled
   alias runCommand /usr/bin/time -p `which aprun` -n $atmos_npes -d $atmos_nthreads ./$executable:t  
endif

#timing runs show that nyblocks = 2 * atm_threads perform better than nyblocks = atm_threads
set nxblock = 1
set nyblock = $atm_threads
@ nyblock = 2 * $atm_threads

#Handle hyperthreaded cases
set atmos_nthreads = $atm_threads
set atm_hythr = 1
set ocn_hythr = 1

set use_hyper_thread = `awk '/use_hyper_thread/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
if ( $use_hyper_thread == ".T." || $use_hyper_thread == ".true." ) then
   @ atmos_nthreads *= 2
   set atm_hythr = 2
   if ( $tot_ocn_ranks == 0 ) then
      alias runCommand /usr/bin/time -p `which aprun` -j2 -d $atmos_nthreads -n $atm_ranks ./$executable:t
   else
      alias runCommand /usr/bin/time -p `which aprun` -j2 -d $atmos_nthreads -n $atm_ranks ./$executable:t : -n $ocn_ranks -j1 -d 1 ./$executable:t
   endif
endif
set atmos_threads = $atmos_nthreads

###The following vars are set for the timing database ingestion tool only and are not necessary for a successful run
set OCN_MASK_TABLE  =  $ocn_mask_table
set OCN_LAYOUT    = $ocn_layout
set OCN_IO_LAYOUT = $ocn_io_layout
set ICE_LAYOUT    = $ice_layout
set ICE_IO_LAYOUT = $ice_io_layout
set atmos_npes = $atm_ranks
set ocean_npes = $ocn_ranks
set fv_layout = $atm_layout
set fv_io_layout  = $atm_io_layout
set land_layout   = $lnd_layout
set land_io_layout = $lnd_io_layout
#set dummy  = `awk '/nxblocks/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set nxblocks = $nxblock
#set dummy  = `awk '/nyblocks/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set nyblocks = $nyblock
set use_hyperthread = $use_hyper_thread
set atm_hyperthread = $atm_hythr
set ocn_hyperthread = $ocn_hythr


#f1p: note added ncap instructions 
#Add required gas flux fields if they do not exist in the restarts 
#to be able to start from older runs that did not have these gas fluxes
if ( $currentSeg == 1 ) then 
   #The following values for kw and deltap fields are arbitrary and do not matter, the fields just need to exist!
   #These kw and deltap fields do not need to be restarted as they are calculated from alpha and csurf values!    
   #This has to be fixed in the source code in future with a new coupler flux design.
   foreach resfile ( `ls $work/INPUT/ice_cobalt.res.nc*` ) 
      ncdump -h $resfile | grep o2_flux_deltap_ice > /dev/null
      if ($status != 0) then
        ncap -O -s 'o2_flux_deltap_ice=co2_flux_flux_ice*0.0+1000.0' $resfile $resfile
      endif
      ncdump -h $resfile | grep co2_flux_deltap_ice > /dev/null
      if ($status != 0) then
        ncap -O -s 'co2_flux_deltap_ice=co2_flux_flux_ice*0.0+1000.0' $resfile $resfile
      endif
      ncdump -h $resfile | grep o2_flux_kw_ice > /dev/null
      if ($status != 0) then
        ncap -O -s 'o2_flux_kw_ice=co2_flux_flux_ice*0.0+0.001' $resfile $resfile
      endif
      ncdump -h $resfile | grep co2_flux_kw_ice > /dev/null
      if ($status != 0) then
        ncap -O -s 'co2_flux_kw_ice=co2_flux_flux_ice*0.0+0.001' $resfile $resfile
      endif
      #flux0
      ncdump -h $resfile | grep o2_flux_flux0_ice > /dev/null
      if ($status != 0) then
        ncap -O -s 'o2_flux_flux0_ice=co2_flux_flux_ice*0.0+0.001' $resfile $resfile
      endif
      ncdump -h $resfile | grep co2_flux_flux0_ice > /dev/null
      if ($status != 0) then
        ncap -O -s 'co2_flux_flux0_ice=co2_flux_flux_ice*0.0+0.001' $resfile $resfile
      endif
      ncdump -h $resfile | grep nh4_flux_flux0_ice > /dev/null
      if ($status != 0) then
        ncap -O -s 'nh4_flux_flux0_ice=co2_flux_flux_ice*0.0+0.001' $resfile $resfile
      endif
   end
   #
   #Add Schmidt number to restart if it does not exist so that the model can use old restart files. 
   #A value of 660 make it consistent with the old ( "non-generic") formulation that did not have a separate sc_no
   foreach resfile ( `ls $work/INPUT/ocean_cobalt_airsea_flux.res.nc*` )
      ncdump -h $resfile | grep o2_flux_sc_no_ocn > /dev/null
      if ($status != 0) then
        ncap -O -s 'o2_flux_sc_no_ocn=o2_flux_alpha_ocn*0.0+660.0' $resfile $resfile
      endif
      ncdump -h $resfile | grep co2_flux_sc_no_ocn > /dev/null
      if ($status != 0) then
        ncap -O -s 'co2_flux_sc_no_ocn=co2_flux_alpha_ocn*0.0+660.0' $resfile $resfile
      endif
   end

endif
####COMMON ALWAYS CSH ENDS######
      ]]></csh>


<!-- INPUT DATASETS -->
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(CMIP6_ARCHIVE_ROOT)/ESM4/IC/ESM4_piControl_spinup.initCond.20180516.tar</dataSource>
      </dataFile>

<!-- c96_LM4_Op5 -->
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(CMIP6_ARCHIVE_ROOT)/ESM4/OM4_05/mosaic_c96.v20180227.tar</dataSource>
        <dataSource site="gfdl">/archive/gold/datasets/OM4_05/mosaic_c96.v20180227.tar</dataSource>
      </dataFile>

      <!--AWG Input datasets -->
      <dataFile label="input" target="INPUT/soil_type.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/LAND/soil/soil_type_gsde_5minute.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/biodata.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/cover_type.nc</dataSource>
      </dataFile>
<!-- Use the common_LM4 geohydrology dataset as was intended -->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/geohydrology.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/geohydrology_table_2a2n.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/ground_type.nc</dataSource>
      </dataFile>
<!-- need to move to CMIP6 LU files later -->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/landuse.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_LM4/soil_brdf.nc</dataSource>
      </dataFile>

<!--Krista Dunne gage data-->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/river_data_hydrography.c96_OM4_05-v20151028_20161005.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/c96_LM4/c96_topo_rough_land.nc.tar</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/sea_esf_CM4_V6_AUG2015.cpio</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/aerosol_inputs_newdroplet2_v20170208.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/tropchem_dec2015.cpio</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/depvel_gc_am3_tran.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/so2_0.25_volcanoes.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/AM4_201510" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/am4_optical_table_20151029.dat</dataSource>
      </dataFile>
<!-- fire-related data sets -->
      <dataFile label="input" target="INPUT/lightning.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/LAND/fire/FINAL/LISOTD_LRMTS_V2.3.2013.CLIMO.20140208.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/GDP.nc">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/LAND/fire/GDP_1851_1x1_v20180502.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/population.nc">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/LAND/fire/pop_density_1851_1x1_v20180502.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/Fk.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/LAND/fire/FINAL/FcFp_20170207_2deg.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/Koppen_zones_2deg_1950-2000.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/LAND/fire/FINAL/Koppen_zones_2deg_1950-2000.nc</dataSource>
      </dataFile>

<!-- nitrogen-related data sets -->
      <dataFile label="input" target="INPUT/nbiodata_nat.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/LAND/nitrogen/green_nsource_preind_fixed.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/nbiodata_ant.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/LAND/nitrogen/green_nsource_anthro_fixed.nc</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/ATMCHEM/emissions.diag.tracers.cpio</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/ATMCHEM/xactive_emissions/xactive_overhaul/megan.xactive.bvoc.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/common_AM4/FastJX-v7.1.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/ATMCHEM/tropchem/sim.AM4_v20180614.dat</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/common_cmip6/cmip6_GHG_ODS_conc_2016.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/chemlbf" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/common_cmip6/chemlbf_CMIP6_merge_RCP45</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/common_cmip6/emissions.isoprene.1x1.2000.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/common_cmip6/emissions.terpenes.1x1.2000.nc</dataSource>
      </dataFile>

     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/omgsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/asmsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/Volcano_Solar_1850_cmip6_v2/lean_solar_spectral_data.dat</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/ATMCHEM/emissions/v2017-05-18/1850_wseabirdnh3/emissions.0.5x0.5.1850.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/anthro_so2.1849_2017.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/forcings/emissions_cmip6_v20170518/emissions.simple.so2.0.5x0.5.1849-2017.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/dust_source.nc" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/ATMCHEM/dust_source/dust_source_0.25x0.25_utc.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/gas_conc_3D_am3p9.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/CM4/common/L48_gas_conc/gas_conc_3D48L_am3p9.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/ATMCHEM/emissions/dms/DMS_lana_gfdl.nc</dataSource>
      </dataFile>



      <!--MOM6 Input datasets: 0.5 degree -->

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/MOM_input</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/layer_coord.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/seawifs-clim-1997-2010.720x576.v20180328.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/tidal_amplitude.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
	$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.66.32x16
	$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.70.16x32
	$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.182.32x32
	$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.239.36x36
	$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.320.36x45
	$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.201.32x36
	$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.548.36x72
	$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.417.45x45
	$(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.359.36x50
        $(CMIP6_ARCHIVE_ROOT)/CM4/OM4_05_20160517/mosaic_ocean.720x576/mask_table.363.40x45
      </dataFile>
      
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/MOM_channels_global_025</dataSource>
      </dataFile>      
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/analysis_vgrid_lev35.v1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/hycom1_75_800m.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/ocean_static_no_mask_table.nc" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(CMIP6_ARCHIVE_ROOT)/ESM4/OM4_05/mosaic_c96.v20180227.unpacked/ocean_static.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/basin_codes.nc" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(CMIP6_ARCHIVE_ROOT)/ESM4/OM4_05/mosaic_c96.v20180227.unpacked/basin_codes.nc</dataSource>
      </dataFile>

      <!-- WOA13 potential temperature and salinity initial conditions -->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/woa13_decav_ptemp_monthly_fulldepth_01.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/woa13_decav_s_monthly_fulldepth_01.nc</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/geothermal_davies2013_v1.nc</dataSource>
      </dataFile>

      <!-- SIS Input data -->
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/SIS_input</dataSource>
     </dataFile>

      <!-- COBALT Input datasets -->
<!-- WOA13 -->
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/woa13/woa13_all_n_annual_01.nc</dataSource>
     </dataFile>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/woa13/woa13_all_p_annual_01.nc</dataSource>
     </dataFile>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/woa13/woa13_all_i_annual_01.nc</dataSource>
     </dataFile>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/woa13/woa13_all_o_annual_01.nc</dataSource>
     </dataFile>
<!-- GLODAP v2 -->
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/GLODAPv2/GLODAPv2.2016b.oi-filled.20180322.nc</dataSource>
     </dataFile>

     <dataFile label="input" target="INPUT/init_ocean_cobalt.res.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/IC/COBALT/20180510/cobalt_tracer_source.nc</dataSource>
     </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/IC/COBALT/init_ocean_cobalt_nh3.res.nc</dataSource>
      </dataFile>
<!--
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/BC/TOPAZ/deposition_fan/Soluble_Fe_Flux_PI.nc</dataSource>
     </dataFile>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/BC/TOPAZ/deposition_fan/Mineral_Fe_Flux_PI.nc</dataSource>
     </dataFile>
-->
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/BC/iron_sources/Soluble_Fe_Flux_AM4.nc</dataSource>
     </dataFile>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/BC/iron_sources/Mineral_Flux_AM4.nc</dataSource>
     </dataFile>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/BC/TOPAZ/deposition_horowitz/depflux_total.mean.1860.nc</dataSource>
     </dataFile>
      <!-- grid specific -->
      <dataFile label="input" target="INPUT/news_nutrients.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/BC/news_nutrients_halfdeg_20151207.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/river_iron.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(CMIP6_ARCHIVE_ROOT)/ESM4/OBGC/BC/iron_sources/river_iron_halfdeg.nc</dataSource>
      </dataFile>

    </input>

    <runtime>
      <production simTime="$(PROD_SIMTIME)" units="years">
          <segment simTime="12" units="months"/>
          <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1728x2_O1437p5_production']/node())"/>
      </production>
      <regression name="2months">
          <run months="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O842p5']/node())"/> </run>
      </regression>
      <regression name="basic">
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O842p5']/node())"/> </run>
      </regression>

      <regression name="rts">
        <run days="15 16" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O842p5']/node())"/> </run>
        <run days="2"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O648']/node())"/> </run>
  	<run days="2"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
  	<run days="2"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O864']/node())"/> </run>
      </regression>

      <regression name="restart">
        <run days="8"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
        <run days="4 4"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
        <run days="12"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
        <run days="6 6"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
      </regression>

      <regression name="debug">
          <run days="2"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x1_O216']/node())"/> </run>
          <run days="1 1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x1_O216']/node())"/> </run>
      </regression>

      <regression name="debug2">
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A504x1_O504']/node())"/> </run>
          <run days="1 1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A504x1_O504']/node())"/> </run>
      </regression>
      <regression name="debug3">
  	<run days="20"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O442p5']/node())"/> </run>
  	<run days="20"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O842p5']/node())"/> </run>
      </regression>

	<regression name="layouts">
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1300p5']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1620']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1057p5']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1296']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O864']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O842p5']/node())"/> </run>
      	</regression>

        <regression name="timing">
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1728x2_O1057p5']/node())"/> </run>
        </regression>
        <regression name="timings">
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1152x2_O1057p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1536x2_O1057p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1536x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1728x2_O1437p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1728x2_O1608p5']/node())"/> </run>
        </regression>

	<regression name="timings_all">
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O842p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1057p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O951p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O951p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O2044p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1608p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1441p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1296']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1057p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O951p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O951p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O2044p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1608p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1441p5']/node())"/> </run>
      	</regression>
      <reference restart="$(REFERENCE)/archive/1x1m0d_576x2a_842x1o/restart/00010201.tar"/>

    </runtime>

    <postProcess>
      <csh><![CDATA[
# To improve land model performance with better workload allocation across processors:
# (1) combine restarts
# (2) unpack them and cd to the unpacked directory
# (3) run the script to generate tile distribution file:
#     /home/slm/bin/make-land-domain-file.py -v land.res.tile?.nc -o land_domain.nc
# (4) pack the restart back. For a good measure I include the python script for 
#     future reference.
# I did all of that on analysis, but there is no reason it should not work on gaea, if
# required python modules are available (numpy and netCDF4)

# copy land domain decomposition information from INPUT to RESTART each time -- otherwise 
# decomposition the model creates on the next start up would not be the same and the model 
# gets stuck:
if ( -f $work/INPUT/land_domain.nc ) then
   cp $work/INPUT/land_domain.nc $work/RESTART/
endif

]]>   </csh>

      <xi:include xpointer="xpointer(//freInclude[@name='OM4_postprocess']/postProcess/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='c96_climo_cmip6_postprocess_ATMOS']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_climo_cmip6_postprocess_FULLCHEM']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_climo_cmip6_postprocess_LAND']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='land_by_species_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='fire_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='ICE_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='atmos_co2_postprocess']/postProcess/node())"/>
<!--  <xi:include xpointer="xpointer(//freInclude[@name='COBALT_5day_postprocess']/postProcess/node())"/> -->
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_z_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_CMIP6_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_CMIP6_z_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_CMIP6_1x1_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_CMIP6_1x1_z_postprocess']/postProcess/node())"/>

    </postProcess>

  </experiment>

</experimentSuite>
