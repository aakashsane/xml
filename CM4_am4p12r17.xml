<?xml version="1.0"?>
<!--
GFDL FAIR USE POLICY

GFDL recognizes the essential nature of collaboration in the scientific
enterprise, including the importance of novel application and analysis of our
models. In order to maximize mutual benefit from collaboration, the use of
experimental GFDL models** should be done in a manner that ensures that
individuals involved in model development receive proper credit for their
work; in order to minimize the potential for misapplication of experimental
models, collaborations should actively engage model developers. Publication of
results using experimental GFDL models should be done in consultation with
scientists that participated in the model development. Consultation with GFDL
model developers should occur before submission of publications based on
experimental GFDL models, and should include agreement on the appropriate level
of acknowledgment, co-authorship and participation by the model developers.
Since experimental models have not been thoroughly vetted, experimental GFDL
models and their output should be distributed only after consultation with the
developers of the model. After a GFDL model has been described in a
peer-reviewed publication it is no longer experimental, and results based on
the model should cite the publication(s) describing the model.
 
** "Experimental GFDL models" refers to models (e.g., a coupled climate model),
model components (e.g., parameterization schemes), model configurations (e.g.,
the specific arrangement and parameter settings of model components) arising
from model development efforts at GFDL, but whose formulation and configuration
have not yet been documented in the peer-reviewed literature, as well as outputs
from integrations with these models.
-->

<!-- GFDL Model Development Team (MDT) documentation: http://wiki.gfdl.noaa.gov/index.php/MDT_Coupled -->
<!-- GFDL MDT Atmosphere Working Group (AWG) documentation: http://cobweb.gfdl.noaa.gov/~cjg/awg/ -->

<!-- QUICK START GUIDE:

# Change the occcurances of YOURGROUPLETTER in this file to your group letter (small), such as f, w, o, g+,...

# To check out codes and compile:
module load fre/bronx-12
fremake -x CM4_am4p12r17.xml -p ncrc4.intel16 -t prod-openmp cm4_libs_compile -nolink
SIS:
fremake -x CM4_am4p12r17.xml -p ncrc4.intel16 -t prod-openmp cm4_compile
SIS2:
fremake -x CM4_am4p12r17.xml -p ncrc4.intel16 -t prod-openmp cm4_sis2_compile

# To run regression test (for the coupled experiment CM4_c96L32_g12r17_2010_MLE30d_ePBLn ): 

frerun -r basic -x CM4_am4p12r17.xml -p ncrc4.intel16 -t prod-openmp CM4_c96L32_g12r17_2010_MLE30d_ePBLn

# To run a complete coupled experiment (with automated database entry if MDBIswitch in "on"):

frerun -x CM4_am4p12r17.xml -p ncrc4.intel16 -t prod-openmp CM4_c96L32_g12r17_2010_MLE30d_ePBLn

# To check what is the input data of this experiment:
inputfiles -x CM4_am4p12r17.xml -p ncrc4.intel16 CM4_c96L32_g12r17_2010_MLE30d_ePBLn

NOTES:
      If the experiment name + FRESTEM is too long the post-process initiated on gaea may fail.
      This is because, there is a small limit set by moab on the number of total characters for
      ppEnv environment variable which  is roughly the sum of the strings made by
      1. the refine diag list
      2. the contents of the <csh> section of the gfdl platform
      
-->

<experimentSuite rtsVersion="4" xmlns:xi="http://www.w3.org/2003/XInclude">

  <!--User should set the following properties according to the plan for the production run-->	
  <property name="RELEASE"      value="prerelease_warsaw_20170330"/> <!-- Release tag for the shared source code -->
  <property name="MOM6_DATE"    value="2017.04.22"/>                 <!-- git tag date for MOM6 source code -->
  <property name="SHARED_GIT_TAG"     value="$(RELEASE)"/>
  <property name="MOM6_GIT_TAG" value="dev/master/$(MOM6_DATE)"/> <!-- git tag for MOM6 source code -->
  <property name="AWG_GIT_TAG"  value="$(RELEASE)"/>           <!-- git tag for AWG source code -->
  <property name="LAND_GIT_TAG" value="$(RELEASE)"/>       <!-- git tag for LAND_LAD2 source code -->  
  <!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
  <property name="GFDL_GROUP"   value="gfdl_YOURGROUPLETTER"/>    <!-- Replace YOURGROUPLETTER with GFDL group letter -->

  <property name="OM4_ANALYSIS" value="ice_ocean_SIS2/OM4_025"/>  <!--example containing .frepp scripts for analysis-->
                                                                 <!--Please set the value to ice_ocean_SIS2/OM4_05 for 1/2 degree ocean model runs--> 
  <property name="PROD_SIMTIME"     value="100"/>  <!--simulation length in years-->
  <property name="PP_CPLD_CHUNK_A"  value="5yr"/>  <!--smaller chunk length for pp/analysis-->
  <property name="PP_CPLD_CHUNK_B"  value="20yr"/> <!--bigger  chunk length for pp/analysis-->
  <property name="PP_START_YEAR"    value="1860" />
  <property name="PROD_RUNTIME"     value="16:00:00"/><!--Maximum wall clock per simulation-->
  <property name="PROD_SEGTIME"     value="03:00:00"/><!--Wall clock per segment (usually 1 year)-->

  <!--The following properties need to be set only if the user wants to monitor the run progress at MDBI
      and are not needed for the run or post-processing -->   
  <property name="EXP_CPLD_START"   value="0001"/> <!--simulation start year--> 
  <property name="EXP_CPLD_END"     value="0100"/> <!--simulation end   year--> 
  
  <!--The rest of the properties need not to be changed by the user unless to customize the run-->

  <property name="FRE_STEM"  value="$(RELEASE)_mom6_$(MOM6_DATE)"/> <!-- customize as needed -->
  <property name="FRE_VERSION"     value="bronx-12"/> <!-- fre version to be used -->
  <property name="ProjectID"       value="MDT"/>      <!-- database top level -->
  <property name="ANALYSIS_SWITCH" value="on"/>       <!-- on/off switch for ATM/LND analysis -->
  <property name="MDBIswitch"      value="on"/>       <!-- on/off switch for MDBI database -->
  <property name="CVDP_startyear" value="0001"/>  <!-- Property to allow users to configure CVDP to skip n-years of spinup -->

  <!-- Reference release tag for existing files in the archives for answer comparison. Used in "REFERENCE" property. -->
  <property name="reference_tag"   value="verona_201701_awg_v20170208_g12_mom6_2017.02.23_answers"/>
                          
  <property name="DEBUGLEVEL" value=""/>
  <property name="PLATINFO"   value=""/>  <!--This is necessary only if you want to run exact same experiment on multiple platforms-->
                                          <!--In that case you will need to put an identifier string for the value to distinguish the /nbhome-->

  <!--========================================-->
  <!--Do not change the rest of the properties-->
  <!--========================================-->

  <property name="AWG_INPUT_HOME_GAEA"  value="awg_include"/>
  <property name="AWG_INPUT_HOME_NESCC" value="awg_include"/>
  <property name="AWG_INPUT_HOME_GFDL"  value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)/mdt_xml/awg_include"/>
  <property name="MIZ_ARCHIVE_ROOT_GAEA" value="$CPERM/Ming.Zhao/archive/mdt"/>
  <property name="MIZ_ARCHIVE_ROOT_GFDL" value="/archive/miz/mdt/"/>


   <!--AMIP configurations-->
   <!--C96 configurations-->
   <freInclude name="resourceparams_A216x1">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="1"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x4">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="4"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x8">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="8"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A288x1">
             <resources jobWallclock="01:00:00">
               <atm ranks="288" threads="1"    layout = "4,12"   io_layout = "1,4" />
               <lnd                            layout = "4,12"   io_layout = "1,4" />
               <ice                            layout = "72,4"   io_layout = "1,4"/>   
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A288x2">
             <resources jobWallclock="01:00:00">
               <atm ranks="288" threads="2"    layout = "4,12"   io_layout = "1,4" />
               <lnd                            layout = "4,12"   io_layout = "1,4" />
               <ice                            layout = "72,4"   io_layout = "1,4"/>  
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A288x4">
             <resources jobWallclock="01:00:00">
               <atm ranks="288" threads="4"    layout = "4,12"   io_layout = "1,4" />
               <lnd                            layout = "4,12"   io_layout = "1,4" />
               <ice                            layout = "72,4"   io_layout = "1,4"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x1">
             <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="1"    layout = "3,24"   io_layout = "1,4" />
               <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_production">
	     <resources jobWallclock="16:00:00" segRuntime="2:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x4">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="4"    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x1">
             <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="1"    layout = "6,16"   io_layout = "1,4" />
               <lnd                            layout = "6,16"   io_layout = "1,4" />
               <ice                            layout = "72,8"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"    layout = "6,16"   io_layout = "1,4" />
	       <lnd                            layout = "6,16"   io_layout = "1,4" />
	       <ice                            layout = "72,8"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x4">
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="4"    layout = "6,16"   io_layout = "1,4" />
	       <lnd                            layout = "6,16"   io_layout = "1,4" />
	       <ice                            layout = "72,8"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A768x1">
             <resources jobWallclock="01:00:00">
               <atm ranks="768" threads="1"    layout = "8,16"   io_layout = "1,4" />
               <lnd                            layout = "8,16"   io_layout = "1,4" />
               <ice                            layout = "96,8"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A768x2">
             <resources jobWallclock="01:00:00">
               <atm ranks="768" threads="2"    layout = "8,16"   io_layout = "1,4" />
               <lnd                            layout = "8,16"   io_layout = "1,4" />
               <ice                            layout = "96,8"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A768x4">
	     <resources jobWallclock="01:00:00">
               <atm ranks="768" threads="4"    layout = "8,16"   io_layout = "1,4" />
	       <lnd                            layout = "8,16"   io_layout = "1,4" />
	       <ice                            layout = "96,8"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x1">
             <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="1"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "144,6"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x4">
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="4"    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A960x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="960" threads="2"    layout = "10,16"   io_layout = "1,4" />
	       <lnd                            layout = "10,16"   io_layout = "1,4" />
	       <ice                            layout = "120,8"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A960x4">
	     <resources jobWallclock="01:00:00">
               <atm ranks="960" threads="4"    layout = "10,16"   io_layout = "1,4" />
	       <lnd                            layout = "10,16"   io_layout = "1,4" />
	       <ice                            layout = "120,8"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1056x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="1056" threads="2"   layout = "8,22"   io_layout = "1,2" />
	       <lnd                            layout = "8,22"   io_layout = "1,2" />
	       <ice                            layout = "176,6"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1056x4">
	     <resources jobWallclock="01:00:00">
               <atm ranks="1056" threads="4"   layout = "8,22"   io_layout = "1,2" />
	       <lnd                            layout = "8,22"   io_layout = "1,2" />
	       <ice                            layout = "176,6"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x1">
	     <resources jobWallclock="01:00:00">
               <atm ranks="1152" threads="1"   layout = "8,24"   io_layout = "1,4" />
	       <lnd                            layout = "8,24"   io_layout = "1,4" />
	       <ice                            layout = "144,8"  io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="1152" threads="2"   layout = "8,24"   io_layout = "1,4" />
	       <lnd                            layout = "8,24"   io_layout = "1,4" />
	       <ice                            layout = "144,8"  io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x4">
	     <resources jobWallclock="01:00:00">
               <atm ranks="1152" threads="4"   layout = "12,16"   io_layout = "1,4" />
	       <lnd                            layout = "12,16"   io_layout = "1,4" />
	       <ice                            layout = "144,8"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1536x1">
             <resources jobWallclock="01:00:00">              
               <atm ranks="1536" threads="1"   layout = "16,16"   io_layout = "1,4" />
               <lnd                            layout = "16,16"   io_layout = "1,4" />
               <ice                            layout = "96,16"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1536x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="1536" threads="2"   layout = "16,16"   io_layout = "1,4" />
	       <lnd                            layout = "16,16"   io_layout = "1,4" />
	       <ice                            layout = "96,16"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1728x1">
             <resources jobWallclock="01:00:00">
               <atm ranks="1728" threads="1"   layout = "12,24"   io_layout = "1,4" />
               <lnd                            layout = "12,24"   io_layout = "1,4" />
               <ice                            layout = "144,12"   io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1728x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="1728" threads="2"   layout = "12,24"   io_layout = "1,4" />
	       <lnd                            layout = "12,24"   io_layout = "1,4" />
	       <ice                            layout = "144,12"  io_layout = "1,4" />
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_A432x1_R432x1">
	     <resources jobWallclock="01:00:00">
	       <!--coupler_nml:do_concurrent_radiation=.true.;coupler_nml:radiation_nthreads=1;-->
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_R432x2">
	       <!--coupler_nml:do_concurrent_radiation=.true.;coupler_nml:radiation_nthreads=2;-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="4"    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_R864x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="4"    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <!--C192 configurations-->
   <freInclude name="resourceparams_c192A432x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "6,12"   io_layout = "1,4" />
	       <lnd                            layout = "6,12"   io_layout = "1,4" />
	       <ice                            layout = "144,3"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A432x4">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="4"    layout = "6,12"   io_layout = "1,4" />
	       <lnd                            layout = "6,12"   io_layout = "1,4" />
	       <ice                            layout = "144,3"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A576x2">
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"  io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A576x4">
             <resources jobWallclock="01:00:00">               
               <atm ranks="576" threads="4"    layout = "8,12"   io_layout = "1,4" />
               <lnd                            layout = "8,12"   io_layout = "1,4" />
               <ice                            layout = "144,4"  io_layout = "1,4" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A1152x2">
             <resources jobWallclock="01:00:00">
               
               <atm ranks="1152" threads="2"   layout = "12,16"   io_layout = "1,4" />
               <lnd                            layout = "12,16"   io_layout = "1,4" />
               <ice                            layout = "144,8"   io_layout = "1,4" />

	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A864x2">
             <resources jobWallclock="01:00:00">
               
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "144,6"  io_layout = "1,3" />

	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A864x4">
             <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="4"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "144,6"  io_layout = "1,3" />
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A1728x2">
             <resources jobWallclock="01:00:00">
               <atm ranks="1728" threads="2"   layout = "12,24"   io_layout = "1,4" />
               <lnd                            layout = "12,24"   io_layout = "1,4" />
               <ice                            layout = "144,12"  io_layout = "1,3" />
	     </resources>
   </freInclude>

   <!--CM4 configurations-->
   <freInclude name="resourceparams_A216x1_O216">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="1"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="216" threads="1"    layout = "18,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O648">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="648" threads="1"    layout = "18,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x1_O432">
             <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="1"    layout = "3,24"   io_layout = "1,4" />
               <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />
               <ocn ranks="432"  threads="1"   layout = "36,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>

	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A504x1_O432">
             <resources jobWallclock="01:00:00">
               <atm ranks="504" threads="1"    layout = "7,12"   io_layout = "1,4" />
               <lnd                            layout = "7,12"   io_layout = "1,4" />
               <ice                            layout = "168,3"  io_layout = "1,3" />
               <ocn ranks="432" threads="1"    layout = "36,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A504x1_O504">
             <resources jobWallclock="01:00:00">
               <atm ranks="504" threads="1"    layout = "7,12"   io_layout = "1,4" />
               <lnd                            layout = "7,12"   io_layout = "1,4" />
               <ice                            layout = "168,3"  io_layout = "1,3" />
               <ocn ranks="504" threads="1"    layout = "42,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O432">
             <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
               <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />
               <ocn ranks="432" threads="1"    layout = "36,12"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O1296">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"   io_layout = "1,3" />
	       <ocn ranks="1296" threads="1"   layout = "36,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1296">
             <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"    layout = "6,16"   io_layout = "1,4" />
               <lnd                            layout = "6,16"   io_layout = "1,4" />
               <ice                            layout = "72,8"   io_layout = "1,4"/>
               <ocn ranks="1296" threads="1"   layout = "36,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>

	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x1_O576">
             <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="1"    layout = "6,16"   io_layout = "1,4" />
               <lnd                            layout = "6,16"   io_layout = "1,4" />
               <ice                            layout = "72,8"   io_layout = "1,4"/>
               <ocn ranks="576" threads="1"    layout = "16,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O648">
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"    layout = "6,16"   io_layout = "1,4" />
	       <lnd                            layout = "6,16"   io_layout = "1,4" />
	       <ice                            layout = "72,8"   io_layout = "1,4" />
	       <ocn ranks="648" threads="1"    layout = "18,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O864">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="864" threads="1"    layout = "24,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O1756">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="1756" threads="1"   layout = "32,72"  io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A288x2_O1756">
	     <resources jobWallclock="01:00:00">
               <atm ranks="288" threads="2"    layout = "4,12"   io_layout = "1,4" />
	       <lnd                            layout = "4,12"   io_layout = "1,4" />
	       <ice                            layout = "72,4"   io_layout = "1,4" />
	       <ocn ranks="1756" threads="1"   layout = "32,72"  io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1756">
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"    layout = "6,16"   io_layout = "1,4" />
	       <lnd                            layout = "6,16"   io_layout = "1,4" />
	       <ice                            layout = "72,8"   io_layout = "1,4" />
	       <ocn ranks="1756" threads="1"   layout = "32,72"  io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O1152">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"	    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="1152" threads="1"   layout = "32,36"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O2304">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"	    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="2304"   threads="1"    layout = "32,72"   io_layout = "1,4" mask_table="MOM_mask_table"/>

	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O1970">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"	    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="1970"   threads="1"    layout = "36,72"   io_layout = "1,4" mask_table="mask_table.622.36x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O2432">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"	    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="2432"   threads="1"    layout = "45,72"   io_layout = "1,4" mask_table="mask_table.808.45x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A288x2_O1970">
             <resources jobWallclock="01:00:00">
               <atm ranks="288" threads="2"    layout = "4,12"   io_layout = "1,4" />
               <lnd                            layout = "4,12"   io_layout = "1,4" />
               <ice                            layout = "72,4"   io_layout = "1,4" />
               <ocn ranks="1970"   threads="1"    layout = "36,72"   io_layout = "1,4" mask_table="mask_table.622.36x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1970">
             <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "72,12"   io_layout = "1,4" />
               <ocn ranks="1970"   threads="1"    layout = "36,72"   io_layout = "1,4" mask_table="mask_table.622.36x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A288x2_O2592">
             <resources jobWallclock="01:00:00">
               <atm ranks="288" threads="2"    layout = "4,12"   io_layout = "1,4" />
               <lnd                            layout = "4,12"   io_layout = "1,4" />
               <ice                            layout = "72,4"   io_layout = "1,4" />
               <ocn ranks="2592" threads="1"   layout = "36,72"   io_layout = "1,4" mask_table="MOM_mask_table"/>

	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A288x2_O2432">
             <resources jobWallclock="01:00:00">
               <atm ranks="288" threads="2"    layout = "4,12"   io_layout = "1,4" />
               <lnd                            layout = "4,12"   io_layout = "1,4" />
               <ice                            layout = "72,4"   io_layout = "1,4" />
	       <ocn ranks="2432" threads="1"   layout = "45,72"  io_layout = "1,4" mask_table="mask_table.808.45x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A288x2_O2304">
             <resources jobWallclock="01:00:00">
               <atm ranks="288" threads="2"    layout = "4,12"   io_layout = "1,4" />
               <lnd                            layout = "4,12"   io_layout = "1,4" />
               <ice                            layout = "72,4"   io_layout = "1,4" />
	       <ocn ranks="2304" threads="1"   layout = "32,72"  io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x4_O1970">
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="4"    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
	       <ice                            layout = "72,3"   io_layout = "1,3" />
	       <ocn ranks="1970" threads="1"   layout = "36,72"  io_layout = "1,4" mask_table="mask_table.622.36x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O2997">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
               <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />
               <ocn ranks="2997" threads="1"   layout = "90,45"  io_layout = "9,5" mask_table="mask_table.1053.90x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O2997_production">
	     <resources jobWallclock="16:00:00" segRuntime="4:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
               <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />
               <ocn ranks="2997" threads="1"   layout = "90,45"  io_layout = "9,5" mask_table="mask_table.1053.90x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O3782">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
               <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />
	       <ocn ranks="3782" threads="1"   layout = "72,72"  io_layout = "1,4" mask_table="mask_table.1402.72x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O3782_production">
	     <resources jobWallclock="16:00:00" segRuntime="3:00:00">
               <atm ranks="576" threads="2"    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"  io_layout = "1,4" />
	       <ocn ranks="3782" threads="1"   layout = "72,72"  io_layout = "1,4" mask_table="mask_table.1402.72x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O3782">
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"  io_layout = "1,4" />
	       <ocn ranks="3782" threads="1"   layout = "72,72"  io_layout = "1,4" mask_table="mask_table.1402.72x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O6122_production"><!--17 year/day on c4-->
	     <resources jobWallclock="16:00:00" segRuntime="2:00:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "72,12"  io_layout = "1,4" />
	       <ocn ranks="6122" threads="1"   layout = "90,95"  io_layout = "1,5" mask_table="mask_table.2428.90x95"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O6122">
	     <resources jobWallclock="00:30:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "72,12"  io_layout = "1,4" />
	       <ocn ranks="6122" threads="1"   layout = "90,95"  io_layout = "1,5" mask_table="mask_table.2428.90x95"/>
	     </resources>
   </freInclude>
   <!--c192 + 1/4 degree -->
   <freInclude name="resourceparams_c192A432x2_O1022x1">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "6,12"   io_layout = "1,4" />
               <lnd                            layout = "6,12"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />               
               <ocn ranks="1022" threads="1"   layout = "36,36"  io_layout = "1,4" mask_table="mask_table.274.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A432x2_O1970x1">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "6,12"   io_layout = "1,4" />
               <lnd                            layout = "6,12"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />               
               <ocn ranks="1970" threads="1"   layout = "36,72"  io_layout = "1,4" mask_table="mask_table.622.36x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A432x4_O1970x1">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="4"    layout = "6,12"   io_layout = "1,4" />
               <lnd                            layout = "6,12"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />               
               <ocn ranks="1970" threads="1"   layout = "36,72"  io_layout = "1,4" mask_table="mask_table.622.36x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A432x4_O1756x1">
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="4"    layout = "6,12"   io_layout = "1,4" />
               <lnd                            layout = "6,12"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />
               <ocn ranks="1756" threads="1"   layout = "32,72"  io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A864x2_O1756x1">
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />  
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "144,6"  io_layout = "1,3" />
               <ocn ranks="1756" threads="1"   layout = "32,72"  io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A864x2_O1756x1_production">
	     <resources jobWallclock="16:00:00" segRuntime="8:00:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />  
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "144,6"  io_layout = "1,3" />
               <ocn ranks="1756" threads="1"   layout = "32,72"  io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_c192A864x4_O3782x1">
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="4"    layout = "6,24"   io_layout = "1,4" />  
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "144,6"  io_layout = "1,3" />
	       <ocn ranks="3782" threads="1"   layout = "72,72"  io_layout = "1,4" mask_table="mask_table.1402.72x72"/>
	     </resources>
   </freInclude>
<!--Only  1/2 degree ocean grid configs-->
   <freInclude name="resourceparams_A216x2_O442p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"	    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
               <ice                            layout = "72,3"   io_layout = "1,3" />               
	       <ocn ranks="442"   threads="1"    layout = "16,32"   io_layout = "1,4" mask_table="mask_table.70.16x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O842p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
               <lnd                            layout = "3,12"   io_layout = "1,4" />
               <ice                            layout = "72,3"   io_layout = "1,3" />               
	       <ocn ranks="842" threads="1"    layout = "32,32"  io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O951p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"	    layout = "3,12"   io_layout = "1,4" />
	       <lnd                            layout = "3,12"   io_layout = "1,4" />
               <ice                            layout = "72,3"   io_layout = "1,3" />               
	       <ocn ranks="951"   threads="1"    layout = "32,36"   io_layout = "1,4" mask_table="mask_table.201.32x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O951p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"  io_layout = "1,3" />               
	       <ocn ranks="951" threads="1"    layout = "32,36"  io_layout = "1,4" mask_table="mask_table.201.32x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O842p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"	    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"   io_layout = "1,3" />               
	       <ocn ranks="842"   threads="1"    layout = "32,32"   io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O842p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="00:30:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="842"   threads="1"    layout = "32,32"   io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O842p5_production"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="16:00:00" segRuntime="2:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="842"   threads="1"    layout = "32,32"   io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O1057p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"	    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
               <ice                            layout = "144,3"   io_layout = "1,3" />               
	       <ocn ranks="1057"   threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1057p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1057" threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1057p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "72,12"   io_layout = "1,4" />
	       <ocn ranks="1057"   threads="1"    layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A216x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="216" threads="2"    layout = "3,12"   io_layout = "1,4" />
               <lnd                            layout = "3,12"   io_layout = "1,4" />
               <ice                            layout = "72,3"   io_layout = "1,3" />               
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A432x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="432" threads="2"	    layout = "3,24"   io_layout = "1,4" />
	       <lnd                            layout = "3,24"   io_layout = "1,4" />
	       <ice                            layout = "144,3"   io_layout = "1,3" />
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="02:00:00">
               <atm ranks="576"  threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1300" threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1300p5_production"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="16:00:00" segRuntime="3:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1152" threads="2"   layout = "8,24"   io_layout = "1,4" />
	       <lnd                            layout = "8,24"   io_layout = "1,4" />
	       <ice                            layout = "144,8"  io_layout = "1,4" />
               <ocn ranks="1300" threads="1"   layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1620">
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1620"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="MOM_mask_table"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1300p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"	    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"   io_layout = "1,3" />
	       <ocn ranks="1300"   threads="1"    layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1441p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1441"   threads="1"    layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A576x2_O1441p5_production"><!--1/2 degree ocean grid Only-->
             <resources jobWallclock="16:00:00" segRuntime="3:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="1441"   threads="1"    layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1441p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"	    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"   io_layout = "1,3" />
	       <ocn ranks="1441"   threads="1"    layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A1152x2_O1441p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="1152" threads="2"   layout = "8,24"   io_layout = "1,4" />
               <lnd                            layout = "8,24"   io_layout = "1,4" />
               <ice                            layout = "144,8"  io_layout = "1,4" />
	       <ocn ranks="1441"   threads="1"    layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1437p5"><!--1/2 degree ocean grid Only-->
             <resources jobWallclock="01:00:00">
               <!--coupler_nml:do_ocean=.true.;coupler_nml:ocean_npes=1437;--> 
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />
               <lnd                            layout = "6,24"   io_layout = "1,4" />
               <ice                            layout = "144,6"   io_layout = "1,3" />
               <ocn ranks="1437"   threads="1"    layout = "40,45"   io_layout = "1,5" mask_table="mask_table.363.40x45"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O1608p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"	    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"   io_layout = "1,3" />
	       <ocn ranks="1608"   threads="1"    layout = "45,45"   io_layout = "1,5" mask_table="mask_table.417.45x45"/>
 	     </resources> 
   </freInclude>
   <freInclude name="resourceparams_A576x2_O951p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="576" threads="2"	    layout = "8,12"   io_layout = "1,4" />
	       <lnd                            layout = "8,12"   io_layout = "1,4" />
	       <ice                            layout = "144,4"   io_layout = "1,4" />
	       <ocn ranks="951"   threads="1"    layout = "32,36"   io_layout = "1,4" mask_table="mask_table.201.32x36"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O951p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"	    layout = "6,24"   io_layout = "1,4" />
	       <lnd                            layout = "6,24"   io_layout = "1,4" />
	       <ice                            layout = "144,6"   io_layout = "1,3" />
               <ocn ranks="951"   threads="1"    layout = "32,36"   io_layout = "1,4" mask_table="mask_table.201.32x36"/>
 	     </resources>
   </freInclude>
   <freInclude name="resourceparams_A864x2_O2044p5"><!--1/2 degree ocean grid Only-->
	     <resources jobWallclock="01:00:00">
               <atm ranks="864" threads="2"    layout = "6,24"   io_layout = "1,4" />          
	       <lnd                            layout = "6,24"   io_layout = "1,4" />           
	       <ice                            layout = "144,6"   io_layout = "1,3" /> 
	       <ocn ranks="2044"   threads="1"    layout = "36,72"   io_layout = "1,4" mask_table="mask_table.548.36x72"/>
 	     </resources>
   </freInclude>

  <setup>
    <platform name="ncrc4.intel17noovlim">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="17.0.0.098" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/> 
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="36"/>

     
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>

    <mkmfTemplate file="/ncrc/home2/Niki.Zadeh/bin/intel17noovlim.mk"/>

    </platform>
    <platform name="ncrc4.intel17">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="17.0.0.098" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/> 
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="36"/>

     
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>

    </platform>
    <platform name="ncrc4.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/> 
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="36"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>
    </platform>
    <platform name="ncrc4.intel15c3exec">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="15.0.2.164" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/> 
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="36"/>

     
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>

    </platform>
    <platform name="ncrc3.intel15">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="15.0.2.164" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="32"/>
     
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
module load nco/4.5.2
      ]]></csh>

    </platform>
    <platform name="ncrc3.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="32"/>
     
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
module load nco/4.5.2
      ]]></csh>

    </platform>

    <platform name="ncrc3.intel14">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="14.0.2.144" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="32"/>
     
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
module load nco/4.5.2
      ]]></csh>

    </platform>
    <platform name="ncrc3.pgi15">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="pgi" version="15.3.0" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="32"/>
     
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
module load nco/4.5.2
      ]]></csh>

    </platform>

    <platform name="theia.intel">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="15.1.133" />
      <project>gfdlport</project>
      <directory stem="$(FRE_STEM)">
        <root>/scratch4/GFDL/gfdlscr/$USER/$(stem)</root>
        <src>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/src</src>
        <exec>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/$(platform)-$(target)/exec</exec>
        <scripts>$HOME/$(stem)/$(name)/$(platform)-$(target)/scripts</scripts>
        <stdout>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/$(platform)-$(target)/stdout</stdout>
        <state>$HOME/$(stem)/$(name)/$(platform)-$(target)/state</state>
        <work>/scratch4/GFDL/gfdlscr/$USER/work/$FRE_JOBID</work>
        <ptmp>/scratch4/GFDL/gfdlscr/$USER/ptmp</ptmp>
        <archive>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/$(platform)-$(target)</archive>
      </directory>

      <property name="EXEC_ROOT"         value="$(rootDir)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_NESCC)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/scratch4/GFDL/gfdlscr/Niki.Zadeh/awg/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/scratch4/GFDL/gfdlscr/Niki.Zadeh/archive/input/ulm/LWH"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/scratch4/GFDL/gfdlscr/Niki.Zadeh/archive/input/ulm"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)"/>
      <property name="CWG_HOME"          value="/scratch4/GFDL/gfdlscr/John.Krasting/cwg"/>
      <property name="REFERENCE"         value=""/>
      <property name="ARCHIVE_INPUT_NZ"  value="/scratch4/GFDL/gfdlscr/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="32"/>

      <csh><![CDATA[
        module use -a /home/fms/local/modulefiles
        module use -a /contrib/gfdl/modulefiles
        module load intel/15.1.133
        module load netcdf/4.3.0
        module load hdf5/1.8.14
        module load impi/5.0.1.035
        module load nco
        module load $(FRE_VERSION)

        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
        ]]>
      </csh>
    </platform>

    <platform name="olcf.eos_intel14">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="" />
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(stem)</root>
        <exec>$CPERM/$USER/$(stem)/$(name)/$(platform)-$(target)/exec</exec>
        <state>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <scripts>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <!--swept locations (including the staged archive location)-->
        <archive>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CPERM/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_NESCC)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/CM4/input"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/CM4/input"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)/$(name)"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/atlas/proj-shared/cli061/pdata/fms"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="/lustre/atlas/proj-shared/cli061/pdata/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/retrospective"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="FMS_ARCHIVE_ROOT" value="/lustre/atlas/proj-shared/cli061/pdata/fms" />
      <property name="NCORE_PER_NODE"      value="32"/>
      
      <project>cli061</project>
      <csh><![CDATA[
        module use -a /ccs/proj/cli061/local/modulefiles
#        module unload PrgEnv-pgi PrgEnv-pathscale PrgEnv-intel PrgEnv-gnu PrgEnv-cray #if unload and reload PrgEnv-intel it cannot find some modules
        module unload netcdf fre
#        module load PrgEnv-intel
#        module swap intel intel/13.1.3.192 #does not find some system libraries
        module load $(FRE_VERSION)
#        module load netcdf/4.3.0
module load cray-netcdf/4.3.3.1
        module load gcp

#        module use /lustre/atlas/proj-shared/cli061/underwoo/hsm/modulefiles
        module load hsm
        setenv NC_BLKSZ 1M
        setenv KMP_STACKSIZE 512m
        setenv F_UFMTENDIAN big
setenv MPICH_ENV_DISPLAY
setenv MPICH_UNEX_BUFFER_SIZE 256m
limit stacksize unlimited
limit coredumpsize unlimited
        ]]>
      </csh>
    </platform>
    <platform name="olcf.eos_intel15">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="15.0.2.164" />
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(stem)</root>
        <exec>$CPERM/$USER/$(stem)/$(name)/$(platform)-$(target)/exec</exec>
        <state>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <scripts>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <!--swept locations (including the staged archive location)-->
        <archive>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CPERM/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g "/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_NESCC)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/CM4/input"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/CM4/input"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)/$(name)"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/$(reference_tag)/$(name)/$(platform)-$(target)"/>

      <property name="FMS_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/fms" />
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/atlas/proj-shared/cli061/pdata/fms"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="/lustre/atlas/proj-shared/cli061/pdata/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/retrospective"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH" value="/ncrc/home1/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="32"/>
      
      <project>cli061</project>
      <csh><![CDATA[
        module use -a /ccs/proj/cli061/local/modulefiles
#        module unload PrgEnv-pgi PrgEnv-pathscale PrgEnv-intel PrgEnv-gnu PrgEnv-cray #if unload and reload PrgEnv-intel it cannot find some modules
        module unload netcdf fre
#        module load PrgEnv-intel
        module swap intel intel/15.0.2.164 #does not find some system libraries
        module load $(FRE_VERSION)
#        module load netcdf/4.3.0
        module load cray-netcdf/4.3.3.1
        module load gcp
#        module use /lustre/atlas/proj-shared/cli061/underwoo/hsm/modulefiles
        module load hsm
        setenv NC_BLKSZ 1M
        setenv KMP_STACKSIZE 512m
        setenv F_UFMTENDIAN big
setenv MPICH_ENV_DISPLAY
setenv MPICH_UNEX_BUFFER_SIZE 256m
limit stacksize unlimited
limit coredumpsize unlimited
       ]]>
      </csh>
    </platform>
    <platform name="gfdl.default">
      <freVersion>$(FRE_VERSION)</freVersion>
      <property name="NB_ROOT"  value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/><!--Do not change this! Other platforms use  the same value. -->
      <directory stem="$(FRE_STEM)">
        <archive>$ARCHIVE/$(stem)/$(name)/$(platform)-$(target)</archive>
        <postProcess>$(archiveDir)/pp</postProcess>
        <ptmp>/ptmp/$USER</ptmp>
        <analysis>$(NB_ROOT)</analysis><!--Do not change this! frepp translates this to $out_dir. This is also the directory under which  frepp looks for mom6 clone.  -->
      </directory>
      <property name="EXEC_ROOT"         value="$(rootDir)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GFDL)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/archive/cjg/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value=""/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/archive/miz/mdt"/>
      <property name="CWG_HOME"          value="/archive/John.Krasting/cwg"/>
      <property name="REFERENCE"         value=""/>
      <property name="ARCHIVE_INPUT_NZ"  value="/archive/Niki.Zadeh/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value=""/>
      <property name="OBGC_ARCHIVE_ROOT"    value=""/> 
      <property name="OBGC_MODEL_UPDATES"   value="/home/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value=""/>
      <property name="MODEL_UPDATES_WH"     value="/home/Bill.Hurlin"/>
      <property name="NCORE_PER_NODE"      value="1"/>


      <csh><![CDATA[
        source $MODULESHOME/init/csh
        module use -a /home/fms/local/modulefiles
        module purge
        module load fre/$(FRE_VERSION)
        module load fre-analysis
        module load git
        setenv FREVERSION fre/$(FRE_VERSION)           
        setenv NBROOT $(NB_ROOT)
        /home/Niki.Zadeh/nnz_tools/bin/verify -m $(MOM6_GIT_TAG) -x dev
      ]]>
      </csh>
    </platform>
    <platform name="gfdl.ncrc3-intel15">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.ncrc4-intel15c3exec">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.ncrc4-intel16">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.olcf-eos_intel15">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.theia-intel">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>

    <platform name="gfdl-ws.default">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>

  </setup>

<!--===========-->
<!--= COMPILE =-->
<!--===========-->
  <!--The property MOM6_EXAMPLES should point to the mom6 directory that is checked out. It is needed by MOM6 to access its input data files-->
  <property name="LIBS_ROOT"      value="cm4_libs_compile"/> <!--name of libs compile experiment-->
  
  <property name="MOM6_EXAMPLES"  value="$root/$(LIBS_ROOT)/src/mom6"/>
  <property name="FMS_LIB_DIR"    value="./$(LIBS_ROOT)/$(platform)-$(target)/exec"/>
  <property name="MY_LIBS"        value="$(EXEC_ROOT)/$(FMS_LIB_DIR)"/>

  <experiment name="cm4_libs_compile">
    <description>
Experiment to build executable.
    </description>

    <component name="fms" paths="shared">
     <description domainName="infrastructure" communityName="FMS" communityVersion="$(RELEASE)" communityGrid=""/>
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
            <codeBase version="$(RELEASE)"> shared.git </codeBase>
      	    <csh><![CDATA[
              ( cd shared && git checkout $(SHARED_GIT_TAG) )
              ]]>
            </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -Duse_libMPI -Duse_netCDF -DMAXFIELDMETHODS_=500</cppDefs>
      </compile>
    </component>

    <component name="atmos_phys" requires="fms" paths="atmos_param atmos_shared">
      <description domainName="" communityName="" communityVersion="$(RELEASE)" communityGrid=""/>
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)"> atmos_shared.git atmos_param.git </codeBase>
          <csh><![CDATA[
            ( cd atmos_shared && git checkout $(AWG_GIT_TAG) )
            ( cd atmos_param  && git checkout $(AWG_GIT_TAG) )
           ]]>
          </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -DCLUBB -DAM3_CHEM</cppDefs>
      </compile>
    </component>

    <component name="atmos_dyn" paths="atmos_drivers/coupled
                                       atmos_cubed_sphere/driver/coupled
                                       atmos_cubed_sphere/model
                                       atmos_cubed_sphere/model_nh_null
                                       atmos_cubed_sphere/GFDL_tools
                                       atmos_cubed_sphere/tools" requires="fms atmos_phys">
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)">atmos_drivers.git atmos_cubed_sphere.git</codeBase>
        <csh><![CDATA[
          ( cd atmos_drivers && git checkout $(AWG_GIT_TAG) )
          ( cd atmos_cubed_sphere && git checkout $(AWG_GIT_TAG) )
         ]]>
        </csh>
      </source>
      <compile>
        <cppDefs>$(F2003_FLAGS) -DCLIMATE_NUDGE -DSPMD</cppDefs>
      </compile>
    </component>

    <component paths="ice_sis ice_param" requires="fms" name="ice_sis">
         <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
            <codeBase version="$(RELEASE)"> ice_sis.git ice_param.git </codeBase>
         </source>
         <compile>
            <cppDefs>$(F2003_FLAGS)</cppDefs>
         </compile>
    </component>

    <component name="land_lad2" requires="fms" paths="land_lad2">
      <description domainName="LM3" communityName="land_lad2" communityVersion="$(LAND_GIT_TAG)" communityGrid=""/>
      <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(LAND_GIT_TAG)">land_lad2.git</codeBase>
      </source>
      <compile doF90Cpp="yes">
       <cppDefs>$(F2003_FLAGS) -nostdinc </cppDefs>
      </compile>
    </component>

    <component name="mom6" requires="fms" paths="mom6/src/MOM6/config_src/dynamic mom6/src/MOM6/config_src/coupled_driver mom6/src/MOM6/src/*/ mom6/src/MOM6/src/*/*/ ocean_shared">
      <description domainName="Ocean" communityName="GFDL-MOM6" communityVersion="$(MOM6_GIT_TAG)" communityGrid="Tripolar"/>
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)"> ocean_null.git </codeBase>
        <csh><![CDATA[
          \rm -rf ocean_null
          git clone -b $(MOM6_GIT_TAG) https://github.com/NOAA-GFDL/MOM6-examples.git mom6
          pushd mom6
          git checkout $(MOM6_GIT_TAG)  #needed for older git on zeus
          git submodule init src/MOM6 src/SIS2 src/icebergs tools/python/MIDAS
          git clone --recursive https://github.com/NOAA-GFDL/MOM6.git src/MOM6 
          git clone             https://github.com/NOAA-GFDL/SIS2.git src/SIS2
          git clone             https://github.com/NOAA-GFDL/icebergs.git src/icebergs
          git submodule update #This gets the right version of submodules
          popd

          #To use MOM6 diagnostics/remapping in generic tracers package ocean_shared should be compiled as part of the MOM6 library and NOT as a separate stand-alone library
          git clone -b $(RELEASE) http://gitlab.gfdl.noaa.gov/fms/ocean_shared.git
          (cd ocean_shared && git checkout user/nnz/mom6_dev)
          (cd ocean_shared && git checkout $(MOM6_GIT_TAG))

          pushd mom6
          set platform_domain = `perl -T -e "use Net::Domain(hostdomain) ; print hostdomain"`
          if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
            ln -s /scratch4/GFDL/gfdlscr/pdata/gfdl_O/datasets/ .datasets
          else if ("${platform_domain}" =~ *"ccs.ornl.gov"* ) then
            ln -s /lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/ .datasets
          else
            ln -s /lustre/f1/pdata/gfdl_O/datasets/ .datasets
          endif
          popd	  

          test -e mom6/.datasets
          if ($status != 0) then
            echo ""; echo "" ; echo "   WARNING:  .datasets link in MOM6 examples directory is invalid"; echo ""; echo ""
          endif
 
 
        ]]></csh>
      </source>
      <compile>
        <cppDefs><![CDATA[ $(F2003_FLAGS) -DMAX_FIELDS_=100 -DNOT_SET_AFFINITY -D_USE_MOM6_DIAG -D_USE_GENERIC_TRACER -D_FILE_VERSION="'"`git-version-string $<`"'" ]]></cppDefs>
        <makeOverrides>OPENMP=""</makeOverrides> <!-- openmp switch for MOM6 may cause crash -->
      </compile>
    </component>

    <component name="sis2" paths="mom6/src/SIS2 ice_param" requires="fms mom6 icebergs" includeDir="$root/$(LIBS_ROOT)/src/mom6/src/MOM6/src/framework" > 
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
           <codeBase version="$(RELEASE)"> ocean_null.git </codeBase>
           <csh>\rm -rf ocean_null</csh>
       </source>
       <compile>
            <cppDefs><![CDATA[$(F2003_FLAGS) -D_FILE_VERSION="'"`git-version-string $<`"'"]]></cppDefs>
       </compile>
    </component>

    <component name="icebergs" paths="mom6/src/icebergs" requires="fms">
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)"> ocean_null.git </codeBase>
        <csh>\rm -rf ocean_null</csh>
       </source>
       <compile>
            <cppDefs><![CDATA[-D_FILE_VERSION="'"`git-version-string $<`"'"]]> </cppDefs>
       </compile>
       <description domainName="N/A" communityName="N/A" communityVersion="$(RELEASE)" communityGrid="N/A"/>
    </component>

  </experiment>

  <!-- cm4_compile is the compile experiment name -->
  <experiment name="cm4_compile" inherit="cm4_libs_compile">
      <component paths="shared" name="fms" includeDir="$root/$(LIBS_ROOT)/src/shared/include">
         <library path="$(MY_LIBS)/fms/libfms.a" headerDir="$(MY_LIBS)/fms"/>
      </component>
      <component name="land_lad2" paths="land_lad2" requires="fms">
         <library path="$(MY_LIBS)/land_lad2/libland_lad2.a" headerDir="$(MY_LIBS)/land_lad2"/>
      </component>
      <component name="atmos_phys" paths="atmos_phys atmos_param" requires="fms">
          <library path="$(MY_LIBS)/atmos_phys/libatmos_phys.a" headerDir="$(MY_LIBS)/atmos_phys"/>
      </component>
      <component name="atmos_dyn" paths="atmos_drivers/coupled
                                       atmos_cubed_sphere/driver/coupled
                                       atmos_cubed_sphere/model
                                       atmos_cubed_sphere/model_nh_null
                                       atmos_cubed_sphere/tools" requires="fms atmos_phys">
          <library path="$(MY_LIBS)/atmos_dyn/libatmos_dyn.a" headerDir="$(MY_LIBS)/atmos_dyn"/>
      </component>
      <component paths="mom6" requires="fms" name="mom6">
         <library path="$(MY_LIBS)/mom6/libmom6.a" headerDir="$(MY_LIBS)/mom6"/>
      </component> 
      <component paths="ice_sis" requires="fms" name="ice_sis">
         <library path="$(MY_LIBS)/ice_sis/libice_sis.a" headerDir="$(MY_LIBS)/ice_sis"/>
      </component> 
      <component name="coupler" paths="coupler" requires="fms atmos_dyn atmos_phys land_lad2 ice_sis mom6">
        <description domainName="FMS Coupler" communityName="coupler" communityVersion="$(RELEASE)" communityGrid=""/>  
        <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
          <codeBase version="$(RELEASE)"> coupler.git </codeBase>
        </source>
        <compile>
          <cppDefs><![CDATA[$(F2003_FLAGS) -D_FILE_VERSION="'"`git-version-string $<`"'"]]></cppDefs>
         </compile>
      </component>
  </experiment>
  
  <experiment name="cm4_sis2_compile" inherit="cm4_libs_compile">
      <component paths="shared" name="fms" includeDir="$root/$(LIBS_ROOT)/src/shared/include">
         <library path="$(MY_LIBS)/fms/libfms.a" headerDir="$(MY_LIBS)/fms"/>
      </component>
      <component name="land_lad2" paths="land_lad2" requires="fms">
         <library path="$(MY_LIBS)/land_lad2/libland_lad2.a" headerDir="$(MY_LIBS)/land_lad2"/>
      </component>
      <component name="atmos_phys" paths="atmos_phys atmos_param" requires="fms">
          <library path="$(MY_LIBS)/atmos_phys/libatmos_phys.a" headerDir="$(MY_LIBS)/atmos_phys"/>
      </component>
      <component name="atmos_dyn" paths="atmos_drivers/coupled
                                       atmos_cubed_sphere/driver/coupled
                                       atmos_cubed_sphere/model
                                       atmos_cubed_sphere/model_nh_null
                                       atmos_cubed_sphere/tools" requires="fms atmos_phys">
          <library path="$(MY_LIBS)/atmos_dyn/libatmos_dyn.a" headerDir="$(MY_LIBS)/atmos_dyn"/>
      </component>
      <component paths="icebergs" requires="fms" name="icebergs">
         <library path="$(MY_LIBS)/icebergs/libicebergs.a" headerDir="$(MY_LIBS)/icebergs"/>
      </component> 
      <component paths="mom6" requires="fms" name="mom6">
         <library path="$(MY_LIBS)/mom6/libmom6.a" headerDir="$(MY_LIBS)/mom6"/>
      </component> 
      <component paths="sis2" requires="fms icebergs" name="sis2">
         <library path="$(MY_LIBS)/sis2/libsis2.a" headerDir="$(MY_LIBS)/sis2"/>
      </component> 
      <component name="coupler" paths="coupler" requires="fms atmos_dyn atmos_phys land_lad2 sis2 mom6 icebergs">
        <description domainName="FMS Coupler" communityName="coupler" communityVersion="$(RELEASE)" communityGrid=""/>  
        <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
          <codeBase version="$(RELEASE)"> coupler.git </codeBase>
        </source>
        <compile>
          <cppDefs><![CDATA[$(F2003_FLAGS) -D_FILE_VERSION="'"`git-version-string $<`"'"]]></cppDefs>
         </compile>
      </component>
  </experiment>

<!--============================-->
<!--= TEMPLATES FOR INPUT DATA =-->
<!--============================-->
  <freInclude name="common_LM4">
    <input>
      <dataFile label="input" target="INPUT/soil_type.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$CPERM/Krista.A.Dunne/mod_input_files/any_grid/soil_type_hwsd_5minute.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/lm3/biodata.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/lm3/cover_type.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/lm3/geohydrology.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/lm3/geohydrology_table_2a2n.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/lm3/ground_type.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/lm3/landuse.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/lm3/soil_brdf.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96_LM4">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Sergey.Malyshev/fre/tikal/LM3/LM3p2sosn_HWSD5min_C96_OM4_025_historical_HC1_static_veg_out/ncrc2.default-prod/static_veg/19810101.static_veg_LM3p2sosn_HWSD5min_C96_OM4_025.v20150930.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_ARCHIVE_ROOT)/awg/input/lm3/c96_OM4_025_hydrography_v20140620.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/INPUT/drag/c96_topo_rough_land.nc.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <freInclude name="c96_LM4_Op5">
    <input>
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/mosaic_c96.720x576.tar</dataSource>
      </dataFile>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">/lustre/f1/unswept/Sergey.Malyshev/fre/tikal/LM3/LM3p2_C96_CM2G_historical_HC1_quick/ncrc2.default-prod/static_veg/19810101.static_veg.lm3p2.remapped_to_c96_OM4_05_720x576.v20151120.tar</dataSource>
        <dataSource site="theia">/scratch4/GFDL/gfdlscr/Niki.Zadeh/awg/mdt/awg/input/lm3/19810101.static_veg.lm3p2.remapped_to_c96_OM4_05_720x576.v20151120.tar</dataSource>
        <dataSource site="olcf"></dataSource>
       </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/river_data_hydrography.c96_OM4_05-v20151028_20160628.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/INPUT/drag/c96_topo_rough_land.nc.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="common_AM4_v20170208">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/sea_esf_CM4_V6_AUG2015.cpio</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f1/unswept/Ming.Zhao/archive/mdt/awg/input/aerosol_inputs/aerosol_inputs_newdroplet2_v20170208.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(LWH_ARCHIVE_ROOT)/cm3/ipcc_ar5/input/common/tropchem_dec2015.cpio</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Fabien.Paulot/archive/depvel/depvel_gc_am3_tran.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_ARCHIVE_ROOT)/liteChem/input/emissions/so2_0.25_volcanoes.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/AM4_201510" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Fabien.Paulot/archive/rad/am4_optical_table_20151029.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="common_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/cmip6/cmip6_GHG_ODS_conc_2016.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/chemlbf" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Vaishali.Naik/input/cmip6_forcing_dataset/chemlbf/chemlbf_CMIP6_merge_RCP45</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/o3.climatology.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/litechem/o3.climatology.add_Dec1849.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(LWH_ARCHIVE_ROOT)/cm3/ipcc_ar5/input/2000/emissions.isoprene.1x1.2000.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(LWH_ARCHIVE_ROOT)/cm3/ipcc_ar5/input/2000/emissions.terpenes.1x1.2000.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_TimeSeries_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/omgsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/asmsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Solar/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_2010_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_2010/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_2010/omgsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_2010/asmsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_2010/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Solar/AVG_2010/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_1860_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_1860/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_1860/omgsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_1860/asmsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_1860/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Solar/AVG_1860/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="Volcano_Solar_1850_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_1850/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_1850/omgsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_1850/asmsw_data.nc</dataSource>
      </dataFile>
        <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
      <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Volcano/AVG_1850/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/David.Paynter/CMIP6_INPUT/Solar/AVG_1850/lean_solar_spectral_data.dat</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="emissions_TimeSeries_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Vaishali.Naik/input/cmip6_forcing_dataset/emissions/v2016-07-26/1849-2015/emissions.0.5x0.5.1849-2015.tar</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/anthro_so2.1849_2015.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Vaishali.Naik/input/cmip6_forcing_dataset/emissions/v2016-07-26/lite_chemistry/emissions.simple.so2.0.5x0.5.1849-2015.nc</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/awg/input/cmip6/co2_data.nc</dataSource>
      </dataFile>

    </input>
  </freInclude>

  <freInclude name="emissions_1850_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Vaishali.Naik/input/cmip6_forcing_dataset/emissions/v2016-07-26/1850/emissions.0.5x0.5.1850.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/anthro_so2.1850.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Vaishali.Naik/input/cmip6_forcing_dataset/emissions/v2016-07-26/lite_chemistry/emissions.simple.so2.0.5x0.5.1850.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="emissions_2010_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Vaishali.Naik/input/cmip6_forcing_dataset/emissions/v2016-07-26/2010/emissions.0.5x0.5.2010.tar</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/anthro_so2.2010.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Vaishali.Naik/input/cmip6_forcing_dataset/emissions/v2016-07-26/lite_chemistry/emissions.simple.so2.0.5x0.5.2010.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="L32_gas_conc">
    <input>
      <dataFile label="input" target="INPUT/gas_conc_3D_am3p9.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_ARCHIVE_ROOT)/liteChem/input/aerosol/gas_conc_3D32L_am3p9.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="L48_gas_conc">
    <input>
      <dataFile label="input" target="INPUT/gas_conc_3D_am3p9.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_ARCHIVE_ROOT)/liteChem/input/aerosol/gas_conc_3D48L_am3p9.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="amip_sst">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/Hadley_sst/20160504/hadisst.186912-201602.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="climo_sst">
    <input>
      <dataFile label="input" target="INPUT/hadisst_sst.data.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_ARCHIVE_ROOT)/cm3/ipcc_ar5/input/common/sst.climo.1981-2000.data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/hadisst_ice.data.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_ARCHIVE_ROOT)/cm3/ipcc_ar5/input/common/ice.climo.1981-2000.data.nc</dataSource>
      </dataFile>

    </input>
  </freInclude>

  <freInclude name="amip_sst_cmip6">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/PCMDI_sst/CMIP6_PCMDI.186901-201612.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="climo_sst_cmip6">
    <input>
      <dataFile label="input" target="INPUT/hadisst_sst.data.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/PCMDI_sst/sst.climo.1981-2014.data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/hadisst_ice.data.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/PCMDI_sst/ice.climo.1981-2014.data.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96_grid">
    <input>
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$CPERM/Huan.Guo/INPUT/grid/c96_OM4_025_grid_No_mg_drag_v20160808.tar</dataSource>
        <dataSource site="gfdl">/archive/h1g/INPUT/c96_awg/c96_OM4_025_grid_No_mg_drag_v20160808.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c192_LM4">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <!--dataSource platform="$(platform)">$(AWG_ARCHIVE_ROOT)/awg/input/lm3/19810101.static_veg.remapped_to_C192_OM4_025_southshifted.v20150302.tar</dataSource-->
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/INPUT/static_veg/19810101.static_veg_LM3p2sosn_HWSD5min_C192_OM4_025.v20160304.tar</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_ARCHIVE_ROOT)/awg/input/lm3/c192_OM4_025_hydrography_v20140708.tar </dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/INPUT/drag/c192_topo_rough_land.nc.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c192_grid">
    <input>
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$CPERM/Huan.Guo/INPUT/grid/c192_OM4_025_grid_No_mg_drag_v20160808.tar</dataSource>
        <dataSource site="gfdl">/archive/h1g/INPUT/c192_awg/c192_OM4_025_grid_No_mg_drag_v20160808.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_faero">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_faero</dataSource>
      </dataFile>
    </input>
  </freInclude>


  <freInclude name="field_table_am4p10">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p10</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p11">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p10_fullchem">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p10_fullchem</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p11_fullchem">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11_fullchem</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p11_fullchem_2010">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11_fullchem_2010</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="field_table_am4p11_fullchem_1860">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/field_table/field_table_am4p11_fullchem_1860</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="diag_table_lm3p2_faero">
    <input>
      <diagTable>
$name
$baseDate

      </diagTable>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos_faero</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos_simpleSO4</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_land_ug</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="diag_table_lm3p2_fullaero">
    <input>
      <diagTable>
$name
$baseDate

      </diagTable>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos_simpleSO4</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_land_ug</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="diag_table_lm3p2_fullchem">
    <input>
      <diagTable>
$name
$baseDate

      </diagTable>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_atmos_fullchemOnly_v20140325</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/diag_table/diag_table_land_ug</dataSource>
      </dataFile>
    </input>
  </freInclude>


  <freInclude name="data_table_AM4">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/data_table/data_table_amip</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="data_table_co2">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(AWG_INPUT_HOME)/data_table/data_table_co2</dataSource>
      </dataFile>
    </input>
  </freInclude>


  <freInclude name="c96L32_aero_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/INPUT/InitCond/AWG_c96L32/aero_ic/awg_C96L32_LM3_OM4_025_grid_lm4p1_topo_v20160209.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96L32_initCond_Newtopo">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/INPUT/InitCond/AWG_c96L32/topo_v20161229/awg_C96L32_LM3_OM4_025_grid_lm4p1_topo_v20161229.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96L48_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/INPUT/InitCond/AWG_c96L48/awg_C96L48_LM3_OM4_025_grid_lm4p1_topo_v20160210.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>


  <freInclude name="c192L32_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$CPERM/Huan.Guo/INPUT/InitCond/AWG_c192L32_newLand20160112/awg_C192L32_OM4_025_grid_lm4p1_v20161202.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96L32_Op5_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OM4_05_ARCHIVE)/c96L32_Op5_initCond.tar</dataSource>
        <dataSource site="theia">$(OM4_05_ARCHIVE)/c96L32_Op5_initCond.tar</dataSource>
        <dataSource site="olcf">$(OM4_05_ARCHIVE)/c96L32_Op5_initCond.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="c96L32_Op5_initCond_20170118">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">/lustre/f1/unswept/Ming.Zhao/archive/mdt/cm4/ic/c96L32_Op5_initCond_newtopo_20170118.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="common_init_csh_blocks">
    <input>
      <csh type="always"><![CDATA[

# Copy AWG and OWG ascii input files to GFDL (waiting for FRE to do this for us)
if ( $?flagOutputXferOn && $?flagOutputPostProcessOn && $currentSeg == 1 ) then
  #gcp --batch does not understand some variations of home filesystem like /autofs/mnt/ncrc-svm1_home1 so we need to massage rtsxml to comply
  set xmldirlocal = `dirname $rtsxml | sed -r "s/^\/(autofs|ncrc)\/.+\/$USER\//\~$USER\//"`
  set xmldirRemote = `echo $xmldirlocal | sed -r "$patternSedHome"`
  set platform_domain = `perl -T -e "use Net::Domain(hostdomain) ; print hostdomain"`
  if ("${platform_domain}" == "ncrc.gov") then
    set xmldirRemote = `echo $xmldirlocal | sed -r "$patternSedHome;$patternSedCTMP;$patternSedCPERM"`
    gcp --batch -cd -r --sync $xmldirlocal/awg_include gfdl:$(AWG_INPUT_HOME_GFDL)/..
    gcp --batch -cd -r --sync $xmldirlocal/awg_include gfdl:$xmldirRemote/
  else if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
    gcp -cd -r --sync $xmldirlocal/awg_include gfdl:$(AWG_INPUT_HOME_GFDL)/..
    gcp -cd -r --sync $xmldirlocal/awg_include gfdl:$xmldirRemote/
  endif
  #trick to copy MOM6 directory but avoid traversing the .datasets links
  tar cvf mom6.tar --exclude='.datasets' -C $(MOM6_EXAMPLES) . > /dev/null
  #tar cvf mom6.tar  --exclude='.datasets' --exclude='src' --exclude='INPUT'  -C $(MOM6_EXAMPLES) . > /dev/null
  mkdir mom6
  tar xvf mom6.tar -C ./mom6 > /dev/null
  if ("${platform_domain}" == "ncrc.gov") then
    gcp --batch -cd -r --sync mom6 gfdl:$(NB_ROOT)/
  else if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
    gcp -cd -r --sync mom6 gfdl:$(NB_ROOT)/
  endif
endif

# create dummy MOM6 parameter file for do_ocean=.false.
touch $work/INPUT/MOM_input
touch $work/INPUT/MOM_override
touch $work/INPUT/MOM_layout
touch $work/INPUT/SIS_override
touch $work/INPUT/SIS_layout
ln -s $work/INPUT/topog.nc $work/INPUT/ocean_topog.nc 

# Record the job stdout location for later use timings database
cat >> $HOME/frejobs_stdout <<EOF_frejobs
$stdoutDir/$FRE_JOBID
EOF_frejobs


####COMMON ALWAYS CSH BEGINS######
# MOM6 restart switch
if ( $currentSeg == 1 ) then
   set restart_flag = 'n'
else
   set restart_flag = 'r'
endif

######################################################################
#  The finite-volume cubed-sphere model should have the dry mass
#  adjusted at the initial model time only. This script determines
#  if the model is at the initial time by comparing model start time
#  and current time in the coupler.res file.
######################################################################
set adjust_dry_mass = ".true."
if (-e $work/INPUT/coupler.res) then
   set t1 = (`grep "Model start time"   $work/INPUT/coupler.res | awk '{print $1,$2,$3,$4,$5,$6}'`)
   set t2 = (`grep "Current model time" $work/INPUT/coupler.res | awk '{print $1,$2,$3,$4,$5,$6}'`)
   foreach i (1 2 3 4 5 6)
      if ( $t1[$i] != $t2[$i] ) then
         set adjust_dry_mass = ".false."
         break   
      endif      
   end
endif

#Scan auxiliary_nml for setting MOM6/SIS2 layouts

cat > $work/INPUT/MOM_layout << MOM_LAYOUT_EOF
#override IO_LAYOUT = $ocn_io_layout
#override LAYOUT    = $ocn_layout
#override MASKTABLE = $ocn_mask_table
MOM_LAYOUT_EOF

cat > $work/INPUT/SIS_layout << SIS_LAYOUT_EOF
#override IO_LAYOUT = $ice_io_layout
#override LAYOUT    = $ice_layout
SIS_LAYOUT_EOF

#Handle concurrent radiation case

set do_concurrent_radiation = `awk '/do_concurrent_radiation/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set radiation_nthreads = `awk '/radiation_nthreads/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set atmos_nthreads = $atm_threads
if ( $do_concurrent_radiation == ".true." ) then
   @ atmos_nthreads -= $radiation_nthreads
   set atm_threads = $atmos_nthreads
   setenv MALLOC_CHECK_ 5
   setenv MPICH_GNI_NDREG_LAZYMEM disabled
   alias runCommand /usr/bin/time -p `which aprun` -n $atmos_npes -d $atmos_nthreads ./$executable:t  
endif

#timing runs show that nyblocks = 2 * atm_threads perform better than nyblocks = atm_threads
set nxblock = 1
set nyblock = $atm_threads
@ nyblock = 2 * $atm_threads

#Handle hyperthreaded cases
set atmos_nthreads = $atm_threads
set atm_hythr = 1
set ocn_hythr = 1

set use_hyper_thread = `awk '/use_hyper_thread/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
if ( $use_hyper_thread == ".T." || $use_hyper_thread == ".true." ) then
   @ atmos_nthreads *= 2
   set atm_hythr = 2
   if ( $tot_ocn_ranks == 0 ) then
      alias runCommand /usr/bin/time -p `which aprun` -j2 -d $atmos_nthreads -n $atm_ranks ./$executable:t
   else
      alias runCommand /usr/bin/time -p `which aprun` -j2 -d $atmos_nthreads -n $atm_ranks ./$executable:t : -n $ocn_ranks -j1 -d 1 ./$executable:t
   endif
endif
set atmos_threads = $atmos_nthreads

###The following vars are set for the timing database ingestion tool only and are not necessary for a successful run
set OCN_MASK_TABLE  =  $ocn_mask_table
set OCN_LAYOUT    = $ocn_layout
set OCN_IO_LAYOUT = $ocn_io_layout
set ICE_LAYOUT    = $ice_layout
set ICE_IO_LAYOUT = $ice_io_layout
set atmos_npes = $atm_ranks
set ocean_npes = $ocn_ranks
set fv_layout = $atm_layout
set fv_io_layout  = $atm_io_layout
set land_layout   = $lnd_layout
set land_io_layout = $lnd_io_layout
#set dummy  = `awk '/nxblocks/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set nxblocks = $nxblock
#set dummy  = `awk '/nyblocks/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`
set nyblocks = $nyblock
set use_hyperthread = $use_hyper_thread
set atm_hyperthread = $atm_hythr
set ocn_hyperthread = $ocn_hythr

####COMMON ALWAYS CSH ENDS######
      ]]></csh>
           
     </input>
  </freInclude>


<!--================================-->
<!--= TEMPLATES FOR POSTPROCESSING =-->
<!--================================-->
  <freInclude name="c96_climo_postprocess">
    <postProcess>

      <component type="atmos" zInterp="era40" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="3hr" source="atmos_8xdaily" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmos8xDailyTS/*)">
            <xi:fallback/>
          </xi:include>
          <!-- MDBIswitch must be on to trigger "fredb" automatically -->
          <analysis switch="$(MDBIswitch)" cumulative="no" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
        </timeSeries>

        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmos4xDailyTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeSeries freq="daily" source="atmos_daily" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosDailyTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthTS/*)">
            <xi:fallback/>
          </xi:include>
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/a1r/analysis/agu/Krasting/pywavelet_jpk_a1r.py -varname t_surf -comp atmos"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)">
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/fms/local/opt/fre-analysis/test/eem/code/pcmdi_metrics/frepp.pcmdi_metrics.atmos.csh"/>
	</timeAverage>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/fms/local/opt/fre-analysis/test/eem/code/pcmdi_metrics/frepp.pcmdi_metrics.atmos.csh"/>
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosAnnualAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

      <component type="atmos_level" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)"/>
        <timeSeries freq="annual"  chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosLevelAnnualTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosLevelMonthAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

      <component type="atmos_month_aer" source="atmos_month_aer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthAerAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

      <component type="atmos_diurnal" source="atmos_diurnal" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="atmos_scalar" source="atmos_scalar">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)"/>
      </component>

<!-- FULL CHEMISTRY -->
      <component type="tracer_level" source="atmos_tracer" sourceGrid="atmos-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)">
	  <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/tracerMonthTS/*)">
	    <xi:fallback/>
	  </xi:include>
	</timeSeries>
        <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/tracerAnnualTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/tracerMonthAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

<!-- LAND -->
      <component type="land" source="land_month" sourceGrid="land-cubedsphere" xyInterp="180,288" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CPLD_CHUNK_A)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landMonthTS/*)" >
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_B)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landMonthAve/*)" >
            <xi:fallback/>
	  </xi:include>
        </timeAverage>
      </component>

      <component type="land_cubic" source="land_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" >
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landMonthTSNative/*)" >
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landDailyTSNative/*)">
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
      </component>

      <component type="land_instant_cubic" source="land_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
      </component>

    </postProcess>
  </freInclude>

   <freInclude name="c192_climo_postprocess">
    <postProcess>

      <component type="atmos" zInterp="era40" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="3hr" source="atmos_8xdaily" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmos8xDailyTS/*)">
            <xi:fallback/>
          </xi:include>
<!-- MDBI, this switch must be on to trigger "fredb" automatically -->
          <analysis switch="$(MDBIswitch)" cumulative="no" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>
<!-- /MDBI -->
        </timeSeries>
        <timeSeries freq="6hr" source="atmos_4xdaily" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmos4xDailyTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeSeries freq="daily" source="atmos_daily" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosDailyTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthTS/*)">
            <xi:fallback/>
          </xi:include>
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/a1r/analysis/agu/Krasting/pywavelet_jpk_a1r.py -varname t_surf -comp atmos"/>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)">
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/fms/local/opt/fre-analysis/test/eem/code/pcmdi_metrics/frepp.pcmdi_metrics.atmos.csh"/>
	</timeAverage> 
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/fms/local/opt/fre-analysis/test/eem/code/pcmdi_metrics/frepp.pcmdi_metrics.atmos.csh"/>
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_A)" calcInterval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosAnnualAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

      <component type="atmos_level" source="atmos_month" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)"/>
        <timeSeries freq="annual"  chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosLevelAnnualTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosLevelMonthAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

      <component type="atmos_month_aer" source="atmos_month_aer" sourceGrid="atmos-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/atmosMonthAerAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

      <component type="atmos_diurnal" source="atmos_diurnal" sourceGrid="atmos-cubedsphere" xyInterp="360,576">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="atmos_scalar" source="atmos_scalar">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)"/>
      </component>

<!-- FULL CHEMISTRY -->
      <component type="tracer_level" source="atmos_tracer" sourceGrid="atmos-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)">
	  <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/tracerMonthTS/*)">
	    <xi:fallback/>
	  </xi:include>
	</timeSeries>
        <timeSeries freq="annual"  chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/tracerAnnualTS/*)">
            <xi:fallback/>
          </xi:include>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/tracerMonthAve/*)">
            <xi:fallback/>
          </xi:include>
        </timeAverage>
      </component>

<!-- LAND -->
      <component type="land" source="land_month" sourceGrid="land-cubedsphere" xyInterp="360,576" interpMethod="conserve_order1">
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CPLD_CHUNK_A)"/>
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landMonthTS/*)" >
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landMonthAve/*)" >
            <xi:fallback/>
	  </xi:include>
        </timeAverage>
      </component>
      <component type="land_cubic" source="land_month" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" >
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landMonthTSNative/*)" >
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
        <timeSeries freq="daily" source="land_daily" chunkLength="$(PP_CPLD_CHUNK_A)">
          <xi:include href="./awg_include/analysis/analysis_cpld.xml" xpointer="xpointer(*/landDailyTSNative/*)">
            <xi:fallback/>
	  </xi:include>
        </timeSeries>
      </component>

      <component type="land_instant_cubic" source="land_month_inst" sourceGrid="land-cubedsphere">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
      </component>

    </postProcess>
  </freInclude>


<!--====================-->
<!--= AMIP EXPERIMENTS =-->
<!--====================-->
  
  <experiment name="c96L32_am4g12r17_2010climo" inherit="cm4_compile">
    <publicMetadata DBswitch="$MDBIswitch">
      <project>"$(ProjectID)"</project>
      <model>"am4p12"</model>
      <modelID>"am4p12"</modelID>
      <experimentName>"$(name)"</experimentName>
      <experimentID>"$(name)" </experimentID>
      <comment>
       Experiment name = $(name)
      </comment>
    </publicMetadata>
    <description>
AM4 prototype configuration "am4g12" from MDT Atmosphere Working Group.
configuration with present-day climatological SSTs, present-day GHGs and aerosols.

- c96 horizontal grid with approximately 100km resolution and 32 vertical levels.
- Convection based on "double-plume" from Ming Zhao.
- Tiedtke cloud scheme

For more information about AWG configurations, refer to
http://cobweb.gfdl.noaa.gov/~cjg/awg
    </description>
    <input>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = 1,1,1,0,0,0,
        calendar = 'noleap'
        dt_atmos = 1800,
        dt_cpld  = 7200,
        use_lag_fluxes = .true.
        concurrent = .false.
        do_ocean = .false.
        ocean_npes = 0
        atmos_npes = $atm_ranks
        atmos_nthreads = $atmos_threads
        ncores_per_node = $(NCORE_PER_NODE)
      </namelist>

      <namelist name="flux_exchange_nml">
         nblocks = $nyblock
      </namelist>
      <namelist name="atmos_model_nml">
         nxblocks = $nxblock
         nyblocks = $nyblock
      </namelist>
      <namelist name="fms_nml">
            clock_grain='ROUTINE'
            clock_flags='NONE'
            domains_stack_size = 5000000
            stack_size =0
      </namelist>
      <namelist name="fms_io_nml">
            fms_netcdf_restart=.true.
            threading_read='multi'
            max_files_r = 200
            max_files_w = 200
      </namelist>
         <namelist name="diag_manager_nml">
       max_axes = 200,
       max_files = 200,
       max_num_axis_sets = 200,
       max_input_fields = 1000
       max_output_fields = 1000
       mix_snapshot_average_fields=.false.
       max_field_attributes=4
       max_axis_attributes=4
         </namelist>


      <!-- Namelist -->
      <namelist file="$(AWG_INPUT_HOME)/nml/ocean_g12.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12r17_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_c96L32.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12_2010climo.nml"/>

      <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_2010_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_2010_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='climo_sst_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='data_table_AM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_grid']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L32_initCond_Newtopo']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_init_csh_blocks']/input/node())"/>
    </input>

    <runtime>
       <production simTime="$(PROD_SIMTIME)" units="years">
        <segment simTime="12" units="months"/>
        <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_production']/node())"/>
      </production>
 
      <regression name="basic">
        <run days="8"  overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2']/node())"/> </run>
      </regression>
      <regression name="rts">
        <run days="4 4" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A288x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2']/node())"/> </run>
      </regression>
      <regression name="debug">
        <run days="1"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2']/node())"/> </run>
      </regression>

      <regression name="1thread">
        <run days="8"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x1']/node())"/> </run>
      </regression>
      
      <regression name="timings">
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A288x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A768x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1152x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1536x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T." ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1728x2']/node())"/> </run>
        <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2']/node())"/> </run>
        <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2']/node())"/> </run>
        <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A288x2']/node())"/> </run>
        <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2']/node())"/> </run>
        <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A768x2']/node())"/> </run>
        <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2']/node())"/> </run>
        <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1152x2']/node())"/> </run>
        <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1536x2']/node())"/> </run>
        <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1728x2']/node())"/> </run>
      </regression>

      <reference restart="$(REFERENCE)/archive/1x0m8d_216x2a/restart/00010109.tar"/>
     </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_climo_postprocess']/postProcess/node())"/>
    </postProcess>
  </experiment>
  
  <experiment name="c96L32_am4g12r17_1850climo" inherit="c96L32_am4g12r17_2010climo">
    
    <input>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12_1850climo.nml"/>

      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_1850_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_1850_cmip6']/input/node())"/>

      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='climo_sst_cmip6']/input/node())"/>
    </input>
  </experiment>
    

<!--=======================-->
<!--= CM4 EXPERIMENTS     =-->
<!--=======================-->
  <experiment name="CM4_c96L32_g12r17_2010_MLE30d_ePBLn.$(MOM6_DATE)" inherit="CM4_c96L32_g12r17_2010_MLE30d_ePBLn"/>
  <experiment name="CM4_c96L32_g12r17_2010_MLE30d_ePBLn" inherit="cm4_sis2_compile">
    <publicMetadata DBswitch="$MDBIswitch">
      <project>"$(ProjectID)"</project>
      <model>"CM4_c96L32_am4p12"</model>
      <modelID>"CM4p_c96L32_am4p12"</modelID>
      <experimentName>"$(name)"</experimentName>
      <experimentID>"$(name)" </experimentID>
      <comment>
       Experiment name = $(name)
For more information please refer to the
&lt;a href="http://wiki.gfdl.noaa.gov/index.php/MDT_Coupled"&gt; Coupled Working Group Wiki.  &lt;/a&gt; and  
&lt;a href="http://cobweb.gfdl.noaa.gov/~Oar.Gfdl.Mdteam/cm4/$USER/$(name)"&gt; Global Diagnostics Page.  &lt;/a&gt;
      </comment>
    </publicMetadata>

    <input>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = 1,1,1,0,0,0,
        calendar = 'NOLEAP'
        dt_atmos = 1800,
        dt_cpld  = 1800,
        use_lag_fluxes = .true.
        concurrent = .true.
        do_ocean = .true.
        ocean_npes = $ocn_ranks  
        atmos_npes = $atm_ranks 
        atmos_nthreads = $atmos_threads
        ncores_per_node = $(NCORE_PER_NODE)
      </namelist>
      <namelist name="flux_exchange_nml">
         nblocks = $nyblock
         divert_stocks_report = .TRUE.
      </namelist>
      <namelist name="atmos_model_nml">
         nxblocks = $nxblock
         nyblocks = $nyblock
      </namelist>

      <namelist name="fms_io_nml">
            fms_netcdf_restart=.true.
            threading_read='multi'
            max_files_r = 200
            max_files_w = 200
      </namelist>
      <namelist name="fms_nml">
            clock_grain='ROUTINE'
            clock_flags='NONE'
            domains_stack_size = 5000000
            stack_size =0
      </namelist>
      <namelist name="xgrid_nml">
        make_exchange_reproduce = .true.
        interp_method = 'second_order'
      </namelist>

      <namelist name="diag_manager_nml">
       max_axes = 200,
       max_files = 200,
       max_num_axis_sets = 200,
       max_input_fields = 1000
       max_output_fields = 1000
       mix_snapshot_average_fields=.false.
       max_field_attributes=4
       max_axis_attributes=4
      </namelist>
 
      <!--AWG Input namelists -->
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12r17_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_c96L32.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12_2010climo.nml"/>
      <!--AWG Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_2010_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_2010_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_grid']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L32_initCond_Newtopo']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_init_csh_blocks']/input/node())"/>

      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_data']/input/node())"/>
      <!--SIS Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>

      <csh><![CDATA[
#amip initCond tar file inludes ice_model.res.nc not suitable for the coupled model
if ( $currentSeg == 1 ) then
\rm -f $work/INPUT/ice_model.res.nc
endif
#
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override MLE_MLD_DECAY_TIME = 2.592E+06

MOM_OVERRIDE_EOF
     ]]></csh>

    </input>

    <runtime>
      <production simTime="$(PROD_SIMTIME)" units="years">
          <segment simTime="12" units="months"/>
          <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O3782_production']/node())"/>
      </production>
      <regression name="basic">
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O1756']/node())"/> </run>
      </regression>

      <regression name="rts">
        <run days="15 16" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O1756']/node())"/> </run> 
  	<run days="2" overrideParams="coupler_nml:use_hyper_thread=.T."  ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O2304']/node())"/> </run>
  	<run days="2" overrideParams="coupler_nml:use_hyper_thread=.T."  ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A288x2_O2304']/node())"/> </run>
  	<run days="2" overrideParams="coupler_nml:use_hyper_thread=.T."  ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A288x2_O2592']/node())"/> </run>
      </regression>

      <regression name="debug">
        <run days="1"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O1756']/node())"/> </run>
      </regression>

	<regression name="timings">
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O1970']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O3782']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O6122']/node())"/> </run>
        </regression>
        <regression name="timings_all">
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O1756']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A288x2_O1756']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O1970']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O2432']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x4_O1970']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A288x2_O1970']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O2432']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O3782']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O3782']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O2997']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O1756']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A288x2_O1756']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O1970']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O2432']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x4_O1970']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A288x2_O1970']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O2432']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O3782']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O3782']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O2997']/node())"/> </run>
      	</regression>

      <reference restart="$(REFERENCE)/archive/1x1m0d_216x2a_1756x1o/restart/00010201.tar"/>

    </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_climo_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_postprocess']/postProcess/node())"/>
    </postProcess>

  </experiment>

  <experiment name="CM4_c96L32_g12r17_1850_MLE30d_ePBLn" inherit="CM4_c96L32_g12r17_2010_MLE30d_ePBLn">
    <input>
      <namelist name="diag_manager_nml">
       max_axes = 200,
       max_files = 200,
       max_num_axis_sets = 200,
       max_input_fields = 1000
       max_output_fields = 1000
       mix_snapshot_average_fields=.false.
       max_field_attributes=4
       max_axis_attributes=4
      </namelist>
      <namelist name="fms_io_nml">
            fms_netcdf_restart=.true.
            threading_read='multi'
            max_files_r = 200
            max_files_w = 200
      </namelist>
      <namelist name="fms_nml">
            clock_grain='ROUTINE'
            clock_flags='NONE'
            domains_stack_size = 5000000
            stack_size =0
      </namelist>
      
      <!--AWG Input datasets -->
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12r17_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_c96L32.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12_1850climo.nml"/>

      <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_1850_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_1850_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>  
      <xi:include xpointer="xpointer(//freInclude[@name='c96_grid']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L32_aero_initCond']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_init_csh_blocks']/input/node())"/>

      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_data']/input/node())"/>
      <!--SIS Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>

    </input>
  </experiment>


  <experiment name="CM4_c96L32_g12r17_1850_MLE30d_ePBLn_4XCO2" inherit="CM4_c96L32_g12r17_1850_MLE30d_ePBLn">
    <input>
      <namelist name="radiative_gases_nml">
      use_co2_10um = .true.

      verbose = 3
      gas_printout_freq = 240

      time_varying_co2 = .false.,
      co2_variation_type = 'linear',
      co2_dataset_entry = 1860,1,1,0,0,
      co2_specification_type = 'base_and_trend'
      co2_floor = 100.0E-06,
      co2_ceiling = 1600.0E-06,
      co2_data_source='namelist'
      co2_base_value= 11.42568E-04
      co2_base_time = 0001,1,1,0,0,0
      co2_change_rate=1.0
 
      time_varying_ch4 = .false.,
      ch4_variation_type = 'linear'
      ch4_dataset_entry = 1860,1,1,0,0,
      ch4_specification_type = 'time_series'
      ch4_data_source = 'input'

      time_varying_n2o = .false.,
      n2o_variation_type = 'linear'
      n2o_dataset_entry = 1860,1,1,0,0,
      n2o_specification_type = 'time_series'
      n2o_data_source = 'input'

      time_varying_f11 = .false.,
      f11_variation_type = 'linear'
      f11_dataset_entry = 1860,1,1,0,0,
      f11_specification_type = 'time_series'
      f11_data_source = 'input'

      time_varying_f12 = .false.,
      f12_variation_type = 'linear'
      f12_dataset_entry = 1860,1,1,0,0,
      f12_specification_type = 'time_series'
      f12_data_source = 'input'

      time_varying_f113 = .false.,
      f113_variation_type = 'linear'
      f113_dataset_entry = 1860,1,1,0,0,
      f113_specification_type = 'time_series'
      f113_data_source = 'input'

      time_varying_f22 = .false.,
      f22_variation_type = 'linear'
      f22_dataset_entry = 1860,1,1,0,0,
      f22_specification_type = 'time_series'
      f22_data_source = 'input'

      calc_co2_tfs_on_first_step = .false.,
      calc_co2_tfs_monthly = .true.,
      co2_tf_time_displacement = 360.0,

      calc_ch4_tfs_on_first_step = .false.,
      calc_ch4_tfs_monthly = .true.,
      ch4_tf_time_displacement = 360.0,

      calc_n2o_tfs_on_first_step = .false.,
      calc_n2o_tfs_monthly = .true.,
      n2o_tf_time_displacement = 360.0,
    </namelist>

    </input>
  </experiment> 

  <experiment name="CM4_c96L32_am4g12r17_2010_OMp5_H5_ndiff_meke_MLE30d_ePBLn.$(MOM6_DATE)" inherit="CM4_c96L32_am4g12r17_2010_OMp5_H5_ndiff_meke_MLE30d_ePBLn"/>
  <experiment name="CM4_c96L32_am4g12r17_2010_OMp5_H5_ndiff_meke_MLE30d_ePBLn" inherit="cm4_sis2_compile">
    <publicMetadata DBswitch="$MDBIswitch">
      <project>"$(ProjectID)"</project>
      <model>"CM4_c96_am4p12_SIS2"</model>
      <modelID>"CM4_c96_am4p12_SIS2"</modelID>
      <experimentName>"$(name)"</experimentName>
      <experimentID>"$(name)" </experimentID>
      <comment>
       Experiment name = $(name)
For more information please refer to the
&lt;a href="http://wiki.gfdl.noaa.gov/index.php/MDT_Coupled"&gt; Coupled Working Group Wiki.  &lt;/a&gt; and  
&lt;a href="http://cobweb.gfdl.noaa.gov/~Oar.Gfdl.Mdteam/cm4/$USER/$(name)"&gt; Global Diagnostics Page.  &lt;/a&gt;

- using a newer ocean topography (John Dunne) and newer hydrography files (Krista Dunne)
      </comment>
    </publicMetadata>

    <input>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = 1,1,1,0,0,0,
        calendar = 'NOLEAP'
        dt_atmos = 1800,
        dt_cpld  = 3600,
        use_lag_fluxes = .true.
        concurrent = .true.
        do_ocean = .true.
        ocean_npes = $ocn_ranks  
        atmos_npes = $atm_ranks 
        atmos_nthreads = $atmos_threads
        ncores_per_node = $(NCORE_PER_NODE)
      </namelist>
      <namelist name="flux_exchange_nml">
         nblocks = $nyblock
         divert_stocks_report = .TRUE.
      </namelist>
      <namelist name="atmos_model_nml">
         nxblocks = $nxblock
         nyblocks = $nyblock
      </namelist>

      <namelist name="fms_io_nml">
            fms_netcdf_restart=.true.
            threading_read='multi'
            max_files_r = 200
            max_files_w = 200
      </namelist>
      <namelist name="fms_nml">
            clock_grain='ROUTINE'
            clock_flags='NONE'
            domains_stack_size = 7000000
            stack_size =0
      </namelist>
      <namelist name="xgrid_nml">
        make_exchange_reproduce = .true.
        interp_method = 'second_order'
      </namelist>
         <namelist name="diag_manager_nml">
       max_axes = 200,
       max_files = 200,
       max_num_axis_sets = 200,
       max_input_fields = 1000
       max_output_fields = 1000
       mix_snapshot_average_fields=.false.
       max_field_attributes=4
       max_axis_attributes=4
         </namelist>

      <!--AWG Input namelists -->
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12r17_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_c96L32.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12_2010climo.nml"/>

      <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4_Op5']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_2010_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_2010_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_init_csh_blocks']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L32_Op5_initCond_20170118']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_05grid_data']/input/node())"/>
      <!--SIS Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>
      <csh><![CDATA[
#amip initCond tar file inludes ice_model.res.nc not suitable for the coupled model
if ( $currentSeg == 1 ) then
\rm -f $work/INPUT/ice_model.res.nc
endif
#
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
Z_INIT_REMAP_GENERAL = True                                                          
Z_INIT_REMAP_FULL_COLUMN = True                                                      
#override DT = 1800         
#override DT_THERM = 10800  
#override MLE_MLD_DECAY_TIME = 2.592E+06

MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 720
#override NJGLOBAL = 576
#override MIN_OCN_INTERTIAL_H = 2.
SIS_OVERRIDE_EOF
     ]]></csh>

    </input>

    <runtime>
      <production simTime="$(PROD_SIMTIME)" units="years">
          <segment simTime="12" units="months"/>
          <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O842p5_production']/node())"/>
      </production>
      <regression name="basic">
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O842p5']/node())"/> </run>
      </regression>

      <regression name="rts">
        <run days="15 16" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O842p5']/node())"/> </run>
        <run days="2"     overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O648']/node())"/> </run>
  	<run days="2"     overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
  	<run days="2"     overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O864']/node())"/> </run>
      </regression>

      <regression name="restart">
        <run days="8"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
        <run days="4 4"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
        <run days="12"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
        <run days="6 6"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
      </regression>

      <regression name="restart2">
        <run days="20"     ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
        <run days="10 10"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
      </regression>

      <regression name="debug">
          <run days="1"   ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x1_O216']/node())"/> </run>
          <run days="1 1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x1_O216']/node())"/> </run>
      </regression>

      <regression name="debug2">
          <run days="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A504x1_O504']/node())"/> </run>
      </regression>
      <regression name="debug3">
          <run days="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A504x1_O432']/node())"/> </run>
          <run days="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O432']/node())"/> </run>
      </regression>

	<regression name="layouts">
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1300p5']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1620']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1057p5']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1296']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O864']/node())"/> </run>
          <run days="2" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O842p5']/node())"/> </run>
      	</regression>

        <regression name="timings">
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O842p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1300p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A1152x2_O1441p5']/node())"/> </run>
        </regression>

	<regression name="timings_all">
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O842p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1057p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O951p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O951p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O2044p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1300p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1608p5']/node())"/> </run>
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1441p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1296']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1057p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O1300p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O951p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A432x2_O951p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1300p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O2044p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1300p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1608p5']/node())"/> </run>
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A864x2_O1441p5']/node())"/> </run>
      	</regression>
      <reference restart="$(REFERENCE)/archive/1x1m0d_576x2a_842x1o/restart/00010201.tar"/>

    </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_climo_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_postprocess']/postProcess/node())"/>
    </postProcess>

  </experiment>

  <experiment name="CM4_c96L32_am4g12r17_2010_OMp5_H5_ndiff_meke_MLE30d_ePBLr" inherit="CM4_c96L32_am4g12r17_2010_OMp5_H5_ndiff_meke_MLE30d_ePBLn">
    <input>
      <csh><![CDATA[
#amip initCond tar file inludes ice_model.res.nc not suitable for the coupled model
if ( $currentSeg == 1 ) then
\rm -f $work/INPUT/ice_model.res.nc
endif
#
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
Z_INIT_REMAP_GENERAL = True                                                          
Z_INIT_REMAP_FULL_COLUMN = True                                                      
#override DT = 1800         
#override DT_THERM = 10800  

! ePBL "r" settings
MSTAR_FIXED = False
MSTAR_SLOPE = 0.9
MSTAR_AT_XINT = 0.175
NSTAR = 0.08
#override TKE_DECAY = 0.01
#override N2_DISSIPATION_POS = 0.0
#override N2_DISSIPATION_NEG = 0.0
EPBL_TRANSITION_SCALE = 0.01
ORIG_MLD_ITERATION = False
MIX_LEN_EXPONENT = 1.0
MSTAR_CAP = 5.
MSTAR_FLATCAP=False
! Sub-meso
#override FOX_KEMPER_ML_RESTRAT_COEF = 20.0
! MLE 10 days
#override MLE_MLD_DECAY_TIME = 2.592E6
! Vertical structure for KHTH
KHTH_USE_EBT_STRUCT = False
#override KHTH = 500
! Ferrari stremfunction
KHTH_USE_FGNV_STREAMFUNCTION = True
FGNV_FILTER_SCALE = 0.5
FGNV_C_MIN = 0.01

MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 720
#override NJGLOBAL = 576
#override MIN_OCN_INTERTIAL_H = 2.
SIS_OVERRIDE_EOF
     ]]></csh>

    </input>
  </experiment>

  <experiment name="CM4_c96L32_am4g12r17_1850_OMp5_H5_ndiff_meke_MLE30d_ePBLn" inherit="CM4_c96L32_am4g12r17_2010_OMp5_H5_ndiff_meke_MLE30d_ePBLn">
    <input>
      <namelist name="fms_io_nml">
            fms_netcdf_restart=.true.
            threading_read='multi'
            max_files_r = 200
            max_files_w = 200
      </namelist>
      <namelist name="fms_nml">
            clock_grain='ROUTINE'
            clock_flags='NONE'
            domains_stack_size = 7000000
            stack_size =0
      </namelist>
      <namelist name="diag_manager_nml">
       max_axes = 200,
       max_files = 200,
       max_num_axis_sets = 200,
       max_input_fields = 1000
       max_output_fields = 1000
       mix_snapshot_average_fields=.false.
       max_field_attributes=4
       max_axis_attributes=4
      </namelist>
 
      <!--AWG Input namelists -->
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12r17_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_c96L32.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12_1850climo.nml"/>

      <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4_Op5']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_1850_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_1850_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_init_csh_blocks']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96L32_Op5_initCond_20170118']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_05grid_data']/input/node())"/>
      <!--SIS Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>
    </input>
  </experiment>

  <experiment name="CM4_c96L32_am4g12r17_1850_OMp5_H5_ndiff_meke_MLE10d_ePBLr" inherit="CM4_c96L32_am4g12r17_1850_OMp5_H5_ndiff_meke_MLE30d_ePBLn">
    <input>
      <csh><![CDATA[
#amip initCond tar file inludes ice_model.res.nc not suitable for the coupled model
if ( $currentSeg == 1 ) then
\rm -f $work/INPUT/ice_model.res.nc
endif
#
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
Z_INIT_REMAP_GENERAL = True                                                          
Z_INIT_REMAP_FULL_COLUMN = True                                                      
#override DT = 1800         
#override DT_THERM = 10800  

! ePBL "r" settings
MSTAR_FIXED = False
MSTAR_SLOPE = 0.9
MSTAR_AT_XINT = 0.175
NSTAR = 0.08
#override TKE_DECAY = 0.01
#override N2_DISSIPATION_POS = 0.0
#override N2_DISSIPATION_NEG = 0.0
EPBL_TRANSITION_SCALE = 0.01
ORIG_MLD_ITERATION = False
MIX_LEN_EXPONENT = 1.0
MSTAR_CAP = 5.
MSTAR_FLATCAP=False
! Sub-meso
#override FOX_KEMPER_ML_RESTRAT_COEF = 10.0
! MLE 10 days
#override MLE_MLD_DECAY_TIME = 8.64E5
! Vertical structure for KHTH
KHTH_USE_EBT_STRUCT = True
! Ferrari stremfunction
KHTH_USE_FGNV_STREAMFUNCTION = True
FGNV_FILTER_SCALE = 0.5
FGNV_C_MIN = 0.01

MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 720
#override NJGLOBAL = 576
#override MIN_OCN_INTERTIAL_H = 2.
SIS_OVERRIDE_EOF
     ]]></csh>

    </input>
  </experiment>

  <experiment name="ESM4_c96L32_am4g12r17_1850_OMp5_H5_ndiff_meke_MLE30d_ePBLn" inherit="CM4_c96L32_am4g12r17_1850_OMp5_H5_ndiff_meke_MLE30d_ePBLn">
<description>
Keeping our ocean from ESM4p_c96L32_am4g10r14_1860_obgc_pindco2_OMp5_H5_ndff_mke_MLE30d_ePBLn
Making the settings for the ESM equivalent to ESM4p_c96L32_am4g10r14_1860_obgc_pindco2_OMp5_H5_ndff_mke_MLE30d_ePBLh_E
carryover set DT_THERM to 10,800 as in _C.  Changed transmission functionsettings as Jasmin has.
set land flx to 0 as below
Reverting back to land defaults for coastal roughness, use_coast_topo_rough = .true., use_coast_topo_rough = .false.
</description>
    <input>
      <namelist name="coupler_nml">
        months = $months,
        days   = $days,
        current_date = 1,1,1,0,0,0,
        calendar = 'NOLEAP'
        dt_atmos = 1800,
        dt_cpld  = 3600,
        use_lag_fluxes = .true.
        concurrent = .true.
        do_ocean = .true.
        ocean_npes = $ocn_ranks  
        atmos_npes = $atm_ranks 
        atmos_nthreads = $atmos_threads
        ncores_per_node = $(NCORE_PER_NODE)
      </namelist>
      <namelist name="fms_io_nml">
        fms_netcdf_restart=.true.
        threading_read='multi'
        max_files_r = 800
        max_files_w = 800
      </namelist>

       <namelist name="fms_nml">
        clock_grain='ROUTINE'
        clock_flags='NONE'
        domains_stack_size = 7000000
        stack_size =0
      </namelist>
      <namelist name="generic_tracer_nml">
       do_generic_tracer=.true.
       do_generic_CFC=.false.
       do_generic_COBALT=.true.
       do_generic_TOPAZ=.false.
       force_update_fluxes=.true. !This has to be set for THERMO_SPANS_COUPLING to work
      </namelist>

      <namelist name="radiation_driver_nml">
       rad_time_step= 10800,
       rad_package = 'sea_esf',
       do_clear_sky_pass=.true.,
       !calc_hemi_integrals = .false.,
       renormalize_sw_fluxes=.true.,
       zenith_spec = 'diurnally_varying',
       using_restart_file = .false.
       do_conserve_energy = .true.
       sw_rad_time_step = 3600,
       use_single_lw_sw_ts = .false.,
       use_co2_tracer_field = .true.                 ! jgj added
       treat_sfc_refl_dir_as_dif = .false.           ! jgj added
      </namelist>
          <namelist name="diag_manager_nml">
        max_axes = 400,
        max_files = 400,
        max_num_axis_sets = 400,
        max_input_fields = 1000
        max_output_fields = 1000
        mix_snapshot_average_fields=.false.
        max_field_attributes=4
        max_axis_attributes=4
        !! conserve_water=.false.         ! jgj check
      </namelist>
       <namelist name="radiative_gases_nml">
      use_co2_10um = .true.

      verbose = 3
      gas_printout_freq = 240

      time_varying_co2 = .false.,
      co2_variation_type = 'linear',
      co2_dataset_entry = 1850,1,1,0,0,
      co2_specification_type = 'base_and_trend',
      co2_floor = 100.0E-06,
      co2_ceiling = 1600.0E-06,
      co2_data_source = 'predicted'

      time_varying_ch4 = .false.,
      ch4_variation_type = 'linear'
      ch4_dataset_entry = 1850,1,1,0,0,
      ch4_specification_type = 'time_series'
      ch4_data_source = 'input'

      time_varying_n2o = .false.,
      n2o_variation_type = 'linear'
      n2o_dataset_entry = 1850,1,1,0,0,
      n2o_specification_type = 'time_series'
      n2o_data_source = 'input'

      time_varying_f11 = .false.,
      f11_variation_type = 'linear'
      f11_dataset_entry = 1850,1,1,0,0,
      f11_specification_type = 'time_series'
      f11_data_source = 'input'

      time_varying_f12 = .false.,
      f12_variation_type = 'linear'
      f12_dataset_entry = 1850,1,1,0,0,
      f12_specification_type = 'time_series'
      f12_data_source = 'input'

      time_varying_f113 = .false.,
      f113_variation_type = 'linear'
      f113_dataset_entry = 1850,1,1,0,0,
      f113_specification_type = 'time_series'
      f113_data_source = 'input'

      time_varying_f22 = .false.,
      f22_variation_type = 'linear'
      f22_dataset_entry = 1860,1,1,0,0,
      f22_specification_type = 'time_series'
      f22_data_source = 'input'


      calc_co2_tfs_on_first_step = .false.,
      calc_co2_tfs_monthly = .true.,
      co2_tf_time_displacement = 0.0,                 ! jgj was 360

      calc_ch4_tfs_on_first_step = .true.,            ! jgj was false
      calc_ch4_tfs_monthly = .false.,                 ! jgj was true
      ch4_tf_time_displacement = 0.0,                 ! jgj was 360

      calc_n2o_tfs_on_first_step = .true.,            ! jgj was false
      calc_n2o_tfs_monthly = .false.,                 ! jgj was true
      n2o_tf_time_displacement = 0.0,                 ! jgj was 360
 
      </namelist>
      <namelist name="atmos_co2_nml">
       do_co2_restore = .true.               
       restore_tscale = 3.1536e7,
       restore_klimit = 32
       co2_radiation_override = .true.
       do_co2_emissions = .false.
      </namelist>
       <namelist name="vegn_nml">
      init_Tv = 288.0
      rad_to_use = 'two-stream'
      photosynthesis_to_use = 'leuning'
      snow_rad_to_use = 'paint-leaves'
      co2_to_use_for_photosynthesis ='prescribed'
       co2_for_photosynthesis = 285.5e-6     
      do_cohort_dynamics   = .TRUE.,
      do_patch_disturbance = .TRUE.,
      do_phenology         = .TRUE.,
      do_biogeography      = .TRUE.,
      do_seed_transport    = .TRUE.,
      tau_smooth_ncm = 22.0
      rav_lit_bwood = 300.
      </namelist>
       
       
      <diagTable order="append"> 
"radiation", "vis_extopdep_vlcno_c",           "vis_exopd_vl_c",  "atmos_month_aer", "all", .true.,"none", 2
"land",     "fco2"                 ,            "fco2"            "land_month",       "all", .true.,"none", 2
"land",     "qco2_dvmr"                 ,        "qco2_dvmr"      "land_month",       "all", .true.,"none", 2
"land",     "Ctot"                 ,             "Ctot"           "land_month",       "all", .true.,"none", 2

#===========================
# ocean_cobalt_sample_z
#===========================
"ocean_cobalt_sample",       1,  "days", 1, "days", "time",
 "generic_cobalt","def_fe_Sm",       "def_fe_Sm",          "ocean_cobalt_sample","all",.false.,"none",2
 "generic_cobalt","chl",                "chl",                "ocean_cobalt_sample","all",.false.,"none",2
 "generic_cobalt","htotal",             "htotal",             "ocean_cobalt_sample","all",.false.,"none",2
 "generic_cobalt","alk",                "alk",                "ocean_cobalt_sample","all",.false.,"none",2
 "generic_cobalt","dic",                "dic",                "ocean_cobalt_sample","all",.false.,"none",2
 "generic_cobalt","o2",                 "o2",                 "ocean_cobalt_sample","all",.false.,"none",2
 "generic_cobalt","lith",                 "lith",                 "ocean_cobalt_sample","all",.false.,"none",2
 "generic_cobalt","dep_dry_lith",                 "dep_dry_lith",                 "ocean_cobalt_sample","all",.false.,"none",2
 "generic_cobalt","dep_wet_lith",                 "dep_wet_lith",                 "ocean_cobalt_sample","all",.false.,"none",2
#
 "ocean_model","temp","temp","ocean_cobalt_sample","all",.false.,"none",2
 "ocean_model","salt","salt","ocean_cobalt_sample","all",.false.,"none",2
"ocean_cobalt_sample_z",       1,  "days", 1, "days", "time",
 "generic_cobalt_z","def_fe_Sm",       "def_fe_Sm",          "ocean_cobalt_sample_z","all",.false.,"none",2
 "generic_cobalt_z","chl",                "chl",                "ocean_cobalt_sample_z","all",.false.,"none",2
 "generic_cobalt_z","htotal",             "htotal",             "ocean_cobalt_sample_z","all",.false.,"none",2
 "generic_cobalt_z","alk",                "alk",                "ocean_cobalt_sample_z","all",.false.,"none",2
 "generic_cobalt_z","dic",                "dic",                "ocean_cobalt_sample_z","all",.false.,"none",2
 "generic_cobalt_z","o2",                 "o2",                 "ocean_cobalt_sample_z","all",.false.,"none",2
 "generic_cobalt_z","lith",                 "lith",                 "ocean_cobalt_sample_z","all",.false.,"none",2
 "generic_cobalt_z","dep_dry_lith",                 "dep_dry_lith",                 "ocean_cobalt_sample_z","all",.false.,"none",2
 "generic_cobalt_z","dep_wet_lith",                 "dep_wet_lith",                 "ocean_cobalt_sample_z","all",.false.,"none",2
##                                                                                                                                                             11
 "ocean_model_z","temp","temp","ocean_cobalt_sample_z","all",.false.,"none",2
 "ocean_model_z","salt","salt","ocean_cobalt_sample_z","all",.false.,"none",2
"atmos_dust_sample",       1,  "days", 1, "days", "time",
"tracer" , "dust_ddep", "dust_ddep", "atmos_dust_sample","all",.false.,"none",2
"tracer" , "dust_emis", "dust_emis", "atmos_dust_sample","all",.false.,"none",2
"tracer" , "dust1_setl", "dust1_setl", "atmos_dust_sample","all",.false.,"none",2
"tracer" , "dust2_setl", "dust2_setl", "atmos_dust_sample","all",.false.,"none",2
"tracer" , "dust3_setl", "dust3_setl", "atmos_dust_sample","all",.false.,"none",2
"tracer" , "dust4_setl", "dust4_setl", "atmos_dust_sample","all",.false.,"none",2
"tracer" , "dust5_setl", "dust5_setl", "atmos_dust_sample","all",.false.,"none",2
"dynamics",  "dust1",  "dust1",  "atmos_dust_sample", "all", .false.,  "none", 2
"dynamics",  "dust2",  "dust2",  "atmos_dust_sample", "all", .false.,  "none", 2
"dynamics",  "dust3",  "dust3",  "atmos_dust_sample", "all", .false.,  "none", 2
"dynamics",  "dust4",  "dust4",  "atmos_dust_sample", "all", .false.,  "none", 2
"dynamics",  "dust5",  "dust5",  "atmos_dust_sample", "all", .false.,  "none", 2
#
"moist",     "dust_wet_dep", "dust_wet_dep",  "atmos_month",     "all", .true.,  "none", 2
"moist",     "ssalt_wet_dep", "ssalt_wet_dep",  "atmos_month",     "all", .true.,  "none", 2
"moist",     "totNH4_wet_dep", "totNH4_wet_dep",  "atmos_month",     "all", .true.,  "none", 2
"moist",     "so4_wet_dep", "so4_wet_dep",  "atmos_month",     "all", .true.,  "none", 2
"moist",     "so2_wet_dep", "so2_wet_dep",  "atmos_month",     "all", .true.,  "none", 2


      </diagTable> 
     <!--AWG Input datasets -->
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12r17_common.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_physics.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4g12r17_c96L32.nml"/>
      <namelist file="$(AWG_INPUT_HOME)/nml/am4p12_1850climo.nml"/>

      <!-- Input datasets -->
      <xi:include xpointer="xpointer(//freInclude[@name='common_LM4']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_LM4_Op5']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_AM4_v20170208']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='Volcano_Solar_1850_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='emissions_1850_cmip6']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='L32_gas_conc']/input/node())"/>  
      <xi:include xpointer="xpointer(//freInclude[@name='diag_table_lm3p2_fullaero']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='field_table_am4p11']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='common_init_csh_blocks']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_05grid_data']/input/node())"/>
      <!--SIS Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>  
      <!--ESM4 initcond-->
      <xi:include xpointer="xpointer(//freInclude[@name='ESM4_c96L32_Op5_1860_initCond']/input/node())"/>
      <!--COBALT IC datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OBGC_COBALT_IC_Preind_CO2']/input/node())"/>
      <!--COBALT BC datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OBGC_COBALT_BC_1860_p5']/input/node())"/>

      <!--COBALT diag table-->
      <xi:include xpointer="xpointer(//freInclude[@name='OBGC_COBALT_diag_table']/input/node())"/>
      <!--Atmos co2 diag table-->
      <xi:include xpointer="xpointer(//freInclude[@name='ESM4_atmos_co2_diag_table']/input/node())"/>
      <!--co2 field table -->
      <xi:include xpointer="xpointer(//freInclude[@name='ESM4_atmos_co2_1860_field_table']/input/node())"/>
      <!--COBALT field table-->
      <xi:include xpointer="xpointer(//freInclude[@name='OBGC_COBALT_Preind_field_table']/input/node())"/>       
      <dataFile label="input" target="INPUT/co2_data.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f1/pdata/esm/ipcc_ar5/datasets/forcings/co2_data.1PctTo2X.nc</dataSource>
      </dataFile>

      <csh><![CDATA[
#amip initCond tar file inludes ice_model.res.nc not suitable for the coupled model
if ( $currentSeg == 1 ) then
\rm -f $work/INPUT/ice_model.res.nc
endif
#
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override USE_generic_tracer = True
#override CHL_FROM_FILE = False
Z_INIT_REMAP_GENERAL = True                                                          
Z_INIT_REMAP_FULL_COLUMN = True                                                      
#override DT = 1800         
#override DT_THERM = 10800  
#override MLE_MLD_DECAY_TIME = 2.592E+06

MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 720
#override NJGLOBAL = 576
#override MIN_OCN_INTERTIAL_H = 2.

SIS_OVERRIDE_EOF
    ]]></csh>

      <!--++++++++++++++++++++++trun on dust exchange+++++++++++++++++++++++++++++-->
      <namelist name="dust_nml">
       do_esm_dust_flux = .true.
      dust_source_name = 'source',
      dust_source_filename = 'dust_source_Iceland_1x1.nc'
      uthresh = 3.5
      coef_emis = 2.0e-10
      use_sj_sedimentation_solver=.true.
      </namelist>
      <fieldTable order="append">      
# land dust field table needed for dust exchange
"TRACER", "land_mod","dust1"
          "longname","lith esm dust flux"
          "units","N/A"/
      </fieldTable>
      <dataTable>
###lith has wet and dry dep fluxes from dust. Do not override it in an active dust exchange experiment
# jgj 2016/07/08 COBALT 1990 data table with TOPAZ Fe datasets
#
"OCN", "runoff_no3_flux_ice_ocn",   "NO3_CONC",   "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ldon_flux_ice_ocn",  "LDON_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_sldon_flux_ice_ocn", "SLDON_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_srdon_flux_ice_ocn", "SRDON_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ndet_flux_ice_ocn",  "NDET_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_po4_flux_ice_ocn",   "PO4_CONC",   "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ldop_flux_ice_ocn",  "LDOP_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_sldop_flux_ice_ocn", "SLDOP_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_srdop_flux_ice_ocn", "SRDOP_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_fed_flux_ice_ocn", ""   , ""                             , "none" ,  0.0
"OCN", "runoff_alk_flux_ice_ocn", ""   , ""                             , "none" ,  0.48e-3
"OCN", "runoff_dic_flux_ice_ocn", ""   , ""                             , "none" ,  0.24e-3
"OCN", "runoff_lith_flux_ice_ocn", ""  , ""                             , "none" , 13.0e-3
"OCN", "dry_dep_fed_flux_ice_ocn",  "FLUX",        "./INPUT/Soluble_Fe_Flux_PI.nc", "bilinear", -1.0
###lith has wet and dry dep fluxes from dust
###"OCN", "dry_dep_lith_flux_ice_ocn", "FLUX_MINERAL","./INPUT/Mineral_Fe_Flux_PI.nc", "bilinear", -1.0
"OCN", "dry_dep_po4_flux_ice_ocn",  "FLUX",        "./INPUT/Mineral_Fe_Flux_PI.nc", "bilinear", -0.0084
"OCN", "wet_dep_no3_flux_ice_ocn",  "NO3_WET_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
"OCN", "dry_dep_no3_flux_ice_ocn",  "NO3_DRY_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
"OCN", "wet_dep_nh4_flux_ice_ocn",  "NH4_WET_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
"OCN", "dry_dep_nh4_flux_ice_ocn",  "NH4_DRY_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
#
# jgj 2015/12/09 data table for o2 gas exchange 
#
"ATM", "o2_flux_pcair_atm", ""         , ""                             , "none" , 0.21
# jgj 2016/06/10 co2 data table 
#
## restoring co2 data override set to Jan 1 1850 value 284.65e-6
## radiation co2 data override set to Jan 1 2000 value 368.10625e-6(only for 2000 runs, this now is 1860)
## radiation co2 data override set to Jan 1 1860 value 286.15e-6 (new 1860 is 285.65)
"ATM" , "co2_dvmr_restore", "",     "", "none",  285.65e-06
"ATM" , "co2_dvmr_rad",     "",     "", "none",  285.65e-06
#
"LND", "ex_flux_co2",         "", "", "none", 0.0
"LND", "ex_dfdco2_surf",      "", "", "none", 0.0
"LND", "ex_dfdco2_atm",       "", "", "none", 0.0
      </dataTable>

      
    </input>
    
    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='c96_climo_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_z_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='atmos_co2_postprocess']/postProcess/node())"/>
    </postProcess>

    <runtime>
      <production simTime="$(PROD_SIMTIME)" units="years">
          <segment simTime="12" units="months"/>
          <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1300p5_production']/node())"/>
      </production>
      <regression name="basic">
          <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1300p5']/node())"/> </run>
      </regression>

      <regression name="rts">
        <run days="15 16" overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1300p5']/node())"/> </run>
        <run days="2"     overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O648']/node())"/> </run>
  	<run days="2"     overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O648']/node())"/> </run>
  	<run days="2"     overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O864']/node())"/> </run>
      </regression>
      <regression name="debug">
  	<run days="1"     overrideParams="coupler_nml:use_hyper_thread=.T."><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A216x2_O864']/node())"/> </run>
      </regression>
      <regression name="timing">
          <run months="1" ><xi:include xpointer="xpointer(//freInclude[@name='resourceparams_A576x2_O1441p5']/node())"/> </run>
      </regression>

      <reference restart="$(REFERENCE)/archive/1x1m0d_576x2a_1300x1o/restart/00010201.tar"/>
    </runtime>
  </experiment>
  

  <experiment name="ESM4_c96L32_am4g12r17_1850_OMp5_H5_ndiff_meke_MLE30d_ePBLn_1PctTo2xCO2" inherit="ESM4_c96L32_am4g12r17_1850_OMp5_H5_ndiff_meke_MLE30d_ePBLn">
    <input>
      <namelist name="atmos_co2_nml">
       do_co2_restore = .true.               
       restore_tscale = 3.1536e7,
       restore_klimit = 1000
       co2_radiation_override = .true.
       do_co2_emissions = .false.
      </namelist>

      <dataTable>
###lith has wet and dry dep fluxes from dust. Do not override it in an active dust exchange experiment
# jgj 2016/07/08 COBALT 1990 data table with TOPAZ Fe datasets
#
"OCN", "runoff_no3_flux_ice_ocn",   "NO3_CONC",   "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ldon_flux_ice_ocn",  "LDON_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_sldon_flux_ice_ocn", "SLDON_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_srdon_flux_ice_ocn", "SRDON_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ndet_flux_ice_ocn",  "NDET_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_po4_flux_ice_ocn",   "PO4_CONC",   "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ldop_flux_ice_ocn",  "LDOP_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_sldop_flux_ice_ocn", "SLDOP_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_srdop_flux_ice_ocn", "SRDOP_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_fed_flux_ice_ocn", ""   , ""                             , "none" ,  0.0
"OCN", "runoff_alk_flux_ice_ocn", ""   , ""                             , "none" ,  0.48e-3
"OCN", "runoff_dic_flux_ice_ocn", ""   , ""                             , "none" ,  0.24e-3
"OCN", "runoff_lith_flux_ice_ocn", ""  , ""                             , "none" , 13.0e-3
"OCN", "dry_dep_fed_flux_ice_ocn",  "FLUX",        "./INPUT/Soluble_Fe_Flux_PI.nc", "bilinear", -1.0
###lith has wet and dry dep fluxes from dust
###"OCN", "dry_dep_lith_flux_ice_ocn", "FLUX_MINERAL","./INPUT/Mineral_Fe_Flux_PI.nc", "bilinear", -1.0
"OCN", "dry_dep_po4_flux_ice_ocn",  "FLUX",        "./INPUT/Mineral_Fe_Flux_PI.nc", "bilinear", -0.0084
"OCN", "wet_dep_no3_flux_ice_ocn",  "NO3_WET_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
"OCN", "dry_dep_no3_flux_ice_ocn",  "NO3_DRY_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
"OCN", "wet_dep_nh4_flux_ice_ocn",  "NH4_WET_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
"OCN", "dry_dep_nh4_flux_ice_ocn",  "NH4_DRY_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
#
# jgj 2015/12/09 data table for o2 gas exchange 
#
"ATM", "o2_flux_pcair_atm", ""         , ""                             , "none" , 0.21
# jgj 2016/06/10 co2 data table 
#
## restoring co2 data override set to Jan 1 1850 value 284.65e-6
## radiation co2 data override set to Jan 1 2000 value 368.10625e-6(only for 2000 runs, this now is 1860)
## radiation co2 data override set to Jan 1 1860 value 286.15e-6 (new 1860 is 285.65)
# jgj 2016/09/07 co2 data table for 1pct to 4x co2
"ATM" , "co2_dvmr_rad", "CO2",     "INPUT/co2_data.nc", "none",  1.0e-06
"ATM" , "co2_dvmr_restore", "CO2", "INPUT/co2_data.nc", "none",  1.0e-06
#
"LND", "ex_flux_co2",         "", "", "none", 0.0
"LND", "ex_dfdco2_surf",      "", "", "none", 0.0
"LND", "ex_dfdco2_atm",       "", "", "none", 0.0
      </dataTable>

      
  
    </input>
  </experiment>
<!--================================-->
<!--= OCEAN-ICE DATA (0.25 degree) =-->
<!--================================-->
  <freInclude name="OM4_data">
    <input>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/MOM_input
     </dataFile>      
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/layer_coord.nc
     </dataFile>      
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/seawifs_1998-2006_smoothed_2X.v20140616.nc
     </dataFile>      
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/tidal_amplitude.v20140616.nc
     </dataFile>      
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/MOM_channels_global_025
     </dataFile>      
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/vgrid_75_2m.nc
     </dataFile>      
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/vgrid_75_2m_575m.nc
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/analysis_vgrid_lev35.v1.nc
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/Faroe_edits.nc
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/Faroe_GS_edits.nc
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/All_edits.nc
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/hycom1_75.nc
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/hycom1_75_800m.nc
      </dataFile>

     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/WOA05_pottemp_salt.nc 
     </dataFile>      

     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.33.16x18     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.96.32x18     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.242.32x36     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.274.36x36     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.315.32x45    
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.548.32x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.622.36x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.808.45x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1053.90x45
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1809.90x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1309.90x54     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1402.72x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.2428.90x95
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.3785.90x144
     </dataFile>
<!--
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1007.54x72       
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1229.64x72
-->
     <dataFile label="input" target="INPUT/ocean_static_no_mask_table.nc" chksum="" size="" timestamp="">
          <dataSource site="ncrc">/lustre/f1/pdata/gfdl_O/datasets/OM4_025/mosaic.v20140610.unpacked/ocean_static.nc</dataSource>
     </dataFile>

     <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
     </dataFile>

     <namelist name="MOM_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override'
     </namelist>
      <namelist name="ice_albedo_nml">
            t_range = 10.
      </namelist>
      <namelist name="monin_obukhov_nml">
	stable_option = 2,
        rich_crit = 1.0,
        zeta_trans = 0.5
      </namelist>
 
     </input>

  </freInclude>

<!--================================-->
<!--= OCEAN-ICE DATA (0.5 degree) =-->
<!--================================-->
  <freInclude name="OM4_05grid_data">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/MOM_input</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/layer_coord.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/seawifs_1998-2006_smoothed_2X.v2015.12.03.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/tidal_amplitude.v2015.12.03.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.66.32x16
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.70.16x32
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.182.32x32
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.239.36x36
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.320.36x45
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.201.32x36
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.548.36x72
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.417.45x45
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.359.36x50
        $(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.363.40x45
      </dataFile>
      
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/MOM_channels_global_025</dataSource>
      </dataFile>      
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/analysis_vgrid_lev35.v1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/hycom1_75_800m.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <!-- 
       <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/WOA05_ptemp_salt_monthly.nc </dataSource>
        The above file is  reconstructed from a model run. The following product should be used instead. -->
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/WOA05_pottemp_salt.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/ocean_static_no_mask_table.nc" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/ocean_static.nc</dataSource>
      </dataFile>

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
      </dataFile>

     <namelist name="MOM_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override'
     </namelist>
      <namelist name="ice_albedo_nml">
            t_range = 10.
      </namelist>
      <namelist name="monin_obukhov_nml">
	stable_option = 2,
        rich_crit = 1.0,
        zeta_trans = 0.5
      </namelist>
 
     </input>
  </freInclude>

  <freInclude name="OM4_postprocess">
    <postProcess>
        <csh><![CDATA[
	 #Take care of iceberg restarts and trajectories
         cd $work/RESTART
         #Treat icebergs restarts and trajectories
         #Find non-empty iceberg restarts and combine them AND then remove uncombined restarts
         #This should be handled properly by FRE
         #ncrcat icebergs.res.nc.* icebergs.res.nc
      ls icebergs.res.nc.*
      if( ! $status ) then
         which ncdump
         if( $status ) then
           echo ncdump not available! We need to stop the run or the model restarts incorrectly!
           exit 1
         endif

         set non_empty_restarts = ""
         foreach file ( `ls icebergs.res.nc.????` )
            if ( `ncdump -h $file | grep UNLIMITED | awk '{gsub(/\(/," ");print $6}'` ) set non_empty_restarts = "$non_empty_restarts $file"
         end
         if( "$non_empty_restarts" != "" ) then
          ncrcat $non_empty_restarts icebergs.res.nc
          if( ! -e icebergs.res.nc ) then
            echo ERROR: ncrcat did not produce icebergs restart file! We need to stop the run or the model restarts incorrectly!
            exit 1
          endif
         endif

         mkdir hide_from_fre
         mv icebergs.res.nc.* hide_from_fre/
         cd $work
         mkdir hide_from_fre
         ncrcat iceberg_trajectories.nc.* iceberg_trajectories.nc
         mv iceberg_trajectories.nc.* hide_from_fre/
      endif
        #Save the last line of timestats without the first (step number) column as a signature of MOM6 answers
         tail -1 timestats | cut -c8- > RESTART/$enddate.timestats.res
         #Save the whole timestats under ascii/
         mv timestats $enddate.timestats
         mv timestats.nc $enddate.timestats.nc
         #Make a directory to trick FRE to pick up and archive in ascii
         mkdir extra.results
         mv *velocity_truncations MOM_parameter_doc* SIS_parameter_doc* seaice.stats timestats ocean.stats *.ocean.stats* extra.results/
      #When the ocean uses a mask_table the ocean_static.nc file produced by the model run has holes in coordinates (geolon,geolat)
      #This causes problems for ferret and python tools for analysis.
      #Copy a non-masked version of ocean_static.nc to be saved as a history file to be used by the analysis scipts . 
      cp $work/INPUT/ocean_static_no_mask_table.nc $work/
         ]]></csh>
      <!--REFINE DIAG SCRIPT -->
      <!--refineDiag_data_stager.csh calculates global averages of basic quantities and stores them in a sqlit database file-->
      <!--By default a refineDiag script causes the annual history files to be unpacked and saved in /ptmp/$USER-->
      <refineDiag script="$(NB_ROOT)/mom6/tools/analysis/MOM6_refineDiag.csh,$(AWG_INPUT_HOME_GFDL)/refineDiag/refineDiag_data_stager_globalAve.csh"/>

      <component type="ocean_5daily"   source="ocean_5daily" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(PP_CPLD_CHUNK_A)" source="ocean_5daily"/>
        <timeSeries freq="120hr" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_5daily"/>
      </component>
      
      <component type="ocean_daily"   source="ocean_daily" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_A)" source="ocean_daily"/>
      </component>

      <component type="ocean_monthly"   source="ocean_month" sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" source="ocean_month">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_monthly.frepp"/>
        </timeSeries>

        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)" >
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/fms/local/opt/fre-analysis/test/eem/code/pcmdi_metrics/frepp.pcmdi_metrics.ocean.csh"/>
	</timeAverage>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)" >
	  <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="/home/fms/local/opt/fre-analysis/test/eem/code/pcmdi_metrics/frepp.pcmdi_metrics.ocean.csh"/>
	</timeAverage>
      </component>

      <component type="ocean_annual"    source="ocean_annual" sourceGrid="ocean-tripolar">
        <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual.frepp"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_B)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual.frepp"/>
        </timeAverage>
        <timeSeries freq="annual"   chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_annual"/>
      </component>

      <component type="ocean_annual_z" source="ocean_annual_z" sourceGrid="ocean-tripolar">
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_A)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual_z.frepp"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_B)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual_z.frepp"/>
        </timeAverage>

        <timeSeries freq="annual"   chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_annual_z"/>	
      </component>

      <!--Ocean scalars-->
      <component type="ocean_scalar_monthly"   source="ocean_scalar_month" sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_scalar_month"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)"/>
      </component>
      
      <component type="ocean_scalar_annual"    source="ocean_scalar_annual" sourceGrid="ocean-tripolar">
        <timeSeries freq="annual"   chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_scalar_annual"/>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="annual" interval="$(PP_CPLD_CHUNK_B)"/>
      </component>

      <!--Ocean regions-->
      <component type="ocean_Barents_opening" source="ocean_Barents_opening" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Barents_opening"/>
      </component>
      <component type="ocean_Bering_Strait" source="ocean_Bering_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Bering_Strait"/>
      </component>
      <component type="ocean_Davis_Strait" source="ocean_Davis_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Davis_Strait"/>
      </component>
      <component type="ocean_Windward_Passage" source="ocean_Windward_Passage" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Windward_Passage"/>
      </component>
      <component type="ocean_Denmark_Strait" source="ocean_Denmark_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Denmark_Strait"/>
      </component>
      <component type="ocean_Drake_Passage" source="ocean_Drake_Passage" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Drake_Passage"/>
      </component>
      <component type="ocean_English_Channel" source="ocean_English_Channel" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_English_Channel"/>
      </component>
      <component type="ocean_Faroe_Scotland" source="ocean_Faroe_Scotland" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Faroe_Scotland"/>
      </component>
      <component type="ocean_Florida_Bahamas" source="ocean_Florida_Bahamas" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Florida_Bahamas"/>
      </component>
      <component type="ocean_Fram_Strait" source="ocean_Fram_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Fram_Strait"/>
      </component>
      <component type="ocean_Iceland_Faroe_V" source="ocean_Iceland_Faroe_V" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Iceland_Faroe_V"/>
      </component>
      <component type="ocean_Iceland_Faroe_U" source="ocean_Iceland_Faroe_U" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Iceland_Faroe_U"/>
      </component>
      <component type="ocean_Indonesian_Throughflow" source="ocean_Indonesian_Throughflow" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Indonesian_Throughflow"/>
      </component>
      <component type="ocean_Mozambique_Channel" source="ocean_Mozambique_Channel" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Mozambique_Channel"/>
      </component>
      <component type="ocean_Pacific_undercurrent" source="ocean_Pacific_undercurrent" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Pacific_undercurrent"/>
      </component>
      <component type="ocean_Taiwan_Luzon" source="ocean_Taiwan_Luzon" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Taiwan_Luzon"/>
      </component>
      <component type="ocean_Agulhas_section" source="ocean_Agulhas_section" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Agulhas_section"/>
      </component>
      <component type="ocean_Gibraltar_Strait" source="ocean_Gibraltar_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Gibraltar_Strait"/>
      </component>
      <component type="ocean_Iceland_Norway" source="ocean_Iceland_Norway" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_B)" source="ocean_Iceland_Norway"/>
      </component>

      <!--ICE-->      
      <component type="ice"  source="ice_month" sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)"  source="ice_month">
	   <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/tools/analysis/Krasting-SeaIce.csh"/>
	</timeSeries>   
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_B)"  source="ice_month">
	   <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/tools/analysis/Krasting-SeaIce.csh"/>
	</timeSeries>   
        <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_B)"/>
      </component>     

    </postProcess>
  </freInclude> 

<!--=======================-->
<!--= CM4_SIS2 FREINCLUDES=-->
<!--=======================-->
  <freInclude name="SIS2_data">
    <input>

     <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.SIS</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/diag_table.SIS</dataSource>
     </dataFile>
     <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.icebergs</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/diag_table.icebergs</dataSource>
     </dataFile>
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/SIS_input</dataSource>
     </dataFile>

<!-- No init ice yet
     <dataFile label="input" target="INPUT/ice_model.res.nc" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/.datasets/OM4_025/INPUT/ice_model.res.v20140620.nc</dataSource>
     </dataFile>
-->
     <namelist name="SIS_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_override'
     </namelist>
      <namelist name="icebergs_nml">
        really_debug=.FALSE.
        debug=.FALSE.
        verbose=.FALSE.
        verbose_hrs=7200
        use_operator_splitting=.TRUE.
        bergy_bit_erosion_fraction=0.0
        sicn_shift=0.1
        parallel_reprod=.TRUE.
        traj_sample_hrs=0
        add_weight_to_ocean=.false.	
make_calving_reproduce=.true.      
      </namelist>
      <namelist name="ocean_albedo_nml">
            ocean_albedo_option = 5
      </namelist>
      <namelist name="ocean_rough_nml">
            rough_scheme = 'coare3.5'
      </namelist>
     </input>
  </freInclude>

  <!-- jgj: ESM4 INPUT DATA -->
  <freInclude name="ESM4_c96L32_Op5_2000_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(ESM4_ARCHIVE_ROOT)/IC/ESM4_c96L32_Op5_2000_initCond.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <!--wh 8/9/2016-->
  <freInclude name="ESM4_c96L32_Op5_1860_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(ESM4_ARCHIVE_ROOT)/IC/ESM4_c96L32_Op5_1860_initCondv2.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>
    <freInclude name="ESM4_c96L32_Op5_historical+control_initCond">
    <input>
      <dataFile label="initCond" target="INPUT/00610101.tar" chksum="" size="" timestamp="">
        <dataSource site="ncrc">/lustre/f1/unswept/Bill.Hurlin/ESM4_input/restart_ESM4p_c96L32_am4g10r14_1860_00610101.tar/00610101nocouplerres.tar</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <freInclude name="ESM4_1860_mean_forcing_data">
    <input>
      <dataFile label="input" target="INPUT/lean_solar_spectral_data.dat" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(ESM4_ARCHIVE_ROOT)/forcings/CMIP5_1856_1866avg_monthly_data_b18_TIM</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/asmsw_data.nc" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(LWH_ARCHIVE_ROOT)/cm3/ipcc_ar5/input/volcano/mean_hist/asmsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/extsw_data.nc" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(LWH_ARCHIVE_ROOT)/cm3/ipcc_ar5/input/volcano/mean_hist/extsw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/extlw_data.nc" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(LWH_ARCHIVE_ROOT)/cm3/ipcc_ar5/input/volcano/mean_hist/extlw_data.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/omgsw_data.nc" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(LWH_ARCHIVE_ROOT)/cm3/ipcc_ar5/input/volcano/mean_hist/omgsw_data.nc</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="OBGC_COBALT_IC_Preind_CO2">
    <input>
       <!-- IC files -->
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_n_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_p_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_i_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_o_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/Alk.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/Preind_DIC.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/init_ocean_cobalt.res.nc" chksum="" size="" timestamp="">
         <dataSource
platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/mom4p1_restart_to_latlon_360x180/ESM2M_pi-control_C2_cobalt_latlon_360x180_15010101_nobounds_mumem_htotalbounds.ocean_cobalt.res.nc</dataSource>
      </dataFile>

     </input>
  </freInclude>

  <freInclude name="OBGC_COBALT_BC_1990_p5">
    <input>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_horowitz/depflux_total.mean.1990.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_fan/Soluble_Fe_Flux_PI.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_fan/Mineral_Fe_Flux_PI.nc</dataSource>
      </dataFile>

      <!-- grid specific -->
      <dataFile label="input" target="INPUT/news_nutrients.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(ESM4_ARCHIVE_ROOT)/news_nutrients_halfdeg_20151207.nc</dataSource>
      </dataFile>
     </input>
  </freInclude>
  <freInclude name="OBGC_COBALT_BC_1860_p5">
    <input>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_horowitz/depflux_total.mean.1860.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_fan/Soluble_Fe_Flux_PI.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_fan/Mineral_Fe_Flux_PI.nc</dataSource>
      </dataFile>

      <!-- grid specific -->
      <dataFile label="input" target="INPUT/news_nutrients.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(ESM4_ARCHIVE_ROOT)/news_nutrients_halfdeg_20151207.nc</dataSource>
      </dataFile>
     </input>
  </freInclude>
  <freInclude name="OBGC_COBALT_1990_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.COBALT_1990_topaz_fe_20160708</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.COBALT_1990_topaz_fe_20160708</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <freInclude name="OBGC_COBALT_1860_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MODEL_UPDATES_WH)/fre/input/ESM4/data_table.COBALT_1860_topaz_fe_20160809</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.COBALT_1990_topaz_fe_20160708</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <freInclude name="ESM4_o2_gas_exchange_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.o2_20151209</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.o2_20151209</dataSource>
      </dataFile>
     </input>
  </freInclude>

  <freInclude name="ESM4_bgcco2_1850_radco2_2000_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.bgcco2_1850_radco2_2000_20160610</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.bgcco2_1850_radco2_2000_20160610</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <freInclude name="ESM4_bgcco2_1850_radco2_1860_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MODEL_UPDATES_WH)/fre/input/ESM4/data_table.bgcco2_1850_radco2_1860_20160809</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.bgcco2_1850_radco2_2000_20160610</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <freInclude name="ESM4_bgcco2_new1860_radco2_2010_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MODEL_UPDATES_WH)/fre/input/ESM4/data_table.bgcco2_new1860_radco2_2010_20160819</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.bgcco2_1850_radco2_2000_20160610</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <freInclude name="ESM4_bgcco2_new1860_radco2_historical_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MODEL_UPDATES_WH)/fre/input/ESM4/data_table.bgcco2_new1860_radco2_historical_20160819</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.bgcco2_1850_radco2_2000_20160610</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <freInclude name="ESM4_bgcco2_historical_radco2_historical_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MODEL_UPDATES_WH)/fre/input/ESM4/data_table.bgcco2_historical_radco2_historical_20160819</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.bgcco2_1850_radco2_2000_20160610</dataSource>
      </dataFile>
    </input>
  </freInclude>
  <freInclude name="ESM4_bgcco2_new1860_radco2_new1860_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MODEL_UPDATES_WH)/fre/input/ESM4/data_table.bgcco2_new1860_radco2_new1860_20160819</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.bgcco2_1850_radco2_2000_20160610</dataSource>
      </dataFile>
    </input>
  </freInclude>
<freInclude name="OBGC_COBALT_diag_table">
    <input>
     <diagTable order="append">
#==========================================================================================
# MOM4p1 GENERIC OCEAN COBALT DIAGNOSTICS (from CAS 2013/07/01)
#      2013/06/01 jgj activate monthly chl, htotal for JPD, RRR
#      2013/07/02 jgj turn off ocean_cobalt_tracers_year and ocean_cobalt_zoo_diags
#      2013/07/17 jgj add dic_stf_gas, o2_stf_gas to ocean_cobalt_misc, but save monthly
#                     add z_sat_arag, z_sat_calc to ocean_cobalt_btm
#      2014/12/12 jgj correct nmdz_100 in cobalt_1day and add other cobalt_1day diagnostics, but comment out
#======================
#output files
"ocean_cobalt_1day",           24, "hours", 1, "days", "time",
"ocean_cobalt_tracers_month",   1, "months", 1, "days", "time",
"ocean_cobalt_tracers_year",   12, "months", 1, "days", "time",
"ocean_cobalt_sfc",             1, "months", 1, "days", "time",
"ocean_cobalt_btm",             1, "months", 1, "days", "time",
"ocean_cobalt_phytolim_sfc",    1, "months", 1, "days", "time", 
"ocean_cobalt_fdet_100",        1, "months", 1, "days", "time",
"ocean_cobalt_biomass_100",     1, "months", 1, "days", "time", 
"ocean_cobalt_prod_100",        1, "months", 1, "days", "time",
"ocean_cobalt_miscflux_100",    1, "months", 1, "days", "time", 
"ocean_cobalt_phyto_diags",    12, "months", 1, "days", "time",
"ocean_cobalt_bact_diags",     12, "months", 1, "days", "time",
"ocean_cobalt_zoo_diags",      12, "months", 1, "days", "time",
"ocean_cobalt_misc",           12, "months", 1, "days", "time",
#
#======================
# GENERIC OCEAN COBALT DIAGNOSTICS
#======================
#
#===========================
# ocean_cobalt_1day
#===========================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_1day","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_1day","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_1day","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_1day","all",.false.,"none",2
 "generic_cobalt","jprod_allphytos_100", "jprod_allphytos_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","sfc_chl",          "sfc_chl",            "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","sfc_no3",          "sfc_no3",            "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","sfc_temp",         "sfc_temp",           "ocean_cobalt_1day","all",.true.,"none",2
## jgj: added 2014/11/25
# "generic_cobalt","sfc_htotal",       "sfc_htotal",          "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","dic_deltap",       "dic_deltap",          "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","dic_stf_gas",      "dic_stf_gas",         "ocean_cobalt_1day","all",.true.,"none",2
## additional 2D biomasses and biogeochemical fluxes
# "generic_cobalt","fndet_100",        "fndet_100",   "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nsmp_100",         "nsmp_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nlgp_100",         "nlgp_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","ndi_100",          "ndi_100",     "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nsmz_100",         "nsmz_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nmdz_100",         "nmdz_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nlgz_100",         "nlgz_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nbact_100",        "nbact_100",   "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","mesozoo_200",      "mesozoo_200", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nsmp_100",   "jprod_nsmp_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nlgp_100",   "jprod_nlgp_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_ndi_100",    "jprod_ndi_100",  "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nsmz_100",   "jprod_nsmz_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nmdz_100",   "jprod_nmdz_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nlgz_100",   "jprod_nlgz_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nbact_100",  "jprod_nbact_100","ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","hploss_100",       "hploss_100",     "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_mesozoo_200","jprod_mesozoo_200","ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","btm_temp",         "btm_temp"        ,"ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","btm_o2",           "btm_o2"          ,"ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","fndet_btm",        "fndet_btm"       ,"ocean_cobalt_1day","all",.true.,"none",2
#=============================================
# ocean_cobalt_tracers_month
# 2013/06/01 jgj activate chl, htotal for JPD, RRR
#=============================================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_tracers_month","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_tracers_month","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_tracers_month","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_tracers_month","all",.false.,"none",2
 "generic_cobalt","chl",                "chl",                "ocean_cobalt_tracers_month","all",.true.,"none",2
# "generic_cobalt","co3_ion",            "co3_ion",            "ocean_cobalt_tracers_month","all",.true.,"none",2
# "generic_cobalt","co3_sol_arag",       "co3_sol_arag",       "ocean_cobalt_tracers_month","all",.true.,"none",2
# "generic_cobalt","co3_sol_calc",       "co3_sol_calc",       "ocean_cobalt_tracers_month","all",.true.,"none",2
# "generic_cobalt","fed",                "fed",                "ocean_cobalt_tracers_month","all",.true.,"none",2
 "generic_cobalt","htotal",             "htotal",             "ocean_cobalt_tracers_month","all",.true.,"none",2
  "generic_cobalt","no3",                "no3",                "ocean_cobalt_tracers_month","all",.true.,"none",2
  "generic_cobalt","o2",                 "o2",                 "ocean_cobalt_tracers_month","all",.true.,"none",2
#=======================================
# ocean_cobalt_tracers_year
#=======================================
 "ocean_model","geolat_c","geolat_c"                ,"ocean_cobalt_tracers_year","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                ,"ocean_cobalt_tracers_year","all",.false.,"none",2
 "ocean_model","geolat","geolat"                    ,"ocean_cobalt_tracers_year","all",.false.,"none",2
 "ocean_model","geolon","geolon"                    ,"ocean_cobalt_tracers_year","all",.false.,"none",2
# "generic_cobalt","ndi",                "ndi",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","nlg",                "nlg",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","nsm",                "nsm",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","nbact",              "nbact",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","nsmz",               "nsmz",               "ocean_cobalt_tracers_year","all",.true.,"none",2
## "generic_cobalt","nmdz",               "nmdz",               "ocean_cobalt_tracers_year","all",.true.,"none",2
## "generic_cobalt","nlgz",               "nlgz",               "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","alk",                "alk",                "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","cadet_arag",         "cadet_arag",         "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","cadet_calc",         "cadet_calc",         "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","dic",                "dic",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","fed",                "fed",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","fedi",               "fedi",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","felg",               "felg",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","fesm",               "fesm",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","fedet",              "fedet",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","ldon",               "ldon",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","ldop",               "ldop",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","lith",               "lith",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","lithdet",            "lithdet",            "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","ndet",               "ndet",               "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","nh4",                "nh4",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","no3",                "no3",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","o2",                 "o2",                 "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","pdet",               "pdet",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","po4",                "po4",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","srdon",              "srdon",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","srdop",              "srdop",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","sldon",              "sldon",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","sldop",              "sldop",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","sidet",              "sidet",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","silg",               "silg",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","sio4",               "sio4",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","co3_sol_arag",       "co3_sol_arag",       "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","co3_sol_calc",       "co3_sol_calc",       "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_c",    "tot_layer_int_c",    "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_fe",   "tot_layer_int_fe",   "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_n",    "tot_layer_int_n",    "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_p",    "tot_layer_int_p",    "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_si",   "tot_layer_int_si",   "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","cased",              "cased",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","chl",                "chl",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","co3_ion",            "co3_ion",            "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","htotal",             "htotal",             "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","irr_mem",            "irr_mem",            "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","pco2surf",           "pco2surf",           "ocean_cobalt_tracers_year","all",.true.,"none",2
#===================
# Generic COBALT surface fields:
#==================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_sfc","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_sfc","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_sfc","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_sfc","all",.false.,"none",2
 "generic_cobalt","dic_csurf",               "dic_csurf",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","dic_deltap",              "dic_deltap",       "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","dic_kw",                  "dic_kw",           "ocean_cobalt_sfc","all",.true.,"none",2
## "generic_cobalt","dic_sc_no",               "dic_sc_no",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","pco2surf",                "pco2surf",         "ocean_cobalt_sfc","all",.true.,"none",2
## "generic_cobalt","o2_alpha",                 "o2_alpha",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","o2_csurf",                "o2_csurf",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","o2_deltap",               "o2_deltap",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","o2_kw",                   "o2_kw",            "ocean_cobalt_sfc","all",.true.,"none",2
## "generic_cobalt","o2_sc_no",                 "o2_sc_no",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_alk",                 "sfc_alk",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_cadet_arag",          "sfc_cadet_arag",   "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_cadet_calc",          "sfc_cadet_calc",   "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_dic",                 "sfc_dic",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_fed",                 "sfc_fed",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_ldon",                "sfc_ldon",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_sldon",               "sfc_sldon",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_srdon",               "sfc_srdon",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_no3",                 "sfc_no3",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nh4",                 "sfc_nh4",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_po4",                 "sfc_po4",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_sio4",                "sfc_sio4",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_htotal",              "sfc_htotal",       "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_o2",                  "sfc_o2",           "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_chl",                 "sfc_chl",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nsmp",                "sfc_nsmp",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nlgp",                "sfc_nlgp",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_ndi",                 "sfc_ndi",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_chl_smp",             "sfc_chl_smp",      "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_chl_lgp",             "sfc_chl_lgp",      "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_chl_di",              "sfc_chl_di",       "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irr",                 "sfc_irr",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irr_mem",             "sfc_irr_mem",      "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_temp",                "sfc_temp",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_co3_ion",             "sfc_co3_ion",      "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_co3_sol_arag",        "sfc_co3_sol_arag", "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_co3_sol_calc",        "sfc_co3_sol_calc", "ocean_cobalt_sfc","all",.true.,"none",2
#===================
# Generic COBALT bottom fields:
#==================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_btm","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_btm","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_btm","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_btm","all",.false.,"none",2
 "generic_cobalt","btm_temp",         "btm_temp"        ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","btm_o2",           "btm_o2"          ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","ffedet_btm",       "ffedet_btm"      ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","flithdet_btm",     "flithdet_btm"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fndet_btm",        "fndet_btm"       ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fpdet_btm",        "fpdet_btm"       ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fsidet_btm",       "fsidet_btm"      ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcadet_arag_btm",  "fcadet_arag_btm" ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcadet_calc_btm",  "fcadet_calc_btm" ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcased_burial",    "fcased_burial"   ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcased_redis",     "fcased_redis"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcased_input",     "fcased_input"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fnfeso4red_sed",   "fnfeso4red_sed"  ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fno3denit_sed",    "fno3denit_sed"   ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fnoxic_sed",       "fnoxic_sed"      ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","frac_burial",      "frac_burial"     ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fndet_burial",     "fndet_burial"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fpdet_burial",     "fpdet_burial"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","z_sat_arag",       "z_sat_arag"      ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","z_sat_calc",       "z_sat_calc"      ,"ocean_cobalt_btm","all",.true.,"none",2
#======================
# Surface phytoplankton limitation diagnostics
#======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_phytolim_sfc","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_phytolim_sfc","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_phytolim_sfc","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_phytolim_sfc","all",.false.,"none",2
 "generic_cobalt","sfc_def_fe_di",       "sfc_def_fe_di",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_def_fe_lgp",      "sfc_def_fe_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_def_fe_smp",      "sfc_def_fe_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_felim_di",        "sfc_felim_di",           "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_felim_lgp",       "sfc_felim_lgp",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_felim_smp",       "sfc_felim_smp",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irrlim_di",       "sfc_irrlim_di",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irrlim_lgp",      "sfc_irrlim_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irrlim_smp",      "sfc_irrlim_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_theta_di",        "sfc_theta_di",           "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_theta_lgp",       "sfc_theta_lgp",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_theta_smp",       "sfc_theta_smp",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_mu_di",           "sfc_mu_di",              "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_mu_lgp",          "sfc_mu_lgp",             "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_mu_smp",          "sfc_mu_smp",             "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nh4lim_lgp",      "sfc_nh4lim_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nh4lim_smp",      "sfc_nh4lim_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_no3lim_lgp",      "sfc_no3lim_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_no3lim_smp",      "sfc_no3lim_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_po4lim_di",       "sfc_po4lim_di",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_po4lim_lgp",      "sfc_po4lim_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_po4lim_smp",      "sfc_po4lim_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_q_fe_2_n_di",     "sfc_q_fe_2_n_di",        "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_q_fe_2_n_lgp",    "sfc_q_fe_2_n_lgp",       "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_q_fe_2_n_smp",    "sfc_q_fe_2_n_smp",       "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
#======================
# Generic COBALT downward fluxes at 100 meters
#======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_fdet_100","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_fdet_100","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_fdet_100","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_fdet_100","all",.false.,"none",2
 "generic_cobalt","fndet_100",               "fndet_100",        "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","fpdet_100",               "fpdet_100",        "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","ffedet_100",              "ffedet_100",       "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","fsidet_100",              "fsidet_100",       "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","fcadet_calc_100",         "fcadet_calc_100",  "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","fcadet_arag_100",         "fcadet_arag_100",  "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","flithdet_100",            "flithdet_100",     "ocean_cobalt_fdet_100","all",.true.,"none",2
#=======================
# Generic COBALT 100m integrated biomass variables
#=======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_biomass_100","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_biomass_100","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_biomass_100","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_biomass_100","all",.false.,"none",2
 "generic_cobalt","nsmp_100",                "nsmp_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nlgp_100",                "nlgp_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","ndi_100",                 "ndi_100",  "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","silgp_100",               "silgp_100","ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nsmz_100",                "nsmz_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nmdz_100",                "nmdz_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nlgz_100",                "nlgz_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nbact_100",               "nbact_100","ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","don_100",                 "don_100",  "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","ndet_100",                "ndet_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","mesozoo_200",          "mesozoo_200", "ocean_cobalt_biomass_100","all",.true.,"none",2
#=======================
# Generic COBALT 100m integrated plankton production variables
#=======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_prod_100","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_prod_100","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_prod_100","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_prod_100","all",.false.,"none",2
 "generic_cobalt","jprod_allphytos_100",     "jprod_allphytos_100",      "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nsmp_100",          "jprod_nsmp_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nlgp_100",          "jprod_nlgp_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndi_100",           "jprod_ndi_100",            "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nsmp_new_100",      "jprod_nsmp_new_100",       "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nlgp_new_100",      "jprod_nlgp_new_100",       "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndi_new_100",       "jprod_ndi_new_100",        "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndi_n2_100",        "jprod_ndi_n2_100",         "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nsmz_100",          "jprod_nsmz_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nmdz_100",          "jprod_nmdz_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nlgz_100",          "jprod_nlgz_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nbact_100",         "jprod_nbact_100",          "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_mesozoo_200",       "jprod_mesozoo_200",        "ocean_cobalt_prod_100","all",.true.,"none",2
#=======================
# Generic COBALT other 100m integrated foodweb fluxes
#=======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_miscflux_100","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_miscflux_100","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_miscflux_100","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_miscflux_100","all",.false.,"none",2
 "generic_cobalt","jzloss_nsmp_100",         "jzloss_nsmp_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_nlgp_100",         "jzloss_nlgp_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_ndi_100",          "jzloss_ndi_100",           "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jaggloss_nsmp_100",       "jaggloss_nsmp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jaggloss_nlgp_100",       "jaggloss_nlgp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jvirloss_nsmp_100",       "jvirloss_nsmp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jexuloss_nsmp_100",       "jexuloss_nsmp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jexuloss_nlgp_100",       "jexuloss_nlgp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jexuloss_ndi_100",        "jexuloss_ndi_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jingest_n_nsmz_100",      "jingest_n_nsmz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jingest_n_nmdz_100",      "jingest_n_nmdz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jingest_n_nlgz_100",      "jingest_n_nlgz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jingest_n_hp_100",        "jingest_n_hp_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_nsmz_100",         "jzloss_nsmz_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_nmdz_100",         "jzloss_nmdz_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jhploss_nmdz_100",        "jhploss_nmdz_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jhploss_nlgz_100",        "jhploss_nlgz_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndet_nmdz_100",     "jprod_ndet_nmdz_100",      "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndet_nlgz_100",     "jprod_ndet_nlgz_100",      "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndet_hp_100",       "jprod_ndet_hp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_don_nsmz_100",      "jprod_don_nsmz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_don_nmdz_100",      "jprod_don_nmdz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_nsmz_100",       "jremin_n_nsmz_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_nmdz_100",       "jremin_n_nmdz_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_nlgz_100",       "jremin_n_nlgz_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_hp_100",         "jremin_n_hp_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","juptake_ldon_nbact_100",  "juptake_ldon_nbact_100",   "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jvirloss_nbact_100",      "jvirloss_nbact_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_nbact_100",        "jzloss_nbact_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_nbact_100",      "jremin_n_nbact_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_lithdet_100",       "jprod_lithdet_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_sidet_100",         "jprod_sidet_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_cadet_calc_100",    "jprod_cadet_calc_100",     "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_cadet_arag_100",    "jprod_cadet_arag_100",     "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_ndet_100",         "jremin_ndet_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jdic_100",                "jdic_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jdin_100",                "jdin_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jpo4_100",                "jpo4_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jfed_100",                "jfed_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jsio4_100",               "jsio4_100",                "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jalk_100",                "jalk_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
#=======================
# Miscellaneous 2D and 3D COBALT diagnostics, saved yearly by default
#=======================   
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_misc","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_misc","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_misc","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_misc","all",.false.,"none",2
# "generic_cobalt","fcadet_arag",      "fcadet_arag",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fcadet_calc",      "fcadet_calc",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","ffedet",           "ffedet",             "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","flithdet",         "flithdet",           "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fndet",            "fndet",              "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fpdet",            "fpdet",              "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fsidet",           "fsidet",             "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jdiss_sidet",      "jdiss_sidet",        "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jdiss_cadet_arag", "jdiss_cadet_arag",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jdiss_cadet_calc", "jdiss_cadet_calc",   "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jremin_ndet",      "jremin_ndet",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jremin_pdet",      "jremin_pdet",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jremin_fedet",     "jremin_fedet",       "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_fed",      "dep_dry_fed",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_nh4",      "dep_dry_nh4",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_no3",      "dep_dry_no3",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_po4",      "dep_dry_po4",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_lith",     "dep_dry_lith",       "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_fed",      "dep_wet_fed",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_nh4",      "dep_wet_nh4",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_no3",      "dep_wet_no3",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_po4",      "dep_wet_po4",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_lith",     "dep_wet_lith",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_alk",  "runoff_flux_alk",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_dic",  "runoff_flux_dic",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_fed",  "runoff_flux_fed",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_lith", "runoff_flux_lith",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_no3",  "runoff_flux_no3",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_ldon", "runoff_flux_ldon",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_sldon", "runoff_flux_sldon",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_srdon", "runoff_flux_srdon",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_ndet", "runoff_flux_ndet",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_po4",  "runoff_flux_po4",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_ldop", "runoff_flux_ldop",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_sldop", "runoff_flux_sldop",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_srdop", "runoff_flux_srdop",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jprod_cadet_arag", "jprod_cadet_arag",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jprod_cadet_calc", "jprod_cadet_calc",   "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","omega_arag",       "omega_arag",         "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","omega_calc",       "omega_calc",         "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jprod_lithdet",    "jprod_lithdet",      "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jfe_ads",          "jfe_ads",            "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jfe_coast",        "jfe_coast",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","kfe_eq_lig",       "kfe_eq_lig",          "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jalk",     "jalk",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jdic",     "jdic",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jnh4",     "jnh4",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jno3denit_wc",     "jno3denit_wc",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jnitrif",          "jnitrif",            "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dic_stf",          "dic_stf",            "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","dic_stf_gas",      "dic_stf_gas",        "ocean_cobalt_misc","all",.true.,"none",2
## "generic_cobalt","o2_stf",           "o2_stf",              "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","o2_stf_gas",       "o2_stf_gas",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","alk_stf",         "alk_stf",                "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fed_stf",         "fed_stf",                "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","lith_stf",        "lith_stf",               "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","nh4_stf",         "nh4_stf",                "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","no3_stf",         "no3_stf",                "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jalk_plus_btm",   "jalk_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jdic_plus_btm",   "jdic_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jdin_plus_btm",   "jdin_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jfed_plus_btm",   "jfed_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jnh4_plus_btm",   "jnh4_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
#
#========================
# 2D and 3D phytoplankton diagnostics, saved yearly by default
#========================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_phyto_diags","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_phyto_diags","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_phyto_diags","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_phyto_diags","all",.false.,"none",2
# "generic_cobalt","expkT",           "expkT",              "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","def_fe_Di",       "def_fe_Di",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","def_fe_Lg",       "def_fe_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","def_fe_Sm",       "def_fe_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","felim_Di",        "felim_Di",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","felim_Lg",        "felim_Lg",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","felim_Sm",        "felim_Sm",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irrlim_Di",       "irrlim_Di",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irrlim_Lg",       "irrlim_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irrlim_Sm",       "irrlim_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","theta_Di",        "theta_Di",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","theta_Lg",        "theta_Lg",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","theta_Sm",        "theta_Sm",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","mu_Di",           "mu_Di",              "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","mu_Lg",           "mu_Lg",              "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","mu_Sm",           "mu_Sm",              "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","nh4lim_Lg",       "nh4lim_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","nh4lim_Sm",       "nh4lim_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","no3lim_Lg",       "no3lim_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","no3lim_Sm",       "no3lim_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","po4lim_Di",       "po4lim_Di",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","po4lim_Lg",       "po4lim_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","po4lim_Sm",       "po4lim_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","q_fe_2_n_Di",     "q_fe_2_n_Di",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","q_fe_2_n_Lg",     "q_fe_2_n_Lg",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","q_fe_2_n_Sm",     "q_fe_2_n_Sm",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","silim_Lg",        "silim_Lg",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Di",     "jzloss_n_Di",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Lg",     "jzloss_n_Lg",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Sm",     "jzloss_n_Sm",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jvirloss_n_Di",   "jvirloss_n_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jvirloss_n_Lg",   "jvirloss_n_Lg",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jvirloss_n_Sm",   "jvirloss_n_Sm",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jexuloss_n_Di",   "jexuloss_n_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jexuloss_n_Lg",   "jexuloss_n_Lg",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jexuloss_n_Sm",   "jexuloss_n_Sm",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jaggloss_n_Di",   "jaggloss_n_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jaggloss_n_Lg",   "jaggloss_n_Lg",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jaggloss_n_Sm",   "jaggloss_n_Sm",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_n2_Di",   "juptake_n2_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_fe_Di",   "juptake_fe_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_fe_Lg",   "juptake_fe_Lg",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_fe_Sm",   "juptake_fe_Sm",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_nh4_Di",  "juptake_nh4_Di",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_nh4_Lg",  "juptake_nh4_Lg",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_nh4_Sm",  "juptake_nh4_Sm",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_no3_Di",  "juptake_no3_Di",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_no3_Lg",  "juptake_no3_Lg",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_no3_Sm",  "juptake_no3_Sm",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_po4_Di",  "juptake_po4_Di",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_po4_Lg",  "juptake_po4_Lg",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_po4_Sm",  "juptake_po4_Sm",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_sio4_Lg", "juptake_sio4_Lg",    "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jprod_nsmp",      "jprod_nsmp",         "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jprod_nlgp",      "jprod_nlgp",         "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ndi",       "jprod_ndi",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irr_inst",           "irr_inst",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irr_mix",            "irr_mix",         "ocean_cobalt_phyto_diags","all",.true.,"none",2
#===================================
# 2D and 3D bacteria diagnostics, saved yearly by default
#===================================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_bact_diags","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_bact_diags","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_bact_diags","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_bact_diags","all",.false.,"none",2
# "generic_cobalt","jzloss_n_Bact",   "jzloss_n_Bact",         "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","jvirloss_n_Bact", "jvirloss_n_Bact",       "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","juptake_ldon",    "juptake_ldon",          "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","juptake_ldop",    "juptake_ldop",          "ocean_cobalt_bact_diags","all",.true.,"none",2
"generic_cobalt","jprod_nh4_Bact",  "jprod_nh4_Bact",        "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","jprod_po4_Bact",  "jprod_po4_Bact",        "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","jprod_nbact",     "jprod_nbact",            "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","temp_lim_Bact",   "temp_lim_Bact",         "ocean_cobalt_bact_diags","all",.true.,"none",2
#
## zoo_diags: zooplankton diagnostics
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_zoo_diags","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_zoo_diags","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_zoo_diags","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_zoo_diags","all",.false.,"none",2
# "generic_cobalt","jzloss_n_Smz",    "jzloss_n_Smz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Mdz",    "jzloss_n_Mdz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Lgz",    "jzloss_n_Lgz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jhploss_n_Smz",   "jhploss_n_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jhploss_n_Mdz",   "jhploss_n_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jhploss_n_Lgz",   "jhploss_n_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_n_Smz",   "jingest_n_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_n_Mdz",   "jingest_n_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_n_Lgz",   "jingest_n_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_sio2_Smz","jingest_sio2_Smz",      "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_sio2_Mdz","jingest_sio2_Mdz",      "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_sio2_Lgz","jingest_sio2_Lgz",      "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","total_filter_feeding","total_filter_feeding","ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_fe_Smz",  "jingest_fe_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_fe_Mdz",  "jingest_fe_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_fe_Lgz",  "jingest_fe_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ndet_Smz",  "jprod_ndet_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ndet_Mdz",  "jprod_ndet_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ndet_Lgz",  "jprod_ndet_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_pdet_Smz",  "jprod_pdet_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_pdet_Mdz",  "jprod_pdet_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_pdet_Lgz",  "jprod_pdet_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sidet_Smz", "jprod_sidet_Smz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sidet_Mdz", "jprod_sidet_Mdz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sidet_Lgz", "jprod_sidet_Lgz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sio4_Smz", "jprod_sio4_Smz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sio4_Mdz", "jprod_sio4_Mdz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sio4_Lgz", "jprod_sio4_Lgz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fedet_Smz", "jprod_fedet_Smz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fedet_Mdz", "jprod_fedet_Mdz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fedet_Lgz", "jprod_fedet_Lgz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldon_Smz",  "jprod_ldon_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldon_Mdz",  "jprod_ldon_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldon_Lgz",  "jprod_ldon_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldop_Smz",  "jprod_ldop_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldop_Mdz",  "jprod_ldop_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldop_Lgz",  "jprod_ldop_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdon_Smz",  "jprod_srdon_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdon_Mdz",  "jprod_srdon_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdon_Lgz",  "jprod_srdon_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdop_Smz",  "jprod_srdop_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdop_Mdz",  "jprod_srdop_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdop_Lgz",  "jprod_srdop_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldon_Smz",  "jprod_sldon_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldon_Mdz",  "jprod_sldon_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldon_Lgz",  "jprod_sldon_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldop_Smz",  "jprod_sldop_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldop_Mdz",  "jprod_sldop_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldop_Lgz",  "jprod_sldop_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fed_Smz",   "jprod_fed_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fed_Mdz",   "jprod_fed_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fed_Lgz",   "jprod_fed_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_po4_Smz",   "jprod_po4_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_po4_Mdz",   "jprod_po4_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_po4_Lgz",   "jprod_po4_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
 "generic_cobalt","jprod_nh4_Smz",   "jprod_nh4_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
 "generic_cobalt","jprod_nh4_Mdz",   "jprod_nh4_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
 "generic_cobalt","jprod_nh4_Lgz",   "jprod_nh4_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_nsmz",       "jprod_nsmz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
## "generic_cobalt","jprod_nmdz",       "jprod_nmdz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
## "generic_cobalt","jprod_nlgz",       "jprod_nlgz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","temp_lim_Smz",    "temp_lim_Smz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","temp_lim_Mdz",    "temp_lim_Mdz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","temp_lim_Lgz",    "temp_lim_Lgz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","hp_temp_lim",     "hp_temp_lim",           "ocean_cobalt_zoo_diags","all",.true.,"none",2
#
#===================================================================================================================
# GENERIC OCEAN COBALT_z DIAGNOSTICS   JGJ 2016/05/05
#      2016/05/05 jgj add _z diagnostics
#===================================================================
## add _z diagnostics to COBALT
#"ocean_cobalt_1day_z",         24, "hours", 1, "days", "time",
"ocean_cobalt_tracers_month_z", 1, "months", 1, "days", "time",
"ocean_cobalt_tracers_year_z", 12, "months", 1, "days", "time",
"ocean_cobalt_phyto_diags_z",  12, "months", 1, "days", "time",
"ocean_cobalt_bact_diags_z",   12, "months", 1, "days", "time",
"ocean_cobalt_zoo_diags_z",    12, "months", 1, "days", "time",
"ocean_cobalt_misc_z",         12, "months", 1, "days", "time",
#
#===========================
# ocean_cobalt_1day_z
#===========================
# "generic_cobalt_z","no3", "no3", "ocean_cobalt_1day_z","all","mean","none",2
#
#=============================================
# ocean_cobalt_tracers_month_z
#=============================================
 "generic_cobalt_z","chl",                "chl",                "ocean_cobalt_tracers_month_z","all","mean","none",2
 "generic_cobalt_z","dic",                "dic",                "ocean_cobalt_tracers_month_z","all","mean","none",2
 "generic_cobalt_z","htotal",             "htotal",             "ocean_cobalt_tracers_month_z","all","mean","none",2
 "generic_cobalt_z","no3",                "no3",                "ocean_cobalt_tracers_month_z","all","mean","none",2
 "generic_cobalt_z","o2",                 "o2",                 "ocean_cobalt_tracers_month_z","all","mean","none",2
#
#=======================================
# ocean_cobalt_tracers_year_z
#=======================================
 "generic_cobalt_z","alk",                "alk",                "ocean_cobalt_tracers_year_z","all","mean","none",2
 "generic_cobalt_z","cadet_arag",         "cadet_arag",         "ocean_cobalt_tracers_year_z","all","mean","none",2
 "generic_cobalt_z","cadet_calc",         "cadet_calc",         "ocean_cobalt_tracers_year_z","all","mean","none",2
 "generic_cobalt_z","nh4",                "nh4",                "ocean_cobalt_tracers_year_z","all","mean","none",2
#
#=======================================
# Miscellaneous 3D COBALT_z diagnostics, saved yearly by default
#=======================================
 "generic_cobalt_z","jdiss_cadet_arag", "jdiss_cadet_arag",   "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jprod_cadet_arag", "jprod_cadet_arag",   "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jprod_cadet_calc", "jprod_cadet_calc",   "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jalk",             "jalk",               "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jdic",             "jdic",               "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jnh4",             "jnh4",               "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jno3denit_wc",     "jno3denit_wc",       "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jnitrif",          "jnitrif",            "ocean_cobalt_misc_z","all","mean","none",2
#
#========================
# phytoplankton_z diagnostics, saved yearly by default
#========================
 "generic_cobalt_z","juptake_nh4_Di",  "juptake_nh4_Di",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_nh4_Lg",  "juptake_nh4_Lg",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_nh4_Sm",  "juptake_nh4_Sm",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_no3_Di",  "juptake_no3_Di",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_no3_Lg",  "juptake_no3_Lg",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_no3_Sm",  "juptake_no3_Sm",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
#
#===================================
# bacteria_z diagnostics, saved yearly by default
#===================================
 "generic_cobalt_z","jprod_nh4_Bact",  "jprod_nh4_Bact",        "ocean_cobalt_bact_diags_z","all","mean","none",2
#
#===================================
## zoo_diags: zooplankton_z diagnostics
#===================================
 "generic_cobalt_z","jprod_nh4_Smz",   "jprod_nh4_Smz",         "ocean_cobalt_zoo_diags_z","all","mean","none",2
 "generic_cobalt_z","jprod_nh4_Mdz",   "jprod_nh4_Mdz",         "ocean_cobalt_zoo_diags_z","all","mean","none",2
 "generic_cobalt_z","jprod_nh4_Lgz",   "jprod_nh4_Lgz",         "ocean_cobalt_zoo_diags_z","all","mean","none",2
#
#===================================================================================================================
      </diagTable>
    </input>
</freInclude>

  <!-- Atmos co2 diagnostics: note atmos_month and atmos_scalar already in awg diag table -->
  <freInclude name="ESM4_atmos_co2_diag_table">
    <input>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/diag_table.atmos_co2_20160304</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/diag_table.atmos_co2_20160304</dataSource>
      </dataFile>
     </input>
  </freInclude>

  <freInclude name="OBGC_COBALT_Preind_field_table">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.COBALT_init_tracers_latlon_preind_dic_20151209</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.COBALT_init_tracers_latlon_preind_dic_20151209</dataSource>
      </dataFile>
    </input>
  </freInclude>

  <freInclude name="ESM4_atmos_co2_2000_field_table">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.atmos_co2_2000_20160610</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.atmos_co2_2000_20160610</dataSource>
      </dataFile>
     </input>
  </freInclude>
  <freInclude name="ESM4_atmos_co2_1860_field_table">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MODEL_UPDATES_WH)/fre/input/ESM4/field_table.atmos_co2_1860_20160809</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.atmos_co2_2000_20160610</dataSource>
      </dataFile>
     </input>
  </freInclude>
  <freInclude name="ESM4_atmos_co2_historical_field_table">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MODEL_UPDATES_WH)/fre/input/ESM4/field_table.atmos_co2_1860_20160809</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.atmos_co2_2000_20160610</dataSource>
      </dataFile>
     </input>
  </freInclude>
  <freInclude name="ESM4_atmos_co2_2010_field_table">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MODEL_UPDATES_WH)/fre/input/ESM4/field_table.atmos_co2_2010_20160819</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.atmos_co2_2000_20160610</dataSource>
      </dataFile>
     </input>
  </freInclude>
  <!-- Atmos co2 post-processing: note atmos_level, atmos_month and atmos_scalar already in c96_climo_postprocess -->
  <freInclude name="atmos_co2_postprocess">
      <postProcess> 
      <component type="atmos_level_instant" source="atmos_level_instant" sourceGrid="atmos-cubedsphere" xyInterp="180,288">
        <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)"/>
        <timeSeries freq="annual"  chunkLength="$(PP_CPLD_CHUNK_A)">
        </timeSeries>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_A)"/>
        <timeAverage source="monthly" interval="$(PP_CPLD_CHUNK_B)">
        </timeAverage>
      </component>
     </postProcess>
  </freInclude>
 
  <!-- OCEAN BGC post-processing-->
  <freInclude name="COBALT_postprocess">

      <postProcess> 
      <!--REFINE DIAG SCRIP -->
      <!--By default a refineDiag script causes the annual data to be unpacked and saved in /ptmp/$USER-->
      <!--MOM6_refineDiag.csh is currently empty and is here only to cause the unpack annual history files in /ptmp-->
            <!-- wh removed the string here, left it in OM4_postprocess per Niki and Jasmin-->
      <refineDiag script=""/>

      <!--PostProcessing component models-->
      <component type="ocean_cobalt_1day" start="$(PP_START_YEAR)" source="ocean_cobalt_1day" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_A)" />
      </component>

      <component type="ocean_cobalt_tracers_month" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_month" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CPLD_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_tracers_year" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_year" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_sfc" start="$(PP_START_YEAR)" source="ocean_cobalt_sfc" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CPLD_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_btm" start="$(PP_START_YEAR)" source="ocean_cobalt_btm" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CPLD_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_phytolim_sfc" start="$(PP_START_YEAR)" source="ocean_cobalt_phytolim_sfc" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CPLD_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_fdet_100" start="$(PP_START_YEAR)" source="ocean_cobalt_fdet_100" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CPLD_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_biomass_100" start="$(PP_START_YEAR)" source="ocean_cobalt_biomass_100" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CPLD_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_prod_100" start="$(PP_START_YEAR)" source="ocean_cobalt_prod_100" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CPLD_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_miscflux_100" start="$(PP_START_YEAR)" source="ocean_cobalt_miscflux_100" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CPLD_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_phyto_diags" start="$(PP_START_YEAR)" source="ocean_cobalt_phyto_diags" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_bact_diags" start="$(PP_START_YEAR)" source="ocean_cobalt_bact_diags" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_zoo_diags" start="$(PP_START_YEAR)" source="ocean_cobalt_zoo_diags" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_misc" start="$(PP_START_YEAR)" source="ocean_cobalt_misc" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

     </postProcess>
  </freInclude>
 
  <freInclude name="COBALT_z_postprocess">

      <postProcess> 
      <!--REFINE DIAG SCRIP -->
      <!--By default a refineDiag script causes the annual data to be unpacked and saved in /ptmp/$USER-->
      <!--MOM6_refineDiag.csh is currently empty and is here only to cause the unpack annual history files in /ptmp-->
      <!-- wh removed the string here, left it in OM4_postprocess per Niki and Jasmin-->
      <refineDiag script=""/>

      <!--PostProcessing component models-->
<!--
      <component type="ocean_cobalt_1day_z" start="$(PP_START_YEAR)" source="ocean_cobalt_1day_z" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(PP_CPLD_CHUNK_A)" />
      </component>
-->

      <component type="ocean_cobalt_tracers_month_z" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_month_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="monthly"  interval="$(PP_CPLD_CHUNK_A)"/>
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_tracers_year_z" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_year_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_phyto_diags_z" start="$(PP_START_YEAR)" source="ocean_cobalt_phyto_diags_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_bact_diags_z" start="$(PP_START_YEAR)" source="ocean_cobalt_bact_diags_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_zoo_diags_z" start="$(PP_START_YEAR)" source="ocean_cobalt_zoo_diags_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

      <component type="ocean_cobalt_misc_z" start="$(PP_START_YEAR)" source="ocean_cobalt_misc_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(PP_CPLD_CHUNK_A)" />
         <timeAverage source="annual"  interval="$(PP_CPLD_CHUNK_A)"/>
      </component>

     </postProcess>
  </freInclude>

</experimentSuite>


