<freInclude xmlns:xi="http://www.w3.org/2003/XInclude">
    <platform name="ncrc4.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
        $(append_to_setup_csh)
      ]]></csh>
    </platform>
    <platform name="ncrc4.intel16noovlim">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>
    <mkmfTemplate file="/ncrc/home2/Niki.Zadeh/bin/intel17noovlim.mk"/>

    </platform>
    <platform name="ncrc4.intel17noovlim">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="17.0.0.098" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>
    <mkmfTemplate file="/ncrc/home2/Niki.Zadeh/bin/intel17noovlim.mk"/>

    </platform>
    <platform name="ncrc4.intel17">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="17.0.0.098" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>
    </platform>
    <platform name="ncrc4.intel15c3exec">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
     
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>

    </platform>
    <platform name="ncrc4.pgi16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="pgi" version="16.5.0" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
#          source $MODULESHOME/init/csh
#          module use -a /ncrc/home2/fms/local/modulefiles
#          module unload PrgEnv-pgi PrgEnv-pathscale PrgEnv-intel PrgEnv-gnu PrgEnv-cray
#          module unload netcdf fre fre-commands
#          module load gcc/4.9.3
#          module load PrgEnv-gnu
          setenv KMP_STACKSIZE 512m
          setenv NC_BLKSZ 1M
          # MAIN_PROGRAM env is needed by the GNU compiler
          setenv MAIN_PROGRAM coupler/coupler_main.o
          module load git
      ]]></csh>

    </platform>
    <platform name="ncrc4.gnu5">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="gnu" version="5.3.0" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
#          source $MODULESHOME/init/csh
#          module use -a /ncrc/home2/fms/local/modulefiles
#          module unload PrgEnv-pgi PrgEnv-pathscale PrgEnv-intel PrgEnv-gnu PrgEnv-cray
#          module unload netcdf fre fre-commands
#          module load gcc/4.9.3
#          module load PrgEnv-gnu
          setenv KMP_STACKSIZE 512m
          setenv NC_BLKSZ 1M
          # MAIN_PROGRAM env is needed by the GNU compiler
          setenv MAIN_PROGRAM coupler/coupler_main.o
          module load git
      ]]></csh>

    </platform>
    <platform name="ncrc4.cray8">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="cce" version="8.5.0" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
          setenv KMP_STACKSIZE 512m
          setenv NC_BLKSZ 1M
          # MAIN_PROGRAM env is needed by the GNU compiler
          setenv MAIN_PROGRAM coupler/coupler_main.o
          module load git
      ]]></csh>

     <mkmfTemplate file="/ncrc/home2/Niki.Zadeh/bin/cray.mk"/>
    </platform>
    <platform name="ncrc3.intel15">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="15.0.2.164" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>

    </platform>
    <platform name="ncrc3.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
        $(append_to_setup_csh)
      ]]></csh>

    </platform>
    <platform name="ncrc3.gnu">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="gnu" version="4.9.3" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
#          source $MODULESHOME/init/csh
#          module use -a /ncrc/home2/fms/local/modulefiles
#          module unload PrgEnv-pgi PrgEnv-pathscale PrgEnv-intel PrgEnv-gnu PrgEnv-cray
#          module unload netcdf fre fre-commands
#          module load gcc/4.9.3
#          module load PrgEnv-gnu
          setenv KMP_STACKSIZE 512m
          setenv NC_BLKSZ 1M
          # MAIN_PROGRAM env is needed by the GNU compiler
          setenv MAIN_PROGRAM coupler/coupler_main.o
          module load git
      ]]></csh>

    </platform>

    <platform name="ncrc3.intel14">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="14.0.2.144" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>

    </platform>
    <platform name="ncrc3.pgi15">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="pgi" version="15.3.0" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>

    </platform>

    <platform name="ncrc3.cray8">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="cce" version="8.5.0" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <root>/lustre/f2/dev/$USER/$(FRE_STEM)</root>
        <scripts>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>/lustre/f2/dev/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <src>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/src</src>
        <exec>/lustre/f2/dev/$USER/$(FRE_STEM)/$(name)/$(platform)-$(target)/exec</exec>
        <archive>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>/lustre/f2/scratch/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>/lustre/f2/scratch//$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"          value="/lustre/f2/dev/$USER/$(stem)"/>
      <property name="F2003_FLAGS"        value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"     value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"            value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"        value="/lustre/f2/dev/Niki.Zadeh/archive"/>
      <property name="REFERENCE"          value="/lustre/f2/dev/Niki.Zadeh/archive/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"   value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT" value="/lustre/f2/pdata/gfdl/cmip6/datasets"/>
      <csh><![CDATA[
          setenv KMP_STACKSIZE 512m
          setenv NC_BLKSZ 1M
          # MAIN_PROGRAM env is needed by the GNU compiler
          setenv MAIN_PROGRAM coupler/coupler_main.o
          module load git
      ]]></csh>

    </platform>
    <platform name="ncrc4.intel16f1">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="ARCHIVE_NNZ"       value="/lustre/f1/unswept/Niki.Zadeh/archive"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="FMS_ARCHIVE_ROOT"     value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT"   value="$CDATA/cmip6/datasets"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
        $(append_to_setup_csh)
      ]]></csh>
    </platform>
    <platform name="theia.intel">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="15.1.133" />
      <project>gfdlport</project>
      <directory stem="$(FRE_STEM)">
        <root>/scratch4/GFDL/gfdlscr/$USER/$(stem)</root>
        <src>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/src</src>
        <exec>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/$(platform)-$(target)/exec</exec>
        <scripts>$HOME/$(stem)/$(name)/$(platform)-$(target)/scripts</scripts>
        <stdout>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/$(platform)-$(target)/stdout</stdout>
        <state>$HOME/$(stem)/$(name)/$(platform)-$(target)/state</state>
        <work>/scratch4/GFDL/gfdlscr/$USER/work/$FRE_JOBID</work>
        <ptmp>/scratch4/GFDL/gfdlscr/$USER/ptmp</ptmp>
        <archive>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/$(platform)-$(target)</archive>
      </directory>

      <property name="EXEC_ROOT"         value="$(rootDir)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_NESCC)"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)"/>
      <property name="ARCHIVE_NNZ"       value=""/>
      <property name="REFERENCE"         value=""/>
      <property name="FMS_ARCHIVE_ROOT"     value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT"   value="$CDATA/cmip6/datasets"/>

      <csh><![CDATA[
        module use -a /home/fms/local/modulefiles
        module use -a /contrib/gfdl/modulefiles
        module load intel/15.1.133
        module load netcdf/4.3.0
        module load hdf5/1.8.14
        module load impi/5.0.1.035
        module load nco
        module load $(FRE_VERSION)

        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
        ]]>
      </csh>
    </platform>
    <platform name="gfdl.default">
      <freVersion>$(FRE_VERSION)</freVersion>
      <property name="NB_ROOT"  value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/><!--Do not change this! Other platforms use  the same value. -->
      <directory stem="$(FRE_STEM)">
        <archive>$ARCHIVE/$(stem)/$(name)/$(platform)-$(target)</archive>
        <postProcess>$(archiveDir)/pp</postProcess>
        <ptmp>/ptmp/$USER</ptmp>
        <analysis>$(NB_ROOT)</analysis><!--Do not change this! frepp translates this to $out_dir. This is also the directory under which  frepp looks for mom6 clone.  -->
      </directory>
      <property name="EXEC_ROOT"         value="$(rootDir)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GFDL)"/>
      <property name="ARCHIVE_NNZ"       value=""/>
      <property name="REFERENCE"         value=""/>
      <property name="FMS_ARCHIVE_ROOT"     value="$CDATA/fms"/>
      <property name="CMIP6_ARCHIVE_ROOT"   value="$CDATA/cmip6/datasets"/>


      <csh><![CDATA[
        source $MODULESHOME/init/csh
        module use -a /home/fms/local/modulefiles
        module purge
        module load fre/$(FRE_VERSION)
        module load fre-analysis
        module load git
        setenv FREVERSION fre/$(FRE_VERSION)           
        setenv NBROOT $(NB_ROOT)
        setenv BASIN_CODES $(OCEAN_BASIN_FILE)
        /home/Niki.Zadeh/nnz_tools/bin/verify -m $(MOM6_GIT_TAG) -x dev
      ]]>
      </csh>
    </platform>
    <platform name="gfdl.ncrc3-intel16">
      <xi:include xpointer="xpointer(//freInclude/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.ncrc4-intel16">
      <xi:include xpointer="xpointer(//freInclude/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.ncrc4-intel16f1">
      <xi:include xpointer="xpointer(//freInclude/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.ncrc4-intel17">
      <xi:include xpointer="xpointer(//freInclude/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.theia-intel">
      <xi:include xpointer="xpointer(//freInclude/platform[@name='gfdl.default']/node())" />
    </platform>

    <platform name="gfdl-ws.default">
      <xi:include xpointer="xpointer(//freInclude/platform[@name='gfdl.default']/node())" />
    </platform>

</freInclude>

