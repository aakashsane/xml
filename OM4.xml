<?xml version="1.0"?>
<!-- FRE Usage documentation: http://www.gfdl.noaa.gov/fms/fre -->
<!-- $Id: OM4.xml,v 1.1.2.12.2.6.2.3 2014/05/23 19:37:49 Niki.Zadeh Exp $ -->

<!--
Quick start guide

module load fre/bronx-11
fremake -x OM4.xml -p ncrc4.intel16 -t prod MOM6_SIS2_compile
frerun  -x OM4.xml -p ncrc4.intel16 -t prod OM4_SIS2_baseline -r basic 

-->

<experimentSuite rtsVersion="4" xmlns:xi="http://www.w3.org/2001/XInclude">
   <property name="RELEASE"      value="warsaw"/> <!-- CVS tag for shared source code -->
   <property name="MOM6_DATE"    value="2017.04.22"/>     <!-- git tag date for MOM6 source code -->
   <property name="FRE_STEM"     value="$(RELEASE)_mom6_$(MOM6_DATE)"/>
   <property name="SHARED_GIT_TAG"     value="$(RELEASE)"/>
   <property name="MOM6_GIT_TAG" value="dev/master/$(MOM6_DATE)"/> <!-- git tag for MOM6 source code -->
   <property name="BERGS_GIT_TAG" value="dev/master"/>
   <property name="FRE_VERSION"  value="bronx-12"/>
   <!-- Please make sure to change "YOURGROUPLETTER" to your group, such as b, f, g, m, o... -->
   <property name="GFDL_GROUP"   value="gfdl_YOURGROUPLETTER"/>    <!-- Replace YOURGROUPLETTER with GFDL group letter -->


   <property name="OM4_ANALYSIS" value="ice_ocean_SIS2/OM4_025"/>  <!--example containing .frepp scripts for analysis-->
                                                                 <!--Please set the value to ice_ocean_SIS2/OM4_05 for 1/2 degree ocean model runs-->

   <!--Production run properties. Users can modify these according to their need and/or performance analysis-->
   <property name="PROD_SIMTIME"   value="10"/>
   <!--Post-processing  chunk lengths -->
   <property name="CHUNK_LENGTH_A" value="5yr"/>
   <property name="CHUNK_LENGTH_B" value="10yr"/>

   <!--The following properties need to be set only if the user wants to monitor the run progress at MDBI
      and are not needed for the run or post-processing -->
   <property name="PP_START_YEAR"  value="1900"/>
   <property name="PP_END_YEAR"    value="1910"/>
   <!--Use these values for CORE2 dynamic forcing runs -->
   <!--
   <property name="PP_START_YEAR"  value="1948"/>
   <property name="PP_END_YEAR"    value="1958"/>
   -->
   <property name="ProjectID"       value="MDT"/>      <!-- database top level -->
   <property name="ANALYSIS_SWITCH" value="on"/>       <!-- on/off switch for ATM/LND analysis -->
   <property name="MDBIswitch"      value="on"/>       <!-- on/off switch for MDBI database -->


   <property name="PROD_RUNTIME"         value="16:00:00"/><!--Maximum wall clock per simulation-->
   <property name="PROD_SEGTIME"         value="04:00:00"/><!--Wall clock per segment (usually 1 year)-->
   <property name="PROD_NPES"            value="1756"/> 
   <property name="PROD_MASK_TABLE"      value="mask_table.548.32x72"/>
   <property name="OCN_PROD_LAYOUT"      value="32,72"/>
   <property name="OCN_PROD_IO_LAYOUT"   value="1,4"/>
   <property name="ICE_PROD_LAYOUT"      value="32,72"/>
   <property name="ICE_PROD_IO_LAYOUT"   value="1,4"/>


   <!--Users need not change the following properties -->
   <property name="reference_tag"  value="verona_mom6_2016.06.29_answers"/> <!-- Reference release tag for existing files in the archives for answer comparison. Used in "REFERENCE" property. -->

   <!-- The following properties are for testing/debugging purposes and should normally be empty-->
   <property name="MODIFIER"     value=""/>  
   <property name="DEBUGLEVEL"   value="_2"/>
   <property name="STATIC"       value=""/>  


   <freInclude name="resourceparams_O30">
	     <resources jobWallclock="00:30:00">
	       <ice                        layout = "6,5"   io_layout = "1,1" mask_table="MOM_mask_table"/>
	       <ocn ranks="30" threads="1"   layout = "6,5"   io_layout = "1,1" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O32">
	     <resources jobWallclock="00:30:00">
               <atm ranks="0" threads="2"/>
	       <ice                        layout = "8,4"   io_layout = "1,2" mask_table="MOM_mask_table"/>
	       <ocn ranks="32" threads="2" layout = "8,4"   io_layout = "1,2" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O32x2">
	     <resources jobWallclock="00:30:00">
	       <ice                        layout = "8,4"   io_layout = "1,2" mask_table="MOM_mask_table"/>
	       <ocn ranks="32" threads="1"   layout = "8,4"   io_layout = "1,2" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O64">
	     <resources jobWallclock="00:30:00">
	       <ice                        layout = "8,8"   io_layout = "1,2" mask_table="MOM_mask_table"/>
	       <ocn ranks="64" threads="1"   layout = "8,8"   io_layout = "1,2" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O">
	     <resources jobWallclock="00:30:00">
	       <ice                        layout = ""   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="" threads="1"   layout = ""   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O128">
	     <resources jobWallclock="01:30:00">
	       <ice                           layout = "16,8"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="128" threads="1"   layout = "16,8"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O128x2">
	     <resources jobWallclock="01:30:00">
	       <atm  ranks="0" threads="2"/>
	       <ice                           layout = "16,8"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="128" threads="2"   layout = "16,8"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   
   <freInclude name="resourceparams_O128x1h">
	     <resources jobWallclock="01:30:00">
	       <atm  ranks="0" threads="2"/>
	       <ice                           layout = "16,8"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="128" threads="1"   layout = "16,8"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   
   <freInclude name="resourceparams_O128x2h">
	     <resources jobWallclock="01:30:00">
	       <atm ranks="0" threads="4"/>
	       <ice                           layout = "16,8"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="128" threads="2"   layout = "16,8"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O256">
	     <resources jobWallclock="01:00:00">
	       <ice                           layout = "16,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="256" threads="1"   layout = "16,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O256x2">
	     <resources jobWallclock="01:00:00">
               <atm  ranks="0" threads="2"/>
	       <ice                           layout = "16,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="256" threads="2"   layout = "16,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O360">
	     <resources jobWallclock="01:30:00">
	       <ice                           layout = "36,10"   io_layout = "1,5" mask_table="MOM_mask_table"/>
	       <ocn ranks="360" threads="1"   layout = "36,10"   io_layout = "1,5" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O432">
	     <resources jobWallclock="01:30:00">
	       <ice                           layout = "36,12"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="432" threads="1"   layout = "36,12"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O480">
	     <resources jobWallclock="01:00:00">
	       <ice                           layout = "32,18"   io_layout = "1,3" mask_table="mask_table.96.32x18"/>
	       <ocn ranks="480" threads="1"   layout = "32,18"   io_layout = "1,3" mask_table="mask_table.96.32x18"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O512">
	     <resources jobWallclock="01:00:00">
	       <ice                           layout = "32,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="512" threads="1"   layout = "32,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O512x2">
	     <resources jobWallclock="01:00:00">
               <atm  ranks="0" threads="2"/>
	       <ice                           layout = "32,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="512" threads="2"   layout = "32,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O512x1h">
	     <resources jobWallclock="01:00:00">
	       <ice                           layout = "32,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="512" threads="1"   layout = "32,16"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O648">
	     <resources jobWallclock="01:00:00">
	       <ice                           layout = "18,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="648" threads="1"   layout = "18,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O864">
	     <resources jobWallclock="01:00:00">
	       <ice                           layout = "24,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="864" threads="1"   layout = "24,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O1152">
	     <resources jobWallclock="01:30:00">
	       <ice                           layout = "32,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="1152" threads="1"  layout = "32,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O1152x2">
	     <resources jobWallclock="01:30:00">
               <atm  ranks="0" threads="2"/>
	       <ice                           layout = "32,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="1152" threads="2"  layout = "32,36"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O910">
	     <resources jobWallclock="01:30:00">
	       <ice                          layout = "32,36"   io_layout = "1,4" mask_table="mask_table.242.32x36"/>
	       <ocn ranks="910" threads="1"  layout = "32,36"   io_layout = "1,4" mask_table="mask_table.242.32x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O1125">
	     <resources jobWallclock="01:30:00">
	       <ice                           layout = "32,45"   io_layout = "1,5" mask_table="mask_table.315.32x45"/>
	       <ocn ranks="1125" threads="1"  layout = "32,45"   io_layout = "1,5" mask_table="mask_table.315.32x45"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O1756_production">
	     <resources jobWallclock="16:00:00"  segRuntime="2:00:00">
	       <ice                           layout = "32,72"   io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	       <ocn ranks="1756" threads="1"  layout = "32,72"   io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O1756">
	     <resources jobWallclock="01:30:00">
	       <ice                           layout = "32,72"   io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	       <ocn ranks="1756" threads="1"  layout = "32,72"   io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O1756x2">
	     <resources jobWallclock="01:30:00">
               <atm  ranks="0" threads="2"/>
	       <ice                           layout = "32,72"   io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	       <ocn ranks="1756" threads="2"  layout = "32,72"   io_layout = "1,4" mask_table="mask_table.548.32x72"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O1970">
	     <resources jobWallclock="01:30:00">
	       <ice                           layout = "36,72"   io_layout = "1,4" mask_table="mask_table.622.36x72"/>
	       <ocn ranks="1970" threads="1"  layout = "36,72"   io_layout = "1,4" mask_table="mask_table.622.36x72"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O2304">
	     <resources jobWallclock="00:30:00">
	       <ice                           layout = "32,72"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	       <ocn ranks="2304" threads="1"  layout = "32,72"   io_layout = "1,4" mask_table="MOM_mask_table"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O2432">
	     <resources jobWallclock="00:30:00">
	       <ice                           layout = "45,72"   io_layout = "1,4" mask_table="mask_table.808.45x72"/>
	       <ocn ranks="2432" threads="1"  layout = "45,72"   io_layout = "1,4" mask_table="mask_table.808.45x72"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O2997">
	     <resources jobWallclock="00:30:00">
	       <ice                           layout = "90,45"   io_layout = "1,5" mask_table="mask_table.1053.90x45"/>
	       <ocn ranks="2997" threads="1"  layout = "90,45"   io_layout = "1,5" mask_table="mask_table.1053.90x45"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O3240">
	     <resources jobWallclock="00:30:00">
	       <ocn ranks="3240"  threads="1"       layout = "45,72"   io_layout = "1,4"/>
	       <ice                                 layout = "45,72"   io_layout = "1,4"/>
	     </resources>
   </freInclude>
	            

   <freInclude name="resourceparams_O3551">
	     <resources jobWallclock="00:30:00">
	       <ocn ranks="3551" layout = "90,54"   io_layout = "1,3" mask_table="mask_table.1309.90x54" threads="1"/>
	       <ice              layout = "90,54"   io_layout = "1,3" mask_table="mask_table.1309.90x54"/>
	     </resources>
   </freInclude>
                     
   <freInclude name="resourceparams_O3782">
	     <resources jobWallclock="00:30:00">
	       <ocn ranks="3782" layout = "72,72"   io_layout = "1,4" mask_table="mask_table.1402.72x72" threads="1"/>
	       <ice              layout = "72,72"   io_layout = "1,4" mask_table="mask_table.1402.72x72"/>
	     </resources>
   </freInclude>
	       
   <freInclude name="resourceparams_O4671">
	     <resources jobWallclock="00:30:00">
	       <ocn ranks="4671" layout = "90,72"   io_layout = "1,4" mask_table="mask_table.1809.90x72" threads="1"/>
	       <ice              layout = "90,72"   io_layout = "1,4" mask_table="mask_table.1809.90x72"/>
	     </resources>
   </freInclude>
	            

   <!--1/2 degree ocean grid Only-->
   <freInclude name="resourceparams_O442p5">
	     <resources jobWallclock="01:30:00">
	       <ocn ranks="442" layout = "16,32"   io_layout = "1,4" mask_table="mask_table.70.16x32" threads="1"/>
	       <ice             layout = "16,32"   io_layout = "1,4" mask_table="mask_table.70.16x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O842p5">
	     <resources jobWallclock="01:30:00">
	       <ocn ranks="842" layout = "32,32"   io_layout = "1,4" mask_table="mask_table.182.32x32" threads="1"/>
	       <ice             layout = "32,32"   io_layout = "1,4" mask_table="mask_table.182.32x32"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O951p5">
	     <resources jobWallclock="01:30:00">
	       <ocn ranks="951" layout = "32,36"   io_layout = "1,4" mask_table="mask_table.201.32x36" threads="1"/>
	       <ice             layout = "32,36"   io_layout = "1,4" mask_table="mask_table.201.32x36"/>
	     </resources>
   </freInclude>
	       
   <freInclude name="resourceparams_O1057p5">
	     <resources jobWallclock="01:30:00">
	       <ocn ranks="1057" layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36" threads="1"/>
	       <ice              layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
	     </resources>
   </freInclude>
   <freInclude name="resourceparams_O1057p5x2">
	     <resources jobWallclock="01:30:00">
	       <ocn ranks="1057" layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36" threads="2"/>
	       <ice              layout = "36,36"   io_layout = "1,4" mask_table="mask_table.239.36x36"/>
               <atm  ranks="0" threads="2"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O1300p5">
	     <resources jobWallclock="01:30:00">
	       <ocn ranks="1300" layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45" threads="1"/>
	       <ice              layout = "36,45"   io_layout = "1,5" mask_table="mask_table.320.36x45"/>
	     </resources>
   </freInclude>

   <freInclude name="resourceparams_O1441p5">
	     <resources jobWallclock="01:30:00">
	       <ocn ranks="1441" layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50" threads="1"/>
	       <ice              layout = "36,50"   io_layout = "1,5" mask_table="mask_table.359.36x50"/>
	     </resources>
    </freInclude>

    <freInclude name="resourceparams_O1608p5">
	     <resources jobWallclock="01:30:00">
	       <ocn ranks="1608" layout = "45,45"   io_layout = "1,5" mask_table="mask_table.417.45x45" threads="1"/>
	       <ice              layout = "45,45"   io_layout = "1,5" mask_table="mask_table.417.45x45"/>
	     </resources>
    </freInclude>

    <freInclude name="resourceparams_O2700p5">
	     <resources jobWallclock="00:30:00">
	       <ocn ranks="2700" layout = "45,60"   io_layout = "1,5" mask_table="MOM_mask_table" threads="1"/>
	       <ice              layout = "45,60"   io_layout = "1,5" mask_table="MOM_mask_table"/>
	     </resources>
    </freInclude>
	       
    <freInclude name="resourceparams_O2119p5">
	     <resources jobWallclock="00:30:00">
	       <ocn ranks="2119" layout = "45,60"   io_layout = "1,5" mask_table="mask_table.581.45x60" threads="1"/>
	       <ice              layout = "45,60"   io_layout = "1,5" mask_table="mask_table.581.45x60"/>
	     </resources>
    </freInclude>

    <freInclude name="resourceparams_O2783p5">
	     <resources jobWallclock="00:30:00">
	       <ocn ranks="2783" layout = "60,60"   io_layout = "1,5" mask_table="mask_table.817.60x60" threads="1"/>
	       <ice              layout = "60,60"   io_layout = "1,5" mask_table="mask_table.817.60x60"/>
	     </resources>
    </freInclude>

    <freInclude name="resourceparams_O3314p5">
	     <resources jobWallclock="00:30:00">
	       <ocn ranks="3314" layout = "60,72"   io_layout = "1,4" mask_table="mask_table.1006.60x72" threads="1"/>
	       <ice              layout = "60,72"   io_layout = "1,4" mask_table="mask_table.1006.60x72"/>
	     </resources>
    </freInclude>

    <freInclude name="resourceparams_O3925p5">
	     <resources jobWallclock="00:30:00">
	       <ocn ranks="3925" layout = "72,72"   io_layout = "1,4" mask_table="mask_table.1259.72x72" threads="1"/>
	       <ice              layout = "72,72"   io_layout = "1,4" mask_table="mask_table.1259.72x72"/>
	     </resources>
   </freInclude>

  <property name="PLATINFO"   value=""/>  <!--This is necessary only if you want to run exact same experiment on multiple platforms-->
  <property name="AWG_INPUT_HOME_GAEA"  value="awg_include"/>
  <property name="AWG_INPUT_HOME_NESCC" value="awg_include"/>
  <property name="AWG_INPUT_HOME_GFDL"  value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)/mdt_xml/awg_include"/>
  <property name="MIZ_ARCHIVE_ROOT_GAEA" value="$CPERM/Ming.Zhao/archive/mdt"/>
  <property name="MIZ_ARCHIVE_ROOT_GFDL" value="/archive/miz/mdt/"/>
    
  <setup>
    <platform name="ncrc4.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/> 
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>
    </platform>
    <platform name="ncrc4.intel16noovlim">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/> 
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>
    <mkmfTemplate file="/ncrc/home2/Niki.Zadeh/bin/intel17noovlim.mk"/>

    </platform>
    <platform name="ncrc4.intel17noovlim">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="17.0.0.098" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/> 
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>
    <mkmfTemplate file="/ncrc/home2/Niki.Zadeh/bin/intel17noovlim.mk"/>

    </platform>
    <platform name="ncrc4.intel17">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="17.0.0.098" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/> 
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>
    </platform>
    <platform name="ncrc4.intel15c3exec">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/> 
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>

     
      <csh><![CDATA[
module use -a /usw/eslogin/modulefiles-c3
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
      ]]></csh>

    </platform>
    <platform name="ncrc3.intel15">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="15.0.2.164" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
     
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
module load nco/4.5.2
      ]]></csh>

    </platform>
    <platform name="ncrc3.intel16">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="16.0.3.210" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
     
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
module load nco/4.5.2
      ]]></csh>

    </platform>
    <platform name="ncrc3.gnu">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="gnu" version="4.9.3" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -fbacktrace"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
     
      <csh><![CDATA[
#          source $MODULESHOME/init/csh
#          module use -a /ncrc/home2/fms/local/modulefiles
#          module unload PrgEnv-pgi PrgEnv-pathscale PrgEnv-intel PrgEnv-gnu PrgEnv-cray
#          module unload netcdf fre fre-commands
#          module load gcc/4.9.3
#          module load PrgEnv-gnu
          setenv KMP_STACKSIZE 512m
          setenv NC_BLKSZ 1M
          # MAIN_PROGRAM env is needed by the GNU compiler
          setenv MAIN_PROGRAM coupler/coupler_main.o
          module load git
module load nco/4.5.2
      ]]></csh>

    </platform>

    <platform name="ncrc3.intel14">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="14.0.2.144" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
     
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
module load nco/4.5.2
      ]]></csh>

    </platform>
    <platform name="ncrc3.pgi15">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="pgi" version="15.3.0" />
      <project>$(GFDL_GROUP)</project>
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(FRE_STEM)</root>
        <scripts>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <state>$CPERM/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <!--swept locations (including the staged archive location)-->
        <archive>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CTMP/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CTMP/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GAEA)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Chris.Golaz/archive/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/f1/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/f1/unswept/Ming.Zhao/archive/mdt"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/>
      <property name="CWG_HOME"          value="/lustre/f1/unswept/John.Krasting/cwg"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/f1/unswept/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
     
      <csh><![CDATA[
        module load git
        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
module load nco/4.5.2
      ]]></csh>

    </platform>

    <platform name="theia.intel">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="15.1.133" />
      <project>gfdlport</project>
      <directory stem="$(FRE_STEM)">
        <root>/scratch4/GFDL/gfdlscr/$USER/$(stem)</root>
        <src>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/src</src>
        <exec>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/$(platform)-$(target)/exec</exec>
        <scripts>$HOME/$(stem)/$(name)/$(platform)-$(target)/scripts</scripts>
        <stdout>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/$(platform)-$(target)/stdout</stdout>
        <state>$HOME/$(stem)/$(name)/$(platform)-$(target)/state</state>
        <work>/scratch4/GFDL/gfdlscr/$USER/work/$FRE_JOBID</work>
        <ptmp>/scratch4/GFDL/gfdlscr/$USER/ptmp</ptmp>
        <archive>/scratch4/GFDL/gfdlscr/$USER/$(stem)/$(name)/$(platform)-$(target)</archive>
      </directory>

      <property name="EXEC_ROOT"         value="$(rootDir)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_NESCC)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/scratch4/GFDL/gfdlscr/Niki.Zadeh/awg/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/scratch4/GFDL/gfdlscr/Niki.Zadeh/archive/input/ulm/LWH"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/scratch4/GFDL/gfdlscr/Niki.Zadeh/archive/input/ulm"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)$(DEBUGLEVEL)/$(name)"/>
      <property name="CWG_HOME"          value="/scratch4/GFDL/gfdlscr/John.Krasting/cwg"/>
      <property name="REFERENCE"         value=""/>
      <property name="ARCHIVE_INPUT_NZ"  value="/scratch4/GFDL/gfdlscr/Niki.Zadeh/archive/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="$CDATA/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/ncrc/home2/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>

      <csh><![CDATA[
        module use -a /home/fms/local/modulefiles
        module use -a /contrib/gfdl/modulefiles
        module load intel/15.1.133
        module load netcdf/4.3.0
        module load hdf5/1.8.14
        module load impi/5.0.1.035
        module load nco
        module load $(FRE_VERSION)

        setenv KMP_STACKSIZE 512m
        setenv NC_BLKSZ 1M
        setenv F_UFMTENDIAN big
        ]]>
      </csh>
    </platform>

    <platform name="olcf.eos_intel14">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="" />
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(stem)</root>
        <exec>$CPERM/$USER/$(stem)/$(name)/$(platform)-$(target)/exec</exec>
        <state>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <scripts>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <!--swept locations (including the staged archive location)-->
        <archive>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CPERM/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_NESCC)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/CM4/input"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/CM4/input"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)/$(name)"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/atlas/proj-shared/cli061/pdata/fms"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="/lustre/atlas/proj-shared/cli061/pdata/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/retrospective"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH"     value="/ncrc/home1/Bill.Hurlin"/>
      <property name="FMS_ARCHIVE_ROOT" value="/lustre/atlas/proj-shared/cli061/pdata/fms" />
      
      <project>cli061</project>
      <csh><![CDATA[
        module use -a /ccs/proj/cli061/local/modulefiles
#        module unload PrgEnv-pgi PrgEnv-pathscale PrgEnv-intel PrgEnv-gnu PrgEnv-cray #if unload and reload PrgEnv-intel it cannot find some modules
        module unload netcdf fre
#        module load PrgEnv-intel
#        module swap intel intel/13.1.3.192 #does not find some system libraries
        module load $(FRE_VERSION)
#        module load netcdf/4.3.0
module load cray-netcdf/4.3.3.1
        module load gcp

#        module use /lustre/atlas/proj-shared/cli061/underwoo/hsm/modulefiles
        module load hsm
        setenv NC_BLKSZ 1M
        setenv KMP_STACKSIZE 512m
        setenv F_UFMTENDIAN big
setenv MPICH_ENV_DISPLAY
setenv MPICH_UNEX_BUFFER_SIZE 256m
limit stacksize unlimited
limit coredumpsize unlimited
        ]]>
      </csh>
    </platform>
    <platform name="olcf.eos_intel15">
      <freVersion>$(FRE_VERSION)</freVersion>
      <compiler type="intel" version="15.0.2.164" />
      <directory stem="$(FRE_STEM)">
        <!--unswept locations--><!-- CPERM=/lustre/f1/unswept -->
        <root>$CPERM/$USER/$(stem)</root>
        <exec>$CPERM/$USER/$(stem)/$(name)/$(platform)-$(target)/exec</exec>
        <state>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/state</state>
        <scripts>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/scripts</scripts>
        <!--swept locations (including the staged archive location)-->
        <archive>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/archive</archive>
        <stdout>$CPERM/$USER/$(stem)$(DEBUGLEVEL)/$(name)/$(platform)-$(target)/stdout</stdout>
        <work>$CPERM/$USER/work/$(stem)/$FRE_JOBID</work>
      </directory>
      <property name="EXEC_ROOT"         value="$CPERM/$USER/$(stem)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML -g -traceback"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_NESCC)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/CM4/input"/>
      <property name="LWH_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_M"/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/CM4/input"/>
      <property name="NB_ROOT"           value="/nbhome/$USER/$(FRE_STEM)/$(name)"/>
      <property name="REFERENCE"         value="/lustre/f1/unswept/Niki.Zadeh/answers/$(reference_tag)/$(name)/$(platform)-$(target)"/>

      <property name="FMS_ARCHIVE_ROOT"  value="/lustre/atlas/proj-shared/cli061/pdata/fms" />
      <property name="ARCHIVE_INPUT_NZ"  value="/lustre/atlas/proj-shared/cli061/pdata/fms"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value="/lustre/atlas/proj-shared/cli061/pdata/fms/esm"/>
      <property name="OBGC_ARCHIVE_ROOT"    value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/retrospective"/> 
      <property name="OBGC_MODEL_UPDATES"   value="/lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/retrospective"/>
      <property name="ESM4_ARCHIVE_ROOT"    value="$CPERM/Jasmin.John/datasets/ESM4"/>
      <property name="MODEL_UPDATES_WH" value="/ncrc/home1/Bill.Hurlin"/>
      
      <project>cli061</project>
      <csh><![CDATA[
        module use -a /ccs/proj/cli061/local/modulefiles
#        module unload PrgEnv-pgi PrgEnv-pathscale PrgEnv-intel PrgEnv-gnu PrgEnv-cray #if unload and reload PrgEnv-intel it cannot find some modules
        module unload netcdf fre
#        module load PrgEnv-intel
        module swap intel intel/15.0.2.164 #does not find some system libraries
        module load $(FRE_VERSION)
#        module load netcdf/4.3.0
        module load cray-netcdf/4.3.3.1
        module load gcp
#        module use /lustre/atlas/proj-shared/cli061/underwoo/hsm/modulefiles
        module load hsm
        setenv NC_BLKSZ 1M
        setenv KMP_STACKSIZE 512m
        setenv F_UFMTENDIAN big
setenv MPICH_ENV_DISPLAY
setenv MPICH_UNEX_BUFFER_SIZE 256m
limit stacksize unlimited
limit coredumpsize unlimited
       ]]>
      </csh>
    </platform>
    <platform name="gfdl.default">
      <freVersion>$(FRE_VERSION)</freVersion>
      <property name="NB_ROOT"  value="/nbhome/$USER/$(FRE_STEM)$(PLATINFO)/$(name)"/><!--Do not change this! Other platforms use  the same value. -->
      <directory stem="$(FRE_STEM)">
        <archive>$ARCHIVE/$(stem)/$(name)/$(platform)-$(target)</archive>
        <postProcess>$(archiveDir)/pp</postProcess>
        <ptmp>/ptmp/$USER</ptmp>
        <analysis>$(NB_ROOT)</analysis><!--Do not change this! frepp translates this to $out_dir. This is also the directory under which  frepp looks for mom6 clone.  -->
      </directory>
      <property name="EXEC_ROOT"         value="$(rootDir)"/>
      <property name="F2003_FLAGS"       value=" -DINTERNAL_FILE_NML"/>
      <property name="AWG_INPUT_HOME"    value="$(AWG_INPUT_HOME_GFDL)"/>
      <property name="AWG_ARCHIVE_ROOT"  value="/archive/cjg/mdt"/>
      <property name="LWH_ARCHIVE_ROOT"  value=""/>
      <property name="MIZ_ARCHIVE_ROOT"  value="/archive/miz/mdt"/>
      <property name="CWG_HOME"          value="/archive/John.Krasting/cwg"/>
      <property name="REFERENCE"         value=""/>
      <property name="ARCHIVE_INPUT_NZ"  value="/archive/Niki.Zadeh/input"/>
      <property name="OM4_05_ARCHIVE"    value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_05_20160517"/>
      <property name="FMS_ESM_ARCHIVE_ROOT" value=""/>
      <property name="OBGC_ARCHIVE_ROOT"    value=""/> 
      <property name="OBGC_MODEL_UPDATES"   value="/home/Jasmin.John"/>
      <property name="ESM4_ARCHIVE_ROOT"    value=""/>
      <property name="MODEL_UPDATES_WH"     value="/home/Bill.Hurlin"/>


      <csh><![CDATA[
        source $MODULESHOME/init/csh
        module use -a /home/fms/local/modulefiles
        module purge
        module load fre/$(FRE_VERSION)
        module load fre-analysis
        module load git
        setenv FREVERSION fre/$(FRE_VERSION)           
        setenv NBROOT $(NB_ROOT)
        /home/Niki.Zadeh/nnz_tools/bin/verify -m $(MOM6_GIT_TAG) -x dev
      ]]>
      </csh>
    </platform>
    <platform name="gfdl.ncrc3-intel15">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.ncrc4-intel16">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.olcf-eos_intel15">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>
    <platform name="gfdl.theia-intel">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>

    <platform name="gfdl-ws.default">
      <xi:include xpointer="xpointer(//setup/platform[@name='gfdl.default']/node())" />
    </platform>

  </setup>

      <property name="OM4_033_ARCHIVE"   value="$(ARCHIVE_INPUT_NZ)/verona/John.Dunne_OM4_033_20151028"/>
   
<!--= COMPILE =-->
<!--===========-->
  <!--The property MOM6_EXAMPLES should point to the mom6 directory that is checked out. It is needed by MOM6 to access its input data files-->
   <property name="PROG_MAIN"   value="coupler/coupler_main.o"/>
   <property name="LIBS_ROOT"   value="MOM6_SIS2_compile"/>
   <property name="FMS_LIB_DIR" value="./$(LIBS_ROOT)/$(platform)-$(target)/exec"/>
   
   <property name="MOM6_EXAMPLES"  value="$root/$(LIBS_ROOT)/src/mom6"/>
   <property name="MY_LIBS"        value="$(EXEC_ROOT)/$(FMS_LIB_DIR)"/>

   <experiment name="MOM6_SIS2_compile">
      <description>
Make the executable for ocean-ice experiments.
      </description>
      <component name="fms" paths="shared" includeDir="$root/$(LIBS_ROOT)/src/shared/include">
         <description domainName="infrastructure" communityName="FMS" communityVersion="$(RELEASE)" communityGrid="NA"/>
         <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
            <codeBase version="$(RELEASE)"> shared.git </codeBase>
      	    <csh><![CDATA[
              ( cd shared && git checkout $(SHARED_GIT_TAG) )
              ]]>
            </csh>
         </source>
         <compile>
            <cppDefs>-Duse_libMPI -Duse_netCDF $(F2003_FLAGS) -DMAXFIELDMETHODS_=400</cppDefs>
         </compile>
      </component>

      <component name="mom6" requires="fms" paths="mom6/src/MOM6/config_src/dynamic mom6/src/MOM6/config_src/coupled_driver mom6/src/MOM6/src/*/ mom6/src/MOM6/src/*/*/ ocean_shared">
       <description domainName="Ocean" communityName="GFDL-MOM6" communityVersion="$(MOM6_GIT_TAG)" communityGrid="Tripolar"/>
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)"> ocean_null.git </codeBase>
        <csh><![CDATA[
          \rm -rf ocean_null
          git clone -b $(MOM6_GIT_TAG) https://github.com/NOAA-GFDL/MOM6-examples.git mom6
          pushd mom6
          git checkout $(MOM6_GIT_TAG)  #needed for older git on zeus
          git submodule init src/MOM6 src/SIS2 src/icebergs tools/python/MIDAS
          git clone --recursive https://github.com/NOAA-GFDL/MOM6.git src/MOM6 
          git clone             https://github.com/NOAA-GFDL/SIS2.git src/SIS2
          git clone             https://github.com/NOAA-GFDL/icebergs.git src/icebergs
          git submodule update #This gets the right version of submodules
          popd

          #To use MOM6 diagnostics/remapping in generic tracers package ocean_shared should be compiled as part of the MOM6 library and NOT as a separate stand-alone library
	  git clone -b $(RELEASE) http://gitlab.gfdl.noaa.gov/fms/ocean_shared.git 
          #(cd ocean_shared && git checkout user/nnz/mom6_dev)
          (cd ocean_shared && git checkout $(MOM6_GIT_TAG))
	  
	
          pushd mom6
          set platform_domain = `perl -T -e "use Net::Domain(hostdomain) ; print hostdomain"`
          if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
            ln -s /scratch4/GFDL/gfdlscr/pdata/gfdl_O/datasets/ .datasets
          else if ("${platform_domain}" =~ *"ccs.ornl.gov"* ) then
            ln -s /lustre/atlas/proj-shared/cli061/pdata/gfdl_O/datasets/ .datasets
          else
            ln -s /lustre/f1/pdata/gfdl_O/datasets/ .datasets
          endif
          popd	  

          test -e mom6/.datasets
          if ($status != 0) then
            echo ""; echo "" ; echo "   WARNING:  .datasets link in MOM6 examples directory is invalid"; echo ""; echo ""
          endif
           ]]>  </csh>
       </source>
       <compile>
            <cppDefs><![CDATA[$(F2003_FLAGS) -DMAX_FIELDS_=100 -DNOT_SET_AFFINITY -D_USE_MOM6_DIAG -D_USE_GENERIC_TRACER -D_FILE_VERSION="'"`git-version-string $<`"'"]]> </cppDefs>
<!--            <makeOverrides>OPENMP=""</makeOverrides>  openmp switch for MOM6 may cause crash -->
       </compile>
      </component>
      
      <component name="icebergs" paths="mom6/src/icebergs" requires="fms">
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)"> ocean_null.git </codeBase>
        <csh>\rm -rf ocean_null</csh>
       </source>
       <compile>
            <cppDefs><![CDATA[-D_FILE_VERSION="'"`git-version-string $<`"'"]]> </cppDefs>
       </compile>
       <description domainName="N/A" communityName="N/A" communityVersion="$(RELEASE)" communityGrid="N/A"/>
      </component>


      <component name="sis2" paths="mom6/src/SIS2 ice_param" requires="fms mom6 icebergs" includeDir="$root/$(LIBS_ROOT)/src/mom6/src/MOM6/src/framework" > 
         <description domainName="Sea Ice SIS2" communityName="GFDL-SIS2" communityVersion="$(RELEASE)" communityGrid="Tripolar"/>
         <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
	   <codeBase version="$(RELEASE)"> ice_param.git </codeBase> 
         </source>
         <compile>
            <cppDefs><![CDATA[$(F2003_FLAGS) -D_FILE_VERSION="'"`git-version-string $<`"'"]]></cppDefs>
<!--            <makeOverrides>OPENMP=""</makeOverrides> openmp switch for MOM6 may cause crash -->
         </compile>
      </component>

      <component name="land_null" paths="land_null" requires="fms">
         <description domainName="NA" communityName="NA" communityVersion="NA" communityGrid="NA"/>
         <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
            <codeBase version="$(RELEASE)"> land_null.git </codeBase>
         </source>
      </component>

      <component name="atmos_null" paths="atmos_null atmos_param/monin_obukhov atmos_param/diag_integral" requires="fms">
         <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
           <codeBase version="$(RELEASE)"> atmos_null.git atmos_param.git </codeBase>
         </source>
         <compile>
            <cppDefs>$(F2003_FLAGS) </cppDefs>
        </compile>
      </component>
      <component name="coupler" paths="coupler" requires="fms land_null atmos_null sis2 mom6 icebergs">
         <description domainName="FMS Coupler" communityName="coupler" communityVersion="$(RELEASE)" communityGrid="NA"/> 
         <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
            <codeBase version="$(RELEASE)"> coupler.git </codeBase>
         </source>
         <compile>
            <cppDefs><![CDATA[$(F2003_FLAGS) -D_USE_LEGACY_LAND_ -Duse_AM3_physics -D_FILE_VERSION="'"`git-version-string $<`"'"]]></cppDefs>
         </compile>
      </component>
   </experiment>

   <experiment name="MOM6_SIS2_compile_static_90x45" inherit="MOM6_SIS2_compile">
      <component paths="shared" name="fms" includeDir="$root/$(LIBS_ROOT)/src/shared/include">
         <library path="$(MY_LIBS)/fms/libfms.a" headerDir="$(MY_LIBS)/fms"/>
      </component>
      <component name="land_null" paths="land_null" requires="fms">
         <library path="$(MY_LIBS)/land_null/libland_null.a" headerDir="$(MY_LIBS)/land_null"/>
      </component>
      <component name="atmos_null" paths="atmos_null atmos_param" requires="fms">
          <library path="$(MY_LIBS)/atmos_null/libatmos_null.a" headerDir="$(MY_LIBS)/atmos_null"/>
      </component>
      <component paths="ocean_shared" requires="fms" name="ocean_shared">
         <library path="$(MY_LIBS)/ocean_shared/libocean_shared.a" headerDir="$(MY_LIBS)/ocean_shared"/>
      </component> 
      <component paths="icebergs" requires="fms" name="icebergs">
         <library path="$(MY_LIBS)/icebergs/libicebergs.a" headerDir="$(MY_LIBS)/icebergs"/>
      </component> 
      <component paths="sis2" requires="fms icebergs" name="sis2">
         <library path="$(MY_LIBS)/sis2/libsis2.a" headerDir="$(MY_LIBS)/sis2"/>
      </component>
      <component name="mom6_static_90x45" requires="fms ocean_shared" paths="$root/$(LIBS_ROOT)/src/mom6/ice_ocean_SIS2/OM4_025/MOM_memory_90x45.h $root/$(LIBS_ROOT)/src/mom6/src/MOM6/config_src/coupled_driver $root/$(LIBS_ROOT)/src/mom6/src/MOM6/src/*/ $root/$(LIBS_ROOT)/src/mom6/src/MOM6/src/*/*/">
       <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
        <codeBase version="$(RELEASE)"> ocean_null.git </codeBase>
        <csh><![CDATA[
          \rm -rf ocean_null
          echo "No need to checkout any new source code for this component!" 
          /bin/cp  $root/$(LIBS_ROOT)/src/mom6/ice_ocean_SIS2/OM4_025/MOM_memory.h $root/$(LIBS_ROOT)/src/mom6/ice_ocean_SIS2/OM4_025/MOM_memory_90x45.h 
          /bin/sed "s/NIPROC_ 32/NIPROC_ 90/g" -i $root/$(LIBS_ROOT)/src/mom6/ice_ocean_SIS2/OM4_025/MOM_memory_90x45.h 
          /bin/sed "s/NJPROC_ 18/NJPROC_ 45/g" -i $root/$(LIBS_ROOT)/src/mom6/ice_ocean_SIS2/OM4_025/MOM_memory_90x45.h 
        ]]></csh>
         </source>
         <compile>
            <cppDefs><![CDATA[ $(F2003_FLAGS) -D_FILE_VERSION="'"`git-version-string $<`"'"]]></cppDefs>
         </compile>
      </component>

      
      <component name="coupler" paths="coupler" requires="fms land_null atmos_null sis2 mom6_static_90x45 ocean_shared icebergs">
         <description domainName="FMS Coupler" communityName="coupler" communityVersion="$(RELEASE)" communityGrid="NA"/> 
         <source versionControl="git" root="http://gitlab.gfdl.noaa.gov/fms">
            <codeBase version="$(RELEASE)"> coupler.git </codeBase>
         </source>
         <compile>
            <cppDefs><![CDATA[$(F2003_FLAGS) -Duse_AM3_physics -D_FILE_VERSION="'"`git-version-string $<`"'"]]></cppDefs>
         </compile>
      </component>
   </experiment>
    
   <freInclude name="OM4_common">
    <input>
     <csh type="always">
        <![CDATA[
#------------------------------------------
## Find out whether to restart.

if ( $currentSeg == 1 ) then
   set restart_flag = 'n'
else
   set restart_flag = 'r'
endif

ln -s $work/INPUT/ocean_topog.nc $work/INPUT/topog.nc 

touch $work/INPUT/MOM_override
touch $work/INPUT/SIS_override
touch $work/INPUT/MOM_layout
touch $work/INPUT/SIS_layout

# Record the job stdout location for later use timings database
cat >> $HOME/frejobs_stdout <<EOF_frejobs
$stdoutDir/$FRE_JOBID
EOF_frejobs

#Handle hyperthreaded cases
set ocean_nthreads = $ocn_threads
set use_hyper_thread = ".F."
set use_hyper_thread = `awk '/use_hyper_thread/ {gsub(/=/," ");gsub(/,/," ");print $2}' $work/input.nml`

if ( $use_hyper_thread == ".T." || $use_hyper_thread == ".true." ) then
   @ ocean_nthreads *= 2
   alias runCommand /usr/bin/time -p `which aprun` -n $ocn_ranks -j2 -d $ocean_nthreads ./$executable:t
endif

set ocn_hyperthread = $use_hyper_thread


cat > $work/INPUT/MOM_layout << MOM_LAYOUT_EOF
#override IO_LAYOUT = $ocn_io_layout
#override LAYOUT    = $ocn_layout
#override MASKTABLE = $ocn_mask_table
#override OCEAN_OMP_THREADS = $ocean_nthreads
MOM_LAYOUT_EOF

cat > $work/INPUT/SIS_layout << SIS_LAYOUT_EOF
#override IO_LAYOUT = $ice_io_layout
#override LAYOUT    = $ice_layout
#override MASKTABLE = $ice_mask_table
SIS_LAYOUT_EOF

cat > $work/INPUT/SIS_diurnal << SIS_diurnal_EOF
ADD_DIURNAL_SW = True ! This must ONLY be used in the ice-ocean mode if forcing is not diurnal (e.g. CORE), NOT fully coupled mode.
SIS_diurnal_EOF

# Copy AWG and OWG ascii input files to GFDL (waiting for FRE to do this for us)
if ( $?flagOutputXferOn && $?flagOutputPostProcessOn && $currentSeg == 1 ) then
  #gcp --batch does not understand some variations of home filesystem like /autofs/mnt/ncrc-svm1_home1 so we need to massage rtsxml to comply
  set xmldirlocal = `dirname $rtsxml | sed -r "s/^\/(autofs|ncrc)\/.+\/$USER\//\~$USER\//"`
  set xmldirRemote = `echo $xmldirlocal | sed -r "$patternSedHome"`
  set platform_domain = `perl -T -e "use Net::Domain(hostdomain) ; print hostdomain"`
  if ("${platform_domain}" == "ncrc.gov") then
    set xmldirRemote = `echo $xmldirlocal | sed -r "$patternSedHome;$patternSedCTMP;$patternSedCPERM"`
    gcp --batch -cd -r --sync $xmldirlocal/awg_include gfdl:$(NB_ROOT)/mdt_xml/
    gcp --batch -cd -r --sync $xmldirlocal/awg_include gfdl:$xmldirRemote/
  endif
  #trick to copy MOM6 directory but avoid traversing the .datasets links
  tar cvf mom6.tar --exclude='.datasets' -C $(MOM6_EXAMPLES) . > /dev/null
  mkdir mom6
  tar xvf mom6.tar -C ./mom6 > /dev/null
  if ("${platform_domain}" == "ncrc.gov") then
    gcp --batch -cd -r --sync mom6 gfdl:$(NB_ROOT)/
  else if ("${platform_domain}" =~ *"fairmont.rdhpcs.noaa.gov"* ) then
    gcp -cd -r --sync mom6 gfdl:$(NB_ROOT)/
  endif
endif


      ]]></csh>
    </input>
   </freInclude>


   <freInclude name="OM4_grid">
    <input>
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/grid_spec.nc</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/grid_spec.nc</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/grid_spec.nc</dataSource>
        <dataSource site="gfdl">/archive/gold/datasets/OM4_025/mosaic.v20140610.unpacked/grid_spec.nc</dataSource> 
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/atmos_mosaic_tile1Xland_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/atmos_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/land_mask.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/land_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/ocean_hgrid.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/ocean_mask.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/ocean_mosaic.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/ocean_topog.nc</dataSource>
       <!--hsmget cannot get this  <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/topog.nc</dataSource> -->
      </dataFile>
    </input>
   </freInclude>

   <!--OM4 CORE forcing datasets-->
   <freInclude name="CORE_data">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/ncar_precip.clim.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/ncar_rad.clim.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/q_10_mod.clim.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/runoff.daitren.clim.v2011.02.10a.1440x1080.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/slp.clim.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/t_10_mod.clim.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/u_10_mod.clim.nc</dataSource>
      </dataFile>      
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/v_10_mod.clim.nc</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2/INPUT/cfc.bc.nc</dataSource>
      </dataFile>

    </input>
   </freInclude>

   <!--OM4 CORE2 dynamic forcing datasets-->
   <freInclude name="CORE2_data">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/pdata/gfdl_G/CORE/IAF_v2.0/ncar_precip.1948-2007.nomads.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/pdata/gfdl_G/CORE/IAF_v2.0/ncar_rad.1948-2007.nomads.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/pdata/gfdl_G/CORE/IAF_v2.0/q_10_mod.1948-2007.nomads.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/pdata/gfdl_G/CORE/IAF_v2.0/slp.1948-2007.nomads.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/pdata/gfdl_G/CORE/IAF_v2.0/t_10_mod.1948-2007.nomads.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/pdata/gfdl_G/CORE/IAF_v2.0/u_10_mod.1948-2007.nomads.nc</dataSource>
      </dataFile>      
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/pdata/gfdl_G/CORE/IAF_v2.0/v_10_mod.1948-2007.nomads.nc</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2/INPUT/cfc.bc.nc</dataSource>
      </dataFile>

    </input>
   </freInclude>

   <freInclude name="OM4_data">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/MOM_input</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/layer_coord.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/salt_restore.v20140616.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/MOM_saltrestore</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/seawifs_1998-2006_smoothed_2X.v20140616.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/tidal_amplitude.v20140616.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/MOM_channels_global_025</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/vgrid_75_2m.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/vgrid_75_2m_575m.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/hycom1_75.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/hycom1_75_800m.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/analysis_vgrid_lev35.v1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/Faroe_edits.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/Faroe_GS_edits.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/All_edits.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/WOA05_pottemp_salt.nc </dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.33.16x18     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.96.32x18     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.242.32x36     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.274.36x36     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.315.32x45    
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.548.32x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.622.36x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.808.45x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1053.90x45
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1809.90x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1309.90x54     
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.1402.72x72
       $(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/mask_table.3785.90x144
      </dataFile>
      <dataFile label="input" target="INPUT/ocean_static_no_mask_table.nc" chksum="" size="" timestamp="">
          <dataSource site="ncrc">/lustre/f1/pdata/gfdl_O/datasets/OM4_025/mosaic.v20140610.unpacked/ocean_static.nc</dataSource>
      </dataFile>
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
      </dataFile>

     <namelist name="MOM_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_saltrestore','INPUT/MOM_override'
     </namelist>

     <csh type="always"><![CDATA[
if ( $currentSeg == 1 ) then
   set restart_flag = 'n'
else
   set restart_flag = 'r'
endif

ln -s $work/INPUT/ocean_topog.nc $work/INPUT/topog.nc 

touch $work/INPUT/MOM_override
touch $work/INPUT/SIS_override

      ]]></csh>
 
     </input>

   </freInclude>

   <freInclude name="SIS2_data">
    <input>

     <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.SIS</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.SIS</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.SIS</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/diag_table.SIS</dataSource>
     </dataFile>

     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/SIS_input</dataSource>
     </dataFile>

<!-- No init ice yet
     <dataFile label="input" target="INPUT/ice_model.res.nc" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/.datasets/OM4_025/INPUT/ice_model.res.v20140620.nc</dataSource>
     </dataFile>
-->
     <namelist name="SIS_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_diurnal','INPUT/SIS_override'
     </namelist>

     </input>
   </freInclude>

   <freInclude name="OBGC_COBALT_data">
    <input>
       <!-- IC files -->
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_n_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_p_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_i_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_o_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/Alk.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/TCO2.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/init_ocean_cobalt.res.nc" chksum="" size="" timestamp="">
         <dataSource
platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/mom4p1_restart_to_latlon_360x180/ESM2M_pi-control_C2_cobalt_latlon_360x180_15010101_nobounds_mumem_htotalbounds.ocean_cobalt.res.nc</dataSource>
      </dataFile>

       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_horowitz/depflux_total.mean.1990.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/Soluble_Fe_Flux_moxim11_climatology.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/Mineral_Fe_Flux_moxim11_climatology.nc</dataSource>
      </dataFile>

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/diag_table.COBALT_20141212</dataSource>
        <dataSource site="olcf">$(OBGC_MODEL_UPDATES)/diag_table.COBALT_20141212</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/diag_table.COBALT_20141212</dataSource>
      </dataFile>

      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/field_table.COBALT_init_tracers_latlon_dic1990_20151014</dataSource>
        <dataSource site="olcf">$(OBGC_MODEL_UPDATES)/field_table.COBALT_init_tracers_latlon_dic1990_20151014</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/field_table.COBALT_init_tracers_latlon_dic1990_20151014</dataSource>
      </dataFile>

      <!-- grid specific -->
      <dataFile label="input" target="INPUT/news_nutrients_quarterdeg.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/news_nutrients_quarterdeg_20150918_v2.nc</dataSource>
      </dataFile>

      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/data_table.COBALT_20150915</dataSource>
        <dataSource site="olcf">$(OBGC_MODEL_UPDATES)/data_table.COBALT_20150915</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/data_table.COBALT_20150915</dataSource>
      </dataFile>

     </input>

   </freInclude>
   <freInclude name="OBGC_COBALT_data_p5">
    <input>
       <!-- IC files -->
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_n_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_p_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_i_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_o_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/Alk.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/TCO2.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/init_ocean_cobalt.res.nc" chksum="" size="" timestamp="">
         <dataSource
platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/mom4p1_restart_to_latlon_360x180/ESM2M_pi-control_C2_cobalt_latlon_360x180_15010101_nobounds_mumem_htotalbounds.ocean_cobalt.res.nc</dataSource>
      </dataFile>

       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_horowitz/depflux_total.mean.1990.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/Soluble_Fe_Flux_moxim11_climatology.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/Mineral_Fe_Flux_moxim11_climatology.nc</dataSource>
      </dataFile>

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/diag_table.COBALT_20141212</dataSource>
        <dataSource site="olcf">$(OBGC_MODEL_UPDATES)/diag_table.COBALT_20141212</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/diag_table.COBALT_20141212</dataSource>
      </dataFile>

      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/field_table.COBALT_init_tracers_latlon_dic1990_20151014</dataSource>
        <dataSource site="olcf">$(OBGC_MODEL_UPDATES)/field_table.COBALT_init_tracers_latlon_dic1990_20151014</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/field_table.COBALT_init_tracers_latlon_dic1990_20151014</dataSource>
      </dataFile>

      <!-- grid specific -->
      <dataFile label="input" target="INPUT/news_nutrients_halfdeg.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/unswept/Jasmin.John/datasets/ESM4/news_nutrients_halfdeg_20151207.nc</dataSource>
      </dataFile>

      <dataTable>
# jgj 2013/01/23 updated for COBALT
#nnz: chanaged news_nutrients_quarterdeg to news_nutrients_halfdeg
#
"OCN", "runoff_no3_flux_ice_ocn",   "NO3_CONC",   "./INPUT/news_nutrients_halfdeg.nc","none",1.0e-3
"OCN", "runoff_ldon_flux_ice_ocn",  "LDON_CONC",  "./INPUT/news_nutrients_halfdeg.nc","none",1.0e-3
"OCN", "runoff_sldon_flux_ice_ocn", "SLDON_CONC", "./INPUT/news_nutrients_halfdeg.nc","none",1.0e-3
"OCN", "runoff_srdon_flux_ice_ocn", "SRDON_CONC", "./INPUT/news_nutrients_halfdeg.nc","none",1.0e-3
"OCN", "runoff_ndet_flux_ice_ocn",  "NDET_CONC",  "./INPUT/news_nutrients_halfdeg.nc","none",1.0e-3
"OCN", "runoff_po4_flux_ice_ocn",   "PO4_CONC",   "./INPUT/news_nutrients_halfdeg.nc","none",1.0e-3
"OCN", "runoff_ldop_flux_ice_ocn",  "LDOP_CONC",  "./INPUT/news_nutrients_halfdeg.nc","none",1.0e-3
"OCN", "runoff_sldop_flux_ice_ocn", "SLDOP_CONC", "./INPUT/news_nutrients_halfdeg.nc","none",1.0e-3
"OCN", "runoff_srdop_flux_ice_ocn", "SRDOP_CONC", "./INPUT/news_nutrients_halfdeg.nc","none",1.0e-3
"OCN", "runoff_fed_flux_ice_ocn", ""   , ""                             , "none" ,  0.0
"OCN", "runoff_alk_flux_ice_ocn", ""   , ""                             , "none" ,  0.48e-3
"OCN", "runoff_dic_flux_ice_ocn", ""   , ""                             , "none" ,  0.24e-3
"OCN", "runoff_lith_flux_ice_ocn", ""  , ""                             , "none" , 13.0e-3
"OCN", "dry_dep_fed_flux_ice_ocn", "FLUX",         "./INPUT/Soluble_Fe_Flux_moxim11_climatology.nc", "bilinear" , -1.0
"OCN", "dry_dep_lith_flux_ice_ocn", "FLUX",        "./INPUT/Mineral_Fe_Flux_moxim11_climatology.nc", "bilinear" , -1594.0
"OCN", "dry_dep_po4_flux_ice_ocn", "FLUX",         "./INPUT/Mineral_Fe_Flux_moxim11_climatology.nc", "bilinear" , -0.035
"OCN", "wet_dep_no3_flux_ice_ocn",  "NO3_WET_DEP", "./INPUT/depflux_total.mean.1990.nc", "bilinear" , -1.0
"OCN", "dry_dep_no3_flux_ice_ocn",  "NO3_DRY_DEP", "./INPUT/depflux_total.mean.1990.nc", "bilinear" , -1.0
"OCN", "wet_dep_nh4_flux_ice_ocn",  "NH4_WET_DEP", "./INPUT/depflux_total.mean.1990.nc", "bilinear" , -1.0
"OCN", "dry_dep_nh4_flux_ice_ocn",  "NH4_DRY_DEP", "./INPUT/depflux_total.mean.1990.nc", "bilinear" , -1.0
#
"ATM", "o2_flux_pcair_atm", ""         , ""                             , "none" , 0.21
"ATM", "co2_flux_pcair_atm", ""        , ""                             , "none" ,350.0e-6
"ATM", "co2_bot"       , ""        , ""                    , "none"     , 350.0e-6
#
## JGJ: add cfcs later - check scale factor
# "ATM", "cfc_11_flux_pcair_atm","CFC_11","INPUT/cfc.bc.nc","bilinear", 1.0e-12
# "ATM", "cfc_12_flux_pcair_atm","CFC_12","INPUT/cfc.bc.nc","bilinear", 1.0e-12
#      </dataTable>
	
     </input>

   </freInclude>
  
   <!-- OCEAN  and ICE post-processing-->
   <freInclude name="OM4_postprocess">
      <postProcess> 
         <csh><![CDATA[
	 #Take care of iceberg restarts and trajectories
         cd $work/RESTART
         #Treat icebergs restarts and trajectories
         #Find non-empty iceberg restarts and combine them AND then remove uncombined restarts
         #This should be handled properly by FRE
         #ncrcat icebergs.res.nc.* icebergs.res.nc
      ls icebergs.res.nc.*
      if( ! $status ) then
         which ncdump
         if( $status ) then
           echo ncdump not available! We need to stop the run or the model restarts incorrectly!
           exit 1
         endif

         set non_empty_restarts = ""
         foreach file ( `ls icebergs.res.nc.????` )
            if ( `ncdump -h $file | grep UNLIMITED | awk '{gsub(/\(/," ");print $6}'` ) set non_empty_restarts = "$non_empty_restarts $file"
         end
         if( "$non_empty_restarts" != "" ) then
          ncrcat $non_empty_restarts icebergs.res.nc
          if( ! -e icebergs.res.nc ) then
            echo ERROR: ncrcat did not produce icebergs restart file! We need to stop the run or the model restarts incorrectly!
            exit 1
          endif
         endif

         mkdir hide_from_fre
         mv icebergs.res.nc.* hide_from_fre/
         cd $work
         mkdir hide_from_fre
         ncrcat iceberg_trajectories.nc.* iceberg_trajectories.nc
         mv iceberg_trajectories.nc.* hide_from_fre/
      endif

         cd $work
         #Make a directory to trick FRE to pick up and archive in ascii
         mkdir extra.results
         mv *velocity_truncations MOM_parameter_doc* SIS_parameter_doc* seaice.stats* ocean.stats* extra.results/

         #When the ocean uses a mask_table the ocean_static.nc file produced by the model run has holes in coordinates (geolon,geolat)
         #This causes problems for ferret and python tools for analysis.
         #Copy a non-masked version of ocean_static.nc to be saved as a history file to be used by the analysis scipts . 
         cp $work/INPUT/ocean_static_no_mask_table.nc $work/

         ]]></csh>

      <!--REFINE DIAG SCRIP -->
      <!--By default a refineDiag script causes the annual data to be unpacked and saved in /ptmp/$USER-->
      <refineDiag script="$(NB_ROOT)/mom6/tools/analysis/MOM6_refineDiag.csh  $(NB_ROOT)/mdt_xml/awg_include/refineDiag/refineDiag_data_stager_globalAve.csh"/>

      <!--PostProcessing component models-->
      <component type="ocean_5daily"   start="$(PP_START_YEAR)" source="ocean_5daily" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_A)" source="ocean_5daily"/>
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_5daily"/>
      </component>
      <component type="ocean_monthly"   start="$(PP_START_YEAR)" source="ocean_month" sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" source="ocean_month">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_monthly.frepp"/>
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_month">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_monthly.frepp"/>
        </timeSeries>
      </component>
      <component type="ocean_monthly_z"   source="ocean_month_z" sourceGrid="ocean-tripolar">
        <timeAverage source="monthly" interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_annual_z" start="$(PP_START_YEAR)" source="ocean_annual_z"  sourceGrid="ocean-tripolar">
        <timeAverage source="annual" interval="$(CHUNK_LENGTH_A)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual_z.frepp"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(CHUNK_LENGTH_B)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual_z.frepp"/>
        </timeAverage>

        <timeSeries freq="annual"  chunkLength="$(CHUNK_LENGTH_B)" source="ocean_annual_z"/>	
      </component>

      <component type="ocean_annual" start="$(PP_START_YEAR)"  source="ocean_annual"  sourceGrid="ocean-tripolar"> 
        <timeAverage source="annual" interval="$(CHUNK_LENGTH_A)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual.frepp"/>
        </timeAverage>
        <timeAverage source="annual" interval="$(CHUNK_LENGTH_B)">
          <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/$(OM4_ANALYSIS)/ocn_annual.frepp"/>
        </timeAverage>
      </component>

      <!--Ocean scalars-->
      <component type="ocean_scalar_monthly"   source="ocean_scalar_month" sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_scalar_month"/>
        <timeAverage source="monthly" interval="$(CHUNK_LENGTH_A)"/>
        <timeAverage source="monthly" interval="$(CHUNK_LENGTH_B)"/>
      </component>
      
      <component type="ocean_scalar_annual"    source="ocean_scalar_annual" sourceGrid="ocean-tripolar">
        <timeSeries freq="annual"   chunkLength="$(CHUNK_LENGTH_B)" source="ocean_scalar_annual"/>
        <timeAverage source="annual" interval="$(CHUNK_LENGTH_A)"/>
        <timeAverage source="annual" interval="$(CHUNK_LENGTH_B)"/>
      </component>

      <!--Ocean regions-->
      <component type="ocean_Barents_opening" source="ocean_Barents_opening" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Barents_opening"/>
      </component>
      <component type="ocean_Bering_Strait" source="ocean_Bering_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Bering_Strait"/>
      </component>
      <component type="ocean_Davis_Strait" source="ocean_Davis_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Davis_Strait"/>
      </component>
      <component type="ocean_Windward_Passage" source="ocean_Windward_Passage" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Windward_Passage"/>
      </component>
      <component type="ocean_Denmark_Strait" source="ocean_Denmark_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Denmark_Strait"/>
      </component>
      <component type="ocean_Drake_Passage" source="ocean_Drake_Passage" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Drake_Passage"/>
      </component>
      <component type="ocean_English_Channel" source="ocean_English_Channel" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_English_Channel"/>
      </component>
      <component type="ocean_Faroe_Scotland" source="ocean_Faroe_Scotland" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Faroe_Scotland"/>
      </component>
      <component type="ocean_Florida_Bahamas" source="ocean_Florida_Bahamas" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Florida_Bahamas"/>
      </component>
      <component type="ocean_Fram_Strait" source="ocean_Fram_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Fram_Strait"/>
      </component>
      <component type="ocean_Iceland_Faroe_V" source="ocean_Iceland_Faroe_V" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Iceland_Faroe_V"/>
      </component>
      <component type="ocean_Iceland_Faroe_U" source="ocean_Iceland_Faroe_U" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Iceland_Faroe_U"/>
      </component>
      <component type="ocean_Indonesian_Throughflow" source="ocean_Indonesian_Throughflow" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Indonesian_Throughflow"/>
      </component>
      <component type="ocean_Mozambique_Channel" source="ocean_Mozambique_Channel" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Mozambique_Channel"/>
      </component>
      <component type="ocean_Pacific_undercurrent" source="ocean_Pacific_undercurrent" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Pacific_undercurrent"/>
      </component>
      <component type="ocean_Taiwan_Luzon" source="ocean_Taiwan_Luzon" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Taiwan_Luzon"/>
      </component>
      <component type="ocean_Agulhas_section" source="ocean_Agulhas_section" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Agulhas_section"/>
      </component>
      <component type="ocean_Gibraltar_Strait" source="ocean_Gibraltar_Strait" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Gibraltar_Strait"/>
      </component>
      <component type="ocean_Iceland_Norway" source="ocean_Iceland_Norway" sourceGrid="ocean-tripolar">
        <timeSeries freq="120hr" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_Iceland_Norway"/>
      </component>

      <!--ICE-->      
      <component type="ice"  start="$(PP_START_YEAR)"  source="ice_month"  sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)"  source="ice_month">
	   <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/tools/analysis/Krasting-SeaIce.csh"/>
	</timeSeries>   
        <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_B)"  source="ice_month">
           <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/tools/analysis/Krasting-SeaIce.csh"/>
        </timeSeries>
        <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)">
          <!-- MDBI, this will trigger "fredb" to log the experiment to database if MDBIswitch is on -->
          <analysis switch="$(MDBIswitch)" cumulative="no" script="$FRE_CURATOR_HOME/share/bin/database_ingestor.csh"/>

        </timeAverage>
	  
        <timeAverage source="annual"  interval="$(CHUNK_LENGTH_B)"/>
      </component>

     </postProcess>
   </freInclude>

   <freInclude name="OM4i_postprocess">

      <postProcess> 
         <csh><![CDATA[
	 #Do not recombine restarts between the runs. fre/bronx-11 takes care of restart combine for regression tests.

         cd $work
         #Make a directory to trick FRE to pick up and archive in ascii
         mkdir extra.results
         mv *velocity_truncations MOM_parameter_doc* SIS_parameter_doc* seaice.stats* ocean.stats* extra.results/
         ]]></csh>

      <!--REFINE DIAG SCRIP -->
      <!--By default a refineDiag script causes the annual data to be unpacked and saved in /ptmp/$USER-->
      <refineDiag script="$(NB_ROOT)/mom6/tools/analysis/MOM6_refineDiag.csh  $(NB_ROOT)/mdt_xml/awg_include/refineDiag/refineDiag_data_stager_globalAve.csh"/>

      <component type="ocean_monthly"   start="$(PP_START_YEAR)" source="ocean_month" sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" source="ocean_month">
        </timeSeries>
        <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_B)" source="ocean_month">
        </timeSeries>
      </component>
      <component type="ocean_monthly_z"   source="ocean_month_z" sourceGrid="ocean-tripolar">
        <timeAverage source="monthly" interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_annual" start="$(PP_START_YEAR)"  source="ocean_annual"  sourceGrid="ocean-tripolar"> 
        <timeAverage source="annual" interval="$(CHUNK_LENGTH_A)"/>
        <timeAverage source="annual" interval="$(CHUNK_LENGTH_B)"/>
      </component>
      <component type="ice"  start="$(PP_START_YEAR)"  source="ice_month"  sourceGrid="ocean-tripolar">
        <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)"  source="ice_month">
	   <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/tools/analysis/Krasting-SeaIce.csh"/>
	</timeSeries>   
        <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_B)"  source="ice_month">
           <analysis switch="$(ANALYSIS_SWITCH)" cumulative="no" script="$(NB_ROOT)/mom6/tools/analysis/Krasting-SeaIce.csh"/>
        </timeSeries>
        <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
        <timeAverage source="annual"  interval="$(CHUNK_LENGTH_B)"/>
      </component>

     </postProcess>

   </freInclude>

   <!--****************************************************************************************-->
   <!--***************************** 1/4 degree experiments        ****************************-->
   <!--****************************************************************************************-->
											      
   <experiment name="OM4_SIS2_baseline_config" inherit="MOM6_SIS2_compile$(STATIC)">
    <publicMetadata DBswitch="on">
      <project>"$(ProjectID)"</project>
      <model>"OM4_SIS2 $(FRE_STEM)"</model>
      <modelID>"OM4_SIS2 $(FRE_STEM)"</modelID>
      <experimentName>"$(name)"</experimentName>
      <experimentID>"$(name)" </experimentID>
      <comment>
       Experiment name = $(name)
    For more information please refer to the
    &lt;a href="http://wiki.gfdl.noaa.gov/index.php/MOM6"&gt; MOM6 Wiki.  &lt;/a&gt;
      </comment>
    </publicMetadata>
    <description>
    </description>


    <runtime>   
      <production simTime="$(PROD_SIMTIME)" units="years">
          <segment simTime="12" units="months"/>
          <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1756_production']/node())"/>
      </production>
      <regression name="basic">
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1756']/node())"/> </run>
      </regression>
      <regression name="rts">
        <run days="15 16" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1756']/node())"/> </run>
         <!--the following should reproduce eachother but not the basic because basic uses mask_table-->
         <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O2304']/node())"/> </run>
         <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1152']/node())"/> </run>
         <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512x2']/node())"/> </run>
      </regression>
      <regression name="debugomp">
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512x2']/node())"/> </run>
      </regression>
 
      <regression name="basic2">
        <run months="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1756']/node())"/> </run>
      </regression>

      <regression name="debug">
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
        <run days="1 1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
      </regression>

      <regression name="timings">
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O480']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O910']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1125']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1756']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O2432']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1756']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O2997']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O3782']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O4671']/node())"/> </run>
      </regression>

      <reference restart="$(REFERENCE)/archive/1x1m0d_1756x1o/restart/19000201.tar"/>

    </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_postprocess']/postProcess/node())"/>
    </postProcess>

   </experiment>

   <experiment name="OM4_SIS2_baseline.$(MOM6_DATE)" inherit="OM4_SIS2_baseline"/>
   <experiment name="OM4_SIS2_baseline$(STATIC)" inherit="OM4_SIS2_baseline_config">
     <input>

      <xi:include xpointer="xpointer(//freInclude[@name='OM4_common']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_data']/input/node())"/>
      <!--SIS2 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>
      <!--OM4 gridSpec mosaic datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_grid']/input/node())"/>
      <!--CORE forcing datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='CORE_data']/input/node())"/>

      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/data_table</dataSource>
      </dataFile>
     
     <dataFile label="namelist" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
     </dataFile>
     <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/field_table</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/field_table</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/field_table</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/field_table</dataSource>
     </dataFile>
      
      <diagTable>
$name
$baseDate
      </diagTable>

      <namelist name="coupler_nml">
       months = $months,
       days   = $days,
       current_date = 1900,1,1,0,0,0,
       hours = 0
       minutes = 0
       seconds = 0
       calendar = 'NOLEAP',
       dt_cpld  = 1800,
       dt_atmos = 1800,
       do_atmos = .false.,
       do_land = .false.,
       do_ice = .true.,
       do_ocean = .true.,
       atmos_npes = 0,
       ocean_npes = 0,
       concurrent = .false.
       use_lag_fluxes=.false. 
     </namelist>


    <namelist name="fms_nml">
            clock_grain='ROUTINE'
            clock_flags='NONE'
            domains_stack_size = 8000000
            stack_size =0
      </namelist>
     <namelist name="fms_io_nml" >
         fms_netcdf_restart=.true.
         threading_read='multi'
         max_files_r = 200
         max_files_w = 200
!         checksum_required = .false. ! This is needed to be able to restart the Ice under GNU. ref. Redmine issue 2000
     </namelist>
     <namelist name="diag_manager_nml">
       max_axes = 150,
       max_files = 100,
       max_num_axis_sets = 100,
       max_input_fields = 699
       max_output_fields = 699
       mix_snapshot_average_fields=.false.
     </namelist>
     <!--verona-->
     <namelist name="sat_vapor_pres_nml">
      construct_table_wrt_liq = .true.,
      construct_table_wrt_liq_and_ice = .true.,
     </namelist>

   </input>
   </experiment>


   <experiment name="OM4_SIS2_CORE2_IAF_baseline" inherit="OM4_SIS2_baseline_config">
    <publicMetadata DBswitch="on">
      <project>"$(ProjectID)"</project>
      <model>"OM4_SIS2 $(FRE_STEM)"</model>
      <modelID>"OM4_SIS2 $(FRE_STEM)"</modelID>
      <experimentName>"$(name)"</experimentName>
      <experimentID>"$(name)" </experimentID>
      <comment>
       Experiment name = $(name)
    For more information please refer to the
    &lt;a href="http://wiki.gfdl.noaa.gov/index.php/MOM6"&gt; MOM6 Wiki.  &lt;/a&gt;
      </comment>
    </publicMetadata>
    <description>
global 1/4 degree z test case
based off of the OM4_SIS2_baseline experiment
regridded runoff and salinity
CORE2 dynamic forcing data
    </description>  
     <input>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_common']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_data']/input/node())"/>
      <!--SIS2 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>
      <!--OM4 gridSpec mosaic datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_grid']/input/node())"/>
      <!--CORE forcing datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='CORE2_data']/input/node())"/>

      <!--Resolution dependent datasets moved here from CORE2_data to make it reusable for both 1/2 and 1/4 degree runs-->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/unswept/Amy.Langenhorst/CORE/IAF_v2.0/runoff.daitren.iaf.1948-2007.regridded.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">/lustre/f1/unswept/Amy.Langenhorst/CORE/IAF_v2.0/PHC2_salx.2015_06_15.nc</dataSource>
      </dataFile>
<!--
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">/lustre/f1/unswept/Amy.Langenhorst/CORE/IAF_v2.0/MOM_saltrestore</dataSource>
      </dataFile>
-->
      <dataTable>
"ATM" , "p_surf"        , "SLP"         , "./INPUT/slp.1948-2007.nomads.nc"          , "bilinear" ,  1.0
"ATM" , "p_bot"         , "SLP"         , "./INPUT/slp.1948-2007.nomads.nc"          , "bilinear" ,  1.0
"ATM" , "t_bot"         , "T_10_MOD"    , "./INPUT/t_10_mod.1948-2007.nomads.nc"     , "bilinear" ,  1.0
"ATM" , "sphum_bot"     , "Q_10_MOD"    , "./INPUT/q_10_mod.1948-2007.nomads.nc"     , "bilinear" ,  1.0
"ATM" , "u_bot"         , "U_10_MOD"    , "./INPUT/u_10_mod.1948-2007.nomads.nc"     , "bicubic",   1.0
"ATM" , "v_bot"         , "V_10_MOD"    , "./INPUT/v_10_mod.1948-2007.nomads.nc"     , "bicubic",   1.0
"ATM" , "z_bot"         , ""            , ""                                         , "bilinear" , 10.0
"ATM" , "gust"          , ""            , ""                                         , "bilinear" ,  1.0e-4
"ICE" , "lw_flux_dn"    , "LWDN_MOD"    , "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  1.0
"ICE" , "sw_flux_vis_dir_dn", "SWDN_MOD", "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  0.285
"ICE" , "sw_flux_vis_dif_dn", "SWDN_MOD", "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  0.285
"ICE" , "sw_flux_nir_dir_dn", "SWDN_MOD", "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  0.215
"ICE" , "sw_flux_nir_dif_dn", "SWDN_MOD", "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  0.215
"ICE" , "lprec"         , "RAIN"        , "./INPUT/ncar_precip.1948-2007.nomads.nc"  , "bilinear" ,  0.9933
"ICE" , "fprec"         , "SNOW"        , "./INPUT/ncar_precip.1948-2007.nomads.nc"  , "bilinear" ,  0.9933
"ICE" , "runoff"        , "runoff"      , "./INPUT/runoff.daitren.iaf.1948-2007.regridded.nc", "none" ,  1.0
"ICE" , "calving"       , ""            , ""                             , "none"  ,  0.0
"ICE" , "dhdt"          , ""            , ""                             , "none"  , 80.0
"ICE" , "dedt"          , ""            , ""                             , "none"  ,  2.0e-6
"ICE" , "drdt"          , ""            , ""                             , "none"  ,  10.0
"LND" , "t_surf"        , ""            , ""                             , "none"  ,  273.0
"LND" , "t_ca"          , ""            , ""                             , "none"  ,  273.0
"LND" , "q_ca"          , ""            , ""                             , "none"  ,  0.0
"LND" , "rough_mom"     , ""            , ""                             , "none"  ,  0.01
"LND" , "rough_heat"    , ""            , ""                             , "none"  ,  0.1
"LND" , "albedo"        , ""            , ""                             , "none"  ,  0.1
#"LND" , "t_ca"         , ""            , ""                             , "none"  ,  273.0
#"LND" , "t_surf"       , ""            , ""                             , "none"  ,  273.0
"LND" , "sphum_surf"    , ""            , ""                             , "none"  ,  0.0
"LND" , "sphum_ca"      , ""            , ""                             , "none"  ,  0.0
"LND" , "t_flux"        , ""            , ""                             , "none"  ,  0.0
"LND" , "sphum_flux"    , ""            , ""                             , "none"  ,  0.0
"LND" , "lw_flux"       , ""            , ""                             , "none"  ,  0.0
"LND" , "sw_flux"       , ""            , ""                             , "none"  ,  0.0
"LND" , "lprec"         , ""            , ""                             , "none"  ,  0.0
"LND" , "fprec"         , ""            , ""                             , "none"  ,  0.0
"LND" , "dhdt"          , ""            , ""                             , "none"  ,  5.0
"LND" , "dedt"          , ""            , ""                             , "none"  ,  2e-6
"LND" , "dedq"          , ""            , ""                             , "none"  ,  0.0
"LND" , "drdt"          , ""            , ""                             , "none"  ,  5.0
"LND" , "drag_q"        , ""            , ""                             , "none"  ,  0.0
"LND" , "p_surf"        , ""            , ""                             , "none"  ,  1.e5
      </dataTable>
<!--This initCond is not compatible with SIS2 and causes a crash with
FATAL from PE    46: NETCDF ERROR: NetCDF: Index exceeds dimension bound File=INPUT//ice_model.res.nc.0000 Field=flux_u

     <dataFile label="initCond" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">/lustre/f1/unswept/Amy.Langenhorst/CORE/IAF_v2.0/20080101.ice_model.res.tar</dataSource>
        <dataSource site="gfdl">/archive/arl/CORE/IAF_v2.0/20080101.ice_model.res.tar</dataSource>
     </dataFile>
-->
     <dataFile label="namelist" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
     </dataFile>
     <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/field_table</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/field_table</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/field_table</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/field_table</dataSource>
     </dataFile>

      <diagTable>
$name
$baseDate
      </diagTable>

      <namelist name="coupler_nml">
       months = $months,
       days   = $days,
       current_date = 1948,1,1,0,0,0,
       hours = 0
       minutes = 0
       seconds = 0
       calendar = 'NOLEAP',
       dt_cpld  = 3600,
       dt_atmos = 3600,
       do_atmos = .false.,
       do_land = .false.,
       do_ice = .true.,
       do_ocean = .true.,
       atmos_npes = 0,
       ocean_npes = 0,
       concurrent = .false.
       use_lag_fluxes=.false. 
     </namelist>
     <namelist name="fms_nml">
       clock_grain='ROUTINE'
       clock_flags='NONE'
       domains_stack_size = 8000000
       stack_size =0
     </namelist>
     <namelist name="fms_io_nml" >
       fms_netcdf_restart=.true.
       threading_read='multi'
       max_files_r = 200
       max_files_w = 200
!       checksum_required = .false. ! This is needed to be able to restart the Ice under GNU. ref. Redmine issue 2000
     </namelist>
     <namelist name="diag_manager_nml">
       max_axes = 150,
       max_files = 100,
       max_num_axis_sets = 100,
       max_input_fields = 699
       max_output_fields = 699
       mix_snapshot_average_fields=.false.
     </namelist>
     <namelist name="xgrid_nml">
       make_exchange_reproduce = .false.
       interp_method = 'second_order'
     </namelist>
     <!--verona-->
     <namelist name="sat_vapor_pres_nml">
      construct_table_wrt_liq = .true.,
      construct_table_wrt_liq_and_ice = .true.,
     </namelist>

      <csh><![CDATA[
cat > $work/INPUT/MOM_override << OVERRIDE_EOF
#override SALT_RESTORE_FILE = "PHC2_salx.2015_06_15.nc"
OVERRIDE_EOF
     ]]></csh>

   </input>
    <runtime>
      <reference restart="$(REFERENCE)/archive/1x1m0d_1756x1o/restart/19480201.tar"/>
    </runtime>
   </experiment>

   <!--****************************************************************************************-->
   <!--***************************** 1 degree experiments        ****************************-->
   <!--****************************************************************************************-->


   <experiment name="MOM6_GOLD_SIS2_bergs" inherit="MOM6_SIS2_compile">
     <input>                                                 
     <dataFile label="namelist" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/input.nml</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/input.nml</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/input.nml</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/SIS2_icebergs/input.nml</dataSource>
    </dataFile>                                                                                   
     <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">                   
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/diag_table</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/diag_table</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/diag_table</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/SIS2_icebergs/diag_table</dataSource>
     </dataFile>                                                                                    
     <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">                   
        <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/field_table</dataSource>
     </dataFile>                                                                                     
     <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">                     
        <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/data_table</dataSource> 
     </dataFile>                                                                                     
     <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">                         
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/MOM_input</dataSource> 
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/SIS_input</dataSource> 
     </dataFile>      
                                                                             
      <!--gridSpec mosaic datasets-->
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/grid_spec.nc</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/grid_spec.nc</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/grid_spec.nc</dataSource>
        <dataSource site="gfdl">/archive/gold/datasets/GOLD_SIS/riga/mosaic.unpacked/grid_spec.nc</dataSource> 
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/mosaic.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/atmos_hgrid.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/atmos_mosaic.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/atmos_mosaic_tile1Xland_mosaic_tile1.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/atmos_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/land_hgrid.nc</dataSource>                           
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/land_mask.nc</dataSource>                            
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/land_mosaic.nc</dataSource>                          
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/land_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource> 
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/ocean_hgrid.nc</dataSource>                          
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/ocean_mask.nc</dataSource>                           
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/ocean_mosaic.nc</dataSource>                         
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/ocean_vgrid.nc</dataSource>                          
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/README</dataSource>                                  
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/topog.nc</dataSource>                                
      </dataFile>                                                                                                                        

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/cfc.bc.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/geothermal_heating_cm2g.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/gustiness_qscat.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/OM3_zgrid.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/seawifs_1998-2006_GOLD_smoothed_2X.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/sgs_h2.nc</dataSource>                            
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/tideamp.nc</dataSource>                           
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/tke_tidal_cm2p2.nc</dataSource>                   
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/analysis_vgrid_lev35.v1.nc</dataSource>
      </dataFile>                                                                                                                     

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/ncar_precip_clim.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/ncar_rad_clim.nc</dataSource>   
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/q_10_mod.clim.nc</dataSource>   
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/runoff.nc</dataSource>          
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/salt_restore.nc</dataSource>    
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/slp.clim.nc</dataSource>        
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/sst_ice_clim.nc</dataSource>    
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/t_10_mod.clim.nc</dataSource>   
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/u_10_mod.clim.nc</dataSource>   
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/v_10_mod.clim.nc</dataSource>   
      </dataFile>                                                                                                   

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/GOLD_IC.2010.11.15.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/ocmip2_cfc.res.nc</dataSource>
      </dataFile>                                                                                              

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/31Layer_zgrid.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/example_calving.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/temp_restore.nc</dataSource>
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/SIS2_icebergs/INPUT/GOLD_SIS_IC.nc</dataSource>
      </dataFile>

      <namelist name="coupler_nml">
       months = $months,           
       days   = $days,             
       current_date = 1,1,1,0,0,0,
       hours = 0                     
       minutes = 0                   
       seconds = 0                   
       calendar = 'NOLEAP',          
       dt_cpld  = 7200,              
       dt_atmos = 7200,              
       do_atmos = .false.,           
       do_land = .false.,            
       do_ice = .true.,              
       do_ocean = .true.,            
       atmos_npes = 0,            
       ocean_npes = 0,               
       concurrent = .false.          
       use_lag_fluxes=.true.         
     </namelist>                     

     <namelist name="MOM_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_override'  
     </namelist>

     <namelist name="SIS_input_nml" >
        output_directory = './',
        input_filename = '$restart_flag'
        restart_input_dir = 'INPUT/',
        restart_output_dir = 'RESTART/',
        parameter_filename = 'INPUT/SIS_input','INPUT/SIS_layout','INPUT/SIS_diurnal','INPUT/SIS_override' 
     </namelist>

     <namelist name="fms_io_nml" >
         fms_netcdf_restart=.true.
         threading_read='multi'
!         checksum_required = .false. ! This is needed to be able to restart the Ice under GNU. ref. Redmine issue 2000
     </namelist>
 
     <namelist name="icebergs_nml">
    verbose=.false.,
    verbose_hrs=24,
    traj_sample_hrs=24,
    debug=.false.,
    really_debug=.false.,
    use_slow_find=.true.,
    add_weight_to_ocean=.true.,
    passive_mode=.false.,
    generate_test_icebergs=.false.,
    speed_limit=0.,
    use_roundoff_fix=.true.,
    make_calving_reproduce=.true.,
force_all_pes_traj = .true.
     </namelist>

     <!--verona-->
     <namelist name="sat_vapor_pres_nml">
      construct_table_wrt_liq = .true.,
      construct_table_wrt_liq_and_ice = .true.,
     </namelist>

      <xi:include xpointer="xpointer(//freInclude[@name='OM4_common']/input/node())"/>


   </input>
   <runtime>
      <regression name="basic">
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128']/node())"/> </run>
      </regression>
      <regression name="rts">
        <run days="15 16" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O64']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O32']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O32x2']/node())"/> </run>
      </regression>

      <regression name="debugomp">
        <run days="2" >   <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O32x2']/node())"/> </run>
      </regression>

      <regression name="debug">
        <run days="2" >   <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128']/node())"/> </run>
        <run days="1 1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128']/node())"/> </run>
      </regression>


       <reference restart="$(REFERENCE)/archive/1x1m0d_128x1o/restart/00010201.tar"/>
   </runtime>
    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4i_postprocess']/postProcess/node())"/>
    </postProcess>
   </experiment>

   <experiment name="MOM6_GOLD_SIS2_nobergs" inherit="MOM6_GOLD_SIS2_bergs">
    <input>
     <csh><![CDATA[
cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override DO_ICEBERGS = False
SIS_OVERRIDE_EOF
     ]]></csh>
    </input>
   </experiment>

   <experiment name="MOM6_GOLD_SIS2_bergs_ens2" inherit="MOM6_GOLD_SIS2_bergs">
    <input>
      <namelist name="ensemble_nml">
        ensemble_size=2
     </namelist>

    </input>
   </experiment>
   <experiment name="MOM6_GOLD_SIS2_nobergs_ens2" inherit="MOM6_GOLD_SIS2_bergs">
    <input>
      <namelist name="ensemble_nml">
        ensemble_size=2
     </namelist>
     <csh><![CDATA[
cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override DO_ICEBERGS = False
SIS_OVERRIDE_EOF
     ]]></csh>
    </input>
   </experiment>
   <experiment name="MOM6_GOLD_SIS2_generics_ens2" inherit="MOM6_GOLD_SIS2_generics">
    <input>
      <namelist name="ensemble_nml">
        ensemble_size=2
     </namelist>
    </input>
   </experiment>

   <experiment name="MOM6_GOLD_SIS2_generics" inherit="MOM6_GOLD_SIS2_bergs">
    <input>
      <namelist name="coupler_nml">
       months = $months,
       days   = $days,
       current_date = 1970,1,1,0,0,0,
       hours = 0
       minutes = 0
       seconds = 0
       calendar = 'NOLEAP',
       dt_cpld  = 7200,
       dt_atmos = 7200,
       do_atmos = .false.,
       do_land = .false.,
       do_ice = .true.,
       do_ocean = .true.,
       atmos_npes = 0,
       ocean_npes = 0,
       concurrent = .false.
       use_lag_fluxes=.true.
     </namelist>
         <namelist name="generic_tracer_nml">
       do_generic_tracer=.true.
       do_generic_CFC=.true.
       do_generic_SF6=.true.
       do_generic_age=.true.
       do_generic_argon=.true.
       do_generic_COBALT=.false.
       do_generic_TOPAZ=.false.
         </namelist>

<!--Once we have the surface forcing file we can use it this way	 
      <dataTable order="append">
"ATM", "sf6_flux_pcair_atm","SF6","INPUT/sf6.bc.nc",.false., 1.0
	</dataTable>
-->

      <fieldTable order="append">
"namelists","ocean_mod","generic_age/*global*"
/

      </fieldTable>

      <diagTable order="append">
#================
# Additional DIAGNOSTICS
#================
#
#==================
# GENERIC TRACERS
#==================
#
## tracer quantities
"generic_tracers",          1,  "days", 1, "days", "time",
"generic_cfc","cfc_11",     "cfc_11",     "generic_tracers","all",.true.,"none",2
"generic_cfc","cfc_12",     "cfc_12",     "generic_tracers","all",.true.,"none",2
"generic_cfc","cfc_11_stf", "cfc_11_stf", "generic_tracers","all",.true.,"none",2
"generic_cfc","cfc_12_stf", "cfc_12_stf", "generic_tracers","all",.true.,"none",2
"generic_cfc","cfc_11_stf_gas", "cfc_11_stf_gas", "generic_tracers","all",.true.,"none",2
"generic_cfc","cfc_12_stf_gas", "cfc_12_stf_gas", "generic_tracers","all",.true.,"none",2
"generic_sf6","sf6",        "sf6",        "generic_tracers","all",.true.,"none",2
"generic_sf6","sf6_stf",    "sf6_stf",    "generic_tracers","all",.true.,"none",2
"generic_age","age",        "age",        "generic_tracers","all",.true.,"none",2
"generic_age","age_stf",    "age_stf",    "generic_tracers","all",.true.,"none",2
"generic_argon","argon",    "argon",        "generic_tracers","all",.true.,"none",2
"generic_argon","argon_stf","argon_stf",    "generic_tracers","all",.true.,"none",2
#
"ocean_model","temp","temp","generic_tracers","all",.true.,"none",2
"ocean_model","salt","salt","generic_tracers","all",.true.,"none",2

#
"generic_tracers_z",          1,  "days", 1, "days", "time",
"generic_cfc_z","cfc_11",     "cfc_11",     "generic_tracers_z","all",.true.,"none",2
"generic_cfc_z","cfc_12",     "cfc_12",     "generic_tracers_z","all",.true.,"none",2
"generic_cfc_z","cfc_11_stf", "cfc_11_stf", "generic_tracers_z","all",.true.,"none",2
"generic_cfc_z","cfc_12_stf", "cfc_12_stf", "generic_tracers_z","all",.true.,"none",2
"generic_sf6_z","sf6",        "sf6",        "generic_tracers_z","all",.true.,"none",2
"generic_sf6_z","sf6_stf",    "sf6_stf",    "generic_tracers_z","all",.true.,"none",2
"generic_age_z","age",        "age",        "generic_tracers_z","all",.true.,"none",2
"generic_age_z","age_stf",    "age_stf",    "generic_tracers_z","all",.true.,"none",2
"generic_argon_z","argon",    "argon",      "generic_tracers_z","all",.true.,"none",2
"generic_argon_z","argon_stf","argon_stf",  "generic_tracers_z","all",.true.,"none",2
#
"ocean_model_z","temp","temp","generic_tracers_z","all",.true.,"none",2
"ocean_model_z","salt","salt","generic_tracers_z","all",.true.,"none",2

      </diagTable>

     <csh>
        <![CDATA[
cat > $work/INPUT/MOM_override << OVERRIDE_EOF
#override USE_OCMIP2_CFC = False
#override USE_IDEAL_AGE_TRACER = False
USE_generic_tracer = True
GENERIC_TRACER_IC_FILE = "_NULL_"
OVERRIDE_EOF

#Add null CFC's to a restart file
cd $work/INPUT
#ncap -O --script 'cfc_11 = ptemp * 0.0 ; cfc_12 = ptemp * 0.0 ; sf6 = ptemp * 0.0 ; age  = ptemp * 0.0 ; argon = ptemp * 0.0 ' GOLD_IC.2010.11.15.nc MOM_GENERICS.res.nc
#CFC is constant_init_tracer so the ice fluxes are not needed.
\rm ice_ocmip2_cfc.res.nc

     ]]></csh>

   </input>

   </experiment>

   <!--****************************************************************************************-->
   <!--***************************** 1/3 degree experiments        ****************************-->
   <!--****************************************************************************************-->
											      
   <freInclude name="OM4_033grid_data">
    <input>
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/grid_spec.nc</dataSource>
        <dataSource site="theia">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/grid_spec.nc</dataSource>
        <dataSource site="olcf">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/grid_spec.nc</dataSource>
        <dataSource site="gfdl">/archive/jpd/OM4/OM4_033/MOM6-examples/ice_ocean_SIS2/OM4_033/preprocessing/mosaic_ocean.1080x768/grid_spec.nc</dataSource> 
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/atmos_mosaic_tile1Xland_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/atmos_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/land_mask.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/land_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/ocean_hgrid.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/ocean_mask.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/ocean_mosaic.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/mosaic_ocean.1080x768/ocean_topog.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/seawifs_1998-2006_smoothed_2X.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/tidal_amplitude.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/WOA05_ptemp_salt_annual.nc </dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(OM4_033_ARCHIVE)/salt_restore.nc </dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/MOM_input</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/MOM_saltrestore</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/layer_coord.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/MOM_channels_global_025</dataSource>
      </dataFile>      
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/vgrid_75_2m.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/vgrid_75_2m_575m.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/analysis_vgrid_lev35.v1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/Faroe_edits.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/Faroe_GS_edits.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/hycom1_75.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/hycom1_75_800m.nc</dataSource>
      </dataFile>

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
      </dataFile>

     <namelist name="MOM_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_saltrestore','INPUT/MOM_override'
     </namelist>

     <csh type="always"><![CDATA[
if ( $currentSeg == 1 ) then
   set restart_flag = 'n'
else
   set restart_flag = 'r'
endif

ln -s $work/INPUT/ocean_topog.nc $work/INPUT/topog.nc 

touch $work/INPUT/MOM_override
touch $work/INPUT/SIS_override

      ]]></csh>
     </input>
   </freInclude>

   <experiment name="OM4_SIS2_033_baseline.$(MOM6_DATE)" inherit="OM4_SIS2_033_baseline"/>
   <experiment name="OM4_SIS2_033_baseline$(STATIC)" inherit="MOM6_SIS2_compile$(STATIC)">


    <input>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_common']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_033grid_data']/input/node())"/>
      <!--SIS2 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>
      <!--CORE forcing datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='CORE_data']/input/node())"/>
<!--Older runoff
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/runoff.nc</dataSource>
      </dataFile>
-->
      <!--The following is the same as OM4_025 dataTable except that the runoff is not on-grid-->
      <dataTable>
"ATM" , "p_surf"        , "SLP"         , "./INPUT/slp.clim.nc"          , "bilinear" ,  1.0
"ATM" , "p_bot"         , "SLP"         , "./INPUT/slp.clim.nc"          , "bilinear" ,  1.0
"ATM" , "t_bot"         , "T_10_MOD"    , "./INPUT/t_10_mod.clim.nc"     , "bilinear" ,  1.0
"ATM" , "sphum_bot"     , "Q_10_MOD"    , "./INPUT/q_10_mod.clim.nc"     , "bilinear" ,  1.0
"ATM" , "u_bot"         , "U_10_MOD"    , "./INPUT/u_10_mod.clim.nc"     , "bicubic",   1.0
"ATM" , "v_bot"         , "V_10_MOD"    , "./INPUT/v_10_mod.clim.nc"     , "bicubic",   1.0
"ATM" , "z_bot"         , ""            , ""                             , "bilinear" , 10.0
"ATM" , "gust"          , ""            , ""                             , "bilinear" ,  1.0e-4
"ICE" , "lw_flux_dn"    , "LWDN_MOD"    , "./INPUT/ncar_rad.clim.nc"     , "bilinear" ,  1.0
"ICE" , "sw_flux_vis_dir_dn", "SWDN_MOD", "./INPUT/ncar_rad.clim.nc"     , "bilinear" ,  0.285
"ICE" , "sw_flux_vis_dif_dn", "SWDN_MOD", "./INPUT/ncar_rad.clim.nc"     , "bilinear" ,  0.285
"ICE" , "sw_flux_nir_dir_dn", "SWDN_MOD", "./INPUT/ncar_rad.clim.nc"     , "bilinear" ,  0.215
"ICE" , "sw_flux_nir_dif_dn", "SWDN_MOD", "./INPUT/ncar_rad.clim.nc"     , "bilinear" ,  0.215
"ICE" , "lprec"         , "RAIN"        , "./INPUT/ncar_precip.clim.nc"  , "bilinear" ,  0.9933
"ICE" , "fprec"         , "SNOW"        , "./INPUT/ncar_precip.clim.nc"  , "bilinear" ,  0.9933
"ICE" , "runoff"        , "runoff"      , "./INPUT/runoff.daitren.clim.v2011.02.10a.1440x1080.nc", "bilinear" ,  1.0
"ICE" , "calving"       , ""            , ""                             , "none"  ,  0.0
"ICE" , "dhdt"          , ""            , ""                             , "none"  , 80.0
"ICE" , "dedt"          , ""            , ""                             , "none"  ,  2.0e-6
"ICE" , "drdt"          , ""            , ""                             , "none"  ,  10.0
"LND" , "t_surf"        , ""            , ""                             , "none"  ,  273.0
"LND" , "t_ca"          , ""            , ""                             , "none"  ,  273.0
"LND" , "q_ca"          , ""            , ""                             , "none"  ,  0.0
"LND" , "rough_mom"     , ""            , ""                             , "none"  ,  0.01
"LND" , "rough_heat"    , ""            , ""                             , "none"  ,  0.1
"LND" , "albedo"        , ""            , ""                             , "none"  ,  0.1
#"LND" , "t_ca"         , ""            , ""                             , "none"  ,  273.0
#"LND" , "t_surf"       , ""            , ""                             , "none"  ,  273.0
"LND" , "sphum_surf"    , ""            , ""                             , "none"  ,  0.0
"LND" , "sphum_ca"      , ""            , ""                             , "none"  ,  0.0
"LND" , "t_flux"        , ""            , ""                             , "none"  ,  0.0
"LND" , "sphum_flux"    , ""            , ""                             , "none"  ,  0.0
"LND" , "lw_flux"       , ""            , ""                             , "none"  ,  0.0
"LND" , "sw_flux"       , ""            , ""                             , "none"  ,  0.0
"LND" , "lprec"         , ""            , ""                             , "none"  ,  0.0
"LND" , "fprec"         , ""            , ""                             , "none"  ,  0.0
"LND" , "dhdt"          , ""            , ""                             , "none"  ,  5.0
"LND" , "dedt"          , ""            , ""                             , "none"  ,  2e-6
"LND" , "dedq"          , ""            , ""                             , "none"  ,  0.0
"LND" , "drdt"          , ""            , ""                             , "none"  ,  5.0
"LND" , "drag_q"        , ""            , ""                             , "none"  ,  0.0
"LND" , "p_surf"        , ""            , ""                             , "none"  ,  1.e5
      </dataTable> 

     <dataFile label="namelist" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/input.nml</dataSource>
     </dataFile>
     <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/field_table</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/field_table</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/field_table</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/field_table</dataSource>
     </dataFile>
      
      <diagTable>
$name
$baseDate
      </diagTable>

      <namelist name="coupler_nml">
       months = $months,
       days   = $days,
       current_date = 1900,1,1,0,0,0,
       hours = 0
       minutes = 0
       seconds = 0
       calendar = 'NOLEAP',
       dt_cpld  = 3600,
       dt_atmos = 3600,
       do_atmos = .false.,
       do_land = .false.,
       do_ice = .true.,
       do_ocean = .true.,
       atmos_npes = 0,
       ocean_npes = 0,
       concurrent = .false.
       use_lag_fluxes=.false. 
     </namelist>


    <namelist name="fms_nml">
            clock_grain='ROUTINE'
            clock_flags='NONE'
            domains_stack_size = 8000000
            stack_size =0
      </namelist>
     <namelist name="fms_io_nml" >
         fms_netcdf_restart=.true.
         threading_read='multi'
         max_files_r = 200
         max_files_w = 200
!         checksum_required = .false. ! This is needed to be able to restart the Ice under GNU. ref. Redmine issue 2000
     </namelist>

     <namelist name="diag_manager_nml">
       max_axes = 150,
       max_files = 100,
       max_num_axis_sets = 100,
       max_input_fields = 699
       max_output_fields = 699
       mix_snapshot_average_fields=.false.
     </namelist>

     <!--verona-->
     <namelist name="sat_vapor_pres_nml">
      construct_table_wrt_liq = .true.,
      construct_table_wrt_liq_and_ice = .true.,
     </namelist>

     <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
#override NIGLOBAL = 1080
#override NJGLOBAL = 768
#override TEMP_SALT_Z_INIT_FILE = "WOA05_ptemp_salt_annual.nc"
#override Z_INIT_FILE_PTEMP_VAR = "ptemp"
#override TEMP_SALT_Z_INIT_FILE = "WOA05_ptemp_salt_annual.nc"
#override Z_INIT_FILE_SALT_VAR  = "salt"
#override TIDEAMP_FILE          = "tidal_amplitude.nc"
#override CHL_FILE              = "seawifs_1998-2006_smoothed_2X.nc"
#override SALT_RESTORE_FILE     = "salt_restore.nc"
#override TOPO_EDITS_FILE = ""

MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 1080
#override NJGLOBAL = 768

SIS_OVERRIDE_EOF

     ]]></csh>
     
   </input>

   <runtime>   
      <regression name="basic">
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O432']/node())"/> </run>
      </regression>
      <regression name="rts">
        <run days="15 16" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O432']/node())"/> </run>
        <!--the following should reproduce eachother but not the basic because basic uses mask_table-->
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512x2']/node())"/> </run>
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O648']/node())"/> </run>
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O864']/node())"/> </run>
      </regression>

      <regression name="debug">
        <run days="2"   > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O648']/node())"/> </run>
        <run days="1 1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
      </regression>

      <regression name="debugomp">
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512x2']/node())"/> </run>
      </regression>

      <reference restart="$(REFERENCE)/archive/1x1m0d_432x1o/restart/19000201.tar"/>

   </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_postprocess']/postProcess/node())"/>
    </postProcess>
     
   </experiment>
   
   <!--****************************************************************************************-->
   <!--***************************** 1/2 degree experiments        ****************************-->
   <!--****************************************************************************************-->
											      
   <freInclude name="OM4_05grid_data_orig">
    <input>
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/grid_spec.nc</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/grid_spec.nc</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/grid_spec.nc</dataSource>
        <dataSource site="gfdl"></dataSource> 
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/atmos_mosaic_tile1Xland_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/atmos_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/land_mask.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/land_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/ocean_hgrid.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/ocean_mask.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/ocean_mosaic.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/ocean_topog.nc</dataSource>
       <!--hsmget cannot get this  <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/topog.nc</dataSource> -->
      </dataFile>
    </input>
   </freInclude>
   <freInclude name="OM4_05grid_data">
    <input>
      <dataFile label="gridSpec" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/grid_spec.nc</dataSource>
        <dataSource site="theia">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/grid_spec.nc</dataSource>
        <dataSource site="olcf">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/grid_spec.nc</dataSource>
        <dataSource site="gfdl">/archive/jpd/OM4/OM4_05/MOM6-examples/ice_ocean_SIS2/OM4_05/preprocessing/mosaic_ocean.720x576/grid_spec.nc</dataSource> 
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/atmos_mosaic_tile1Xland_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/atmos_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/land_mask.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/land_mosaic_tile1Xocean_mosaic_tile1.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/ocean_hgrid.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/ocean_mask.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/ocean_mosaic.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/ocean_topog.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.70.16x32
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.182.32x32
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.239.36x36
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.320.36x45
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.201.32x36
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.548.36x72
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.417.45x45
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.359.36x50
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.581.45x60
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.817.60x60
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.1006.60x72
	$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/mask_table.1259.72x72
      </dataFile>
      <dataFile label="input" target="INPUT/ocean_static_no_mask_table.nc" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OM4_05_ARCHIVE)/mosaic_ocean.720x576/ocean_static.nc</dataSource>
      </dataFile>
    </input>
   </freInclude>

   <freInclude name="OMp5_data">
    <input>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/WOA05_pottemp_salt.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/MOM_saltrestore</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/salt_restore.v2015.12.03.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/runoff.daitren.clim.v2011.02.10a.720x576.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/seawifs_1998-2006_smoothed_2X.v2015.12.03.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/tidal_amplitude.v2015.12.03.nc</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/MOM_input</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/layer_coord.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/INPUT/MOM_channels_global_025</dataSource>
      </dataFile>      
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/analysis_vgrid_lev35.v1.nc</dataSource>
      </dataFile>

      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
       <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/INPUT/hycom1_75_800m.nc</dataSource>
      </dataFile>

      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_025/diag_table.MOM6</dataSource>
      </dataFile>

     <namelist name="MOM_input_nml" >
         output_directory = './',
         input_filename = '$restart_flag'
         restart_input_dir = 'INPUT/',
         restart_output_dir = 'RESTART/',
         parameter_filename = 'INPUT/MOM_input','INPUT/MOM_layout','INPUT/MOM_saltrestore','INPUT/MOM_override'
     </namelist>

     <csh type="always"><![CDATA[
if ( $currentSeg == 1 ) then
   set restart_flag = 'n'
else
   set restart_flag = 'r'
endif

ln -s $work/INPUT/ocean_topog.nc $work/INPUT/topog.nc 

touch $work/INPUT/MOM_override
touch $work/INPUT/SIS_override
      ]]></csh>
     </input>
   </freInclude>


   <experiment name="OMp5_baseline.$(MOM6_DATE)" inherit="OMp5_baseline"/>
   <experiment name="OMp5_baseline$(STATIC)" inherit="MOM6_SIS2_compile$(STATIC)">

     <input>
      <namelist name="coupler_nml">
       months = $months,
       days   = $days,
       current_date = 1900,1,1,0,0,0,
       hours = 0
       minutes = 0
       seconds = 0
       calendar = 'NOLEAP',
       dt_cpld  = 7200,
       dt_atmos = 7200,
       do_atmos = .false.,
       do_land = .false.,
       do_ice = .true.,
       do_ocean = .true.,
       atmos_npes = 0,
       ocean_npes = 0,
       concurrent = .false.
       use_lag_fluxes=.false.
       atmos_nthreads = $atm_threads
       ocean_nthreads = $ocean_nthreads
debug_affinity =.true.
ncores_per_node = 36
use_hyper_thread = .false.

     </namelist>

     <namelist name="diag_manager_nml">
            flush_nc_files=.false.
            max_axes = 100,
            max_files = 63,
            max_num_axis_sets = 100,
            max_input_fields = 699
            max_output_fields = 699
            mix_snapshot_average_fields=.false.
     </namelist>


     <diagTable>
$name
$baseDate
     </diagTable>

     <dataFile label="namelist" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/input.nml</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/input.nml</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/input.nml</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_05/input.nml</dataSource>
     </dataFile>
     <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/field_table</dataSource>
        <dataSource site="theia">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/field_table</dataSource>
        <dataSource site="olcf">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/field_table</dataSource>
        <dataSource site="gfdl">$(NB_ROOT)/mom6/ice_ocean_SIS2/OM4_05/field_table</dataSource>
     </dataFile>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/data_table</dataSource>
      </dataFile>

      <xi:include xpointer="xpointer(//freInclude[@name='OM4_common']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_05grid_data']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='OMp5_data']/input/node())"/>
      <!--SIS2 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>
      <!--CORE forcing datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='CORE_data']/input/node())"/>

  
      <csh><![CDATA[
cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 720
#override NJGLOBAL = 576

SIS_OVERRIDE_EOF
     ]]></csh>

   </input>
   <runtime>   
      <regression name="basic">
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1057p5']/node())"/> </run>
      </regression>
      <regression name="rts">
        <run days="15 16" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1057p5']/node())"/> </run>
        <!--the following should reproduce eachother but not the basic because basic uses mask_table-->
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512x2']/node())"/> </run>
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O648']/node())"/> </run>
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O256']/node())"/> </run>
      </regression>

      <regression name="debugomp">
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512x2']/node())"/> </run>
      </regression>

      <regression name="timings">
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O256']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1152']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1057p5']/node())"/> </run>

        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128x2']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O256x2']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512x2']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1152x2']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1057p5x2']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O842p5']/node())"/> </run>
        <run months="1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O648']/node())"/> </run>
      </regression>
      <regression name="debug">
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
        <run days="1 1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O648']/node())"/> </run>
      </regression>
      <regression name="debug2">
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O442p5']/node())"/> </run>
        <run days="1 1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O442p5']/node())"/> </run>
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
        <run days="1 1" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
      </regression>
      <regression name="debugs">
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O256']/node())"/> </run>
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128']/node())"/> </run>
        <run days="2" > <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128x2']/node())"/> </run>
        <run days="2" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=32"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128x2h']/node())"/> </run>
      </regression>
      <reference restart="$(REFERENCE)/archive/1x1m0d_1057x1o/restart/19000201.tar"/>

   </runtime>

    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_postprocess']/postProcess/node())"/>
    </postProcess>
   </experiment>

   <experiment name="OMp5_baseline_ens2" inherit="OMp5_baseline">
    <input>
      <namelist name="ensemble_nml">
        ensemble_size=2
     </namelist>
    </input>
   </experiment>

   <experiment name="OMp5_baseline_NEMO" inherit="OMp5_baseline">
    <input>
      <csh><![CDATA[
cat > $work/INPUT/MOM_override << OVERRIDE_EOF
#override EQN_OF_STATE = "NEMO"
USE_CONTEMP_ABSSAL = True

OVERRIDE_EOF

#add the following after merge user/nnz/use_teos10_tfreeze
#override TFREEZE_FORM = "TEOS10"

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 720
#override NJGLOBAL = 576

SIS_OVERRIDE_EOF
     ]]></csh>

      <diagTable order="append">
#================
# Additional DIAGNOSTICS
#================
 "ocean_model", "contemp", "contemp", "ocean_annual",        "all", "mean", "none",2  
 "ocean_model", "contemp", "contemp", "ocean_month",         "all", "mean", "none",2  
 "ocean_model", "abssalt", "abssalt", "ocean_annual",        "all", "mean", "none",2
 "ocean_model", "abssalt", "abssalt", "ocean_month",         "all", "mean", "none",2
 "ocean_model", "conSST",  "conSST",  "ocean_month",         "all", "mean", "none",2  
 "ocean_model", "absSSS",  "absSSS",  "ocean_month",         "all", "mean", "none",2  
 "ocean_model", "conSST",  "conSST",  "ocean_annual",         "all", "mean", "none",2  
 "ocean_model", "absSSS",  "absSSS",  "ocean_annual",         "all", "mean", "none",2  
#
 "ocean_model_z", "contemp", "contemp", "ocean_annual_z",        "all", "mean", "none",2  
 "ocean_model_z", "contemp", "contemp", "ocean_month_z",         "all", "mean", "none",2  
 "ocean_model_z", "abssalt", "abssalt", "ocean_annual_z",        "all", "mean", "none",2
 "ocean_model_z", "abssalt", "abssalt", "ocean_month_z",         "all", "mean", "none",2
     </diagTable>
    </input>
   </experiment>

   <experiment name="OMp5_baseline_originalGrid" inherit="OMp5_baseline">
    <input>
     <diagTable>
$name
$baseDate
     </diagTable>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_common']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_05grid_data_orig']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='OMp5_data']/input/node())"/>
      <!--SIS2 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>
      <!--CORE forcing datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='CORE_data']/input/node())"/>

    </input>
   </experiment>
     
   <experiment name="OMp5_baseline_hthread" inherit="OMp5_baseline">
     <input>
  
     </input>

   <runtime>
      <regression name="timings">
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O256']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1152']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1057p5']/node())"/> </run>

        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O128x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O256x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O512x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1152x2']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O1057p5x2']/node())"/> </run>
      </regression>
      <regression name="timing">
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O256']/node())"/> </run>
        <run months="1" overrideParams="coupler_nml:use_hyper_thread=.T.;coupler_nml:ncores_per_node=36"> <xi:include xpointer="xpointer(//freInclude[@name='resourceparams_O256x2']/node())"/> </run>
      </regression>
   </runtime>
     
   </experiment>
   <experiment name="OMp5_COBALT_zdiag.$(MOM6_DATE)" inherit="OMp5_COBALT_zdiag"/>
   <experiment name="OMp5_COBALT_zdiag$(STATIC)" inherit="OMp5_baseline">

     <input>
     <namelist name="generic_tracer_nml">
       do_generic_tracer=.true.
       do_generic_CFC=.false.
       do_generic_COBALT=.true.
       do_generic_TOPAZ=.false.
       force_update_fluxes=.true. !This has to be set for THERMO_SPANS_COUPLING to work
     </namelist>
     <namelist name="diag_manager_nml">
       max_axes = 150,
       max_files = 100,
       max_num_axis_sets = 100,
       max_input_fields = 899
       max_output_fields = 899
       mix_snapshot_average_fields=.false.
     </namelist>


     <diagTable>
$name
$baseDate
     </diagTable>

     <diagTable order="append">
#================
# sample z DIAGNOSTICS
#================
#===========================
# ocean_cobalt_sample_z
#===========================
"ocean_cobalt_sample",       1,  "days", 1, "days", "time",
 "generic_cobalt","def_fe_Di",          "def_fe_Di",          "ocean_cobalt_sample","all",.true.,"none",2
 "generic_cobalt","chl",                "chl",                "ocean_cobalt_sample","all",.true.,"none",2
 "generic_cobalt","htotal",             "htotal",             "ocean_cobalt_sample","all",.true.,"none",2
 "generic_cobalt","alk",                "alk",                "ocean_cobalt_sample","all",.true.,"none",2
 "generic_cobalt","dic",                "dic",                "ocean_cobalt_sample","all",.true.,"none",2
 "generic_cobalt","o2",                 "o2",                 "ocean_cobalt_sample","all",.true.,"none",2
 "generic_cobalt","lith",               "lith",               "ocean_cobalt_sample","all",.true.,"none",2
 "generic_cobalt","dep_dry_lith",       "dep_dry_lith",       "ocean_cobalt_sample","all",.true.,"none",2
 "generic_cobalt","dep_wet_lith",       "dep_wet_lith",       "ocean_cobalt_sample","all",.true.,"none",2
#
 "ocean_model","temp","temp","ocean_cobalt_sample","all",.true.,"none",2
 "ocean_model","salt","salt","ocean_cobalt_sample","all",.true.,"none",2

"ocean_cobalt_sample_z",       1,  "days", 1, "days", "time",
 "generic_cobalt_z","def_fe_Di",          "def_fe_Di",          "ocean_cobalt_sample_z","all",.true.,"none",2
 "generic_cobalt_z","chl",                "chl",                "ocean_cobalt_sample_z","all",.true.,"none",2
 "generic_cobalt_z","htotal",             "htotal",             "ocean_cobalt_sample_z","all",.true.,"none",2
 "generic_cobalt_z","alk",                "alk",                "ocean_cobalt_sample_z","all",.true.,"none",2
 "generic_cobalt_z","dic",                "dic",                "ocean_cobalt_sample_z","all",.true.,"none",2
 "generic_cobalt_z","o2",                 "o2",                 "ocean_cobalt_sample_z","all",.true.,"none",2
 "generic_cobalt_z","lith",               "lith",               "ocean_cobalt_sample_z","all",.true.,"none",2
 "generic_cobalt_z","dep_dry_lith",       "dep_dry_lith",       "ocean_cobalt_sample_z","all",.true.,"none",2
 "generic_cobalt_z","dep_wet_lith",       "dep_wet_lith",       "ocean_cobalt_sample_z","all",.true.,"none",2
#
 "ocean_model_z","temp","temp","ocean_cobalt_sample_z","all",.true.,"none",2
 "ocean_model_z","salt","salt","ocean_cobalt_sample_z","all",.true.,"none",2

     </diagTable>

      <xi:include xpointer="xpointer(//freInclude[@name='OM4_common']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_05grid_data']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='OMp5_data']/input/node())"/>
      <!--SIS2 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>
      <!--CORE forcing datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='CORE_data']/input/node())"/>
      <!--COBALT source datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OBGC_COBALT_Preind_data_p5']/input/node())"/>
      <!--COBALT field table-->
      <xi:include xpointer="xpointer(//freInclude[@name='OBGC_COBALT_Preind_field_table']/input/node())"/>
      <!--COBALT diag table-->
      <xi:include xpointer="xpointer(//freInclude[@name='OBGC_COBALT_diag_table']/input/node())"/>

      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(MOM6_EXAMPLES)/ice_ocean_SIS2/OM4_05/data_table</dataSource>
      </dataFile>

<dataTable>
"OCN", "runoff_no3_flux_ice_ocn",   "NO3_CONC",   "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ldon_flux_ice_ocn",  "LDON_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_sldon_flux_ice_ocn", "SLDON_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_srdon_flux_ice_ocn", "SRDON_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ndet_flux_ice_ocn",  "NDET_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_po4_flux_ice_ocn",   "PO4_CONC",   "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_ldop_flux_ice_ocn",  "LDOP_CONC",  "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_sldop_flux_ice_ocn", "SLDOP_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_srdop_flux_ice_ocn", "SRDOP_CONC", "./INPUT/news_nutrients.nc","none",1.0e-3
"OCN", "runoff_fed_flux_ice_ocn", ""   , ""                             , "none" ,  0.0
"OCN", "runoff_alk_flux_ice_ocn", ""   , ""                             , "none" ,  0.48e-3
"OCN", "runoff_dic_flux_ice_ocn", ""   , ""                             , "none" ,  0.24e-3
"OCN", "runoff_lith_flux_ice_ocn", ""  , ""                             , "none" , 13.0e-3
"OCN", "dry_dep_fed_flux_ice_ocn", "FLUX",         "./INPUT/Soluble_Fe_Flux_moxim11_climatology.nc", "bilinear" , -1.0
"OCN", "dry_dep_lith_flux_ice_ocn", "FLUX",        "./INPUT/Mineral_Fe_Flux_moxim11_climatology.nc", "bilinear" , -1594.0
"OCN", "dry_dep_po4_flux_ice_ocn", "FLUX",         "./INPUT/Mineral_Fe_Flux_moxim11_climatology.nc", "bilinear" , -0.035
"OCN", "wet_dep_no3_flux_ice_ocn",  "NO3_WET_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
"OCN", "dry_dep_no3_flux_ice_ocn",  "NO3_DRY_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
"OCN", "wet_dep_nh4_flux_ice_ocn",  "NH4_WET_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
"OCN", "dry_dep_nh4_flux_ice_ocn",  "NH4_DRY_DEP", "./INPUT/depflux_total.mean.1860.nc", "bilinear" , -1.0
#
# jgj 2015/12/09 data table for o2 gas exchange
#
"ATM", "o2_flux_pcair_atm", ""         , ""                             , "none" , 0.21
# jgj 2015/12/09 co2 data table for Preindustrial Control
#
## restoring co2 and radiation co2 data overrides set to 286e-6
"ATM" , "co2_dvmr_restore", "",     "", "none",  368.11e-06
"ATM" , "co2_dvmr_rad",     "",     "", "none",  368.11e-06
</dataTable>
  
      <csh><![CDATA[
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
Z_INIT_REMAP_GENERAL = True                                                          
Z_INIT_REMAP_FULL_COLUMN = True                                                      
#override KHTR = 300.                                                                
#override DT = 1800
#override DT_THERM = 10800  
#override MLE_MLD_DECAY_TIME = 2.592E+06
#override USE_generic_tracer = True
#override CHL_FROM_FILE = False

MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 720
#override NJGLOBAL = 576
#override MIN_OCN_INTERTIAL_H = 2.

SIS_OVERRIDE_EOF
     ]]></csh>

   </input>

   </experiment>
   
<freInclude name="OBGC_COBALT_Preind_data_p5">
    <input>
       <!-- IC files -->
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_n_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_p_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_i_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_o_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/Alk.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/Preind_DIC.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/init_ocean_cobalt.res.nc" chksum="" size="" timestamp="">
         <dataSource
platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/mom4p1_restart_to_latlon_360x180/ESM2M_pi-control_C2_cobalt_latlon_360x180_15010101_nobounds_mumem_htotalbounds.ocean_cobalt.res.nc</dataSource>
      </dataFile>

       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_horowitz/depflux_total.mean.1860.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/Soluble_Fe_Flux_moxim11_climatology.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/Mineral_Fe_Flux_moxim11_climatology.nc</dataSource>
      </dataFile>

      <!-- grid specific -->
      <dataFile label="input" target="INPUT/news_nutrients.nc" chksum="" size="" timestamp="">
         <dataSource platform="$(platform)">$(ESM4_ARCHIVE_ROOT)/news_nutrients_halfdeg_20151207.nc</dataSource>
      </dataFile>

     </input>

</freInclude>

<freInclude name="OBGC_COBALT_Preind_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.COBALT_preind_20151209</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.COBALT_preind_20151209</dataSource>
      </dataFile>
    </input>
</freInclude>

<freInclude name="OBGC_COBALT_diag_table">
    <input>
     <diagTable order="append">
#==========================================================================================
# MOM4p1 GENERIC OCEAN COBALT DIAGNOSTICS (from CAS 2013/07/01)
#      2013/06/01 jgj activate monthly chl, htotal for JPD, RRR
#      2013/07/02 jgj turn off ocean_cobalt_tracers_year and ocean_cobalt_zoo_diags
#      2013/07/17 jgj add dic_stf_gas, o2_stf_gas to ocean_cobalt_misc, but save monthly
#                     add z_sat_arag, z_sat_calc to ocean_cobalt_btm
#      2014/12/12 jgj correct nmdz_100 in cobalt_1day and add other cobalt_1day diagnostics, but comment out
#======================
#output files
"ocean_cobalt_1day",           24, "hours", 1, "days", "time",
"ocean_cobalt_tracers_month",   1, "months", 1, "days", "time",
"ocean_cobalt_tracers_year",   12, "months", 1, "days", "time",
"ocean_cobalt_sfc",             1, "months", 1, "days", "time",
"ocean_cobalt_btm",             1, "months", 1, "days", "time",
"ocean_cobalt_phytolim_sfc",    1, "months", 1, "days", "time", 
"ocean_cobalt_fdet_100",        1, "months", 1, "days", "time",
"ocean_cobalt_biomass_100",     1, "months", 1, "days", "time", 
"ocean_cobalt_prod_100",        1, "months", 1, "days", "time",
"ocean_cobalt_miscflux_100",    1, "months", 1, "days", "time", 
"ocean_cobalt_phyto_diags",    12, "months", 1, "days", "time",
"ocean_cobalt_bact_diags",     12, "months", 1, "days", "time",
"ocean_cobalt_zoo_diags",      12, "months", 1, "days", "time",
"ocean_cobalt_misc",           12, "months", 1, "days", "time",
#
#======================
# GENERIC OCEAN COBALT DIAGNOSTICS
#======================
#
#===========================
# ocean_cobalt_1day
#===========================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_1day","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_1day","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_1day","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_1day","all",.false.,"none",2
 "generic_cobalt","jprod_allphytos_100", "jprod_allphytos_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","sfc_chl",          "sfc_chl",            "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","sfc_no3",          "sfc_no3",            "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","sfc_temp",         "sfc_temp",           "ocean_cobalt_1day","all",.true.,"none",2
## jgj: added 2014/11/25
# "generic_cobalt","sfc_htotal",       "sfc_htotal",          "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","dic_deltap",       "dic_deltap",          "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","dic_stf_gas",      "dic_stf_gas",         "ocean_cobalt_1day","all",.true.,"none",2
## additional 2D biomasses and biogeochemical fluxes
# "generic_cobalt","fndet_100",        "fndet_100",   "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nsmp_100",         "nsmp_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nlgp_100",         "nlgp_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","ndi_100",          "ndi_100",     "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nsmz_100",         "nsmz_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nmdz_100",         "nmdz_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nlgz_100",         "nlgz_100",    "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","nbact_100",        "nbact_100",   "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","mesozoo_200",      "mesozoo_200", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nsmp_100",   "jprod_nsmp_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nlgp_100",   "jprod_nlgp_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_ndi_100",    "jprod_ndi_100",  "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nsmz_100",   "jprod_nsmz_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nmdz_100",   "jprod_nmdz_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nlgz_100",   "jprod_nlgz_100", "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_nbact_100",  "jprod_nbact_100","ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","hploss_100",       "hploss_100",     "ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","jprod_mesozoo_200","jprod_mesozoo_200","ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","btm_temp",         "btm_temp"        ,"ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","btm_o2",           "btm_o2"          ,"ocean_cobalt_1day","all",.true.,"none",2
# "generic_cobalt","fndet_btm",        "fndet_btm"       ,"ocean_cobalt_1day","all",.true.,"none",2
#=============================================
# ocean_cobalt_tracers_month
# 2013/06/01 jgj activate chl, htotal for JPD, RRR
#=============================================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_tracers_month","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_tracers_month","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_tracers_month","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_tracers_month","all",.false.,"none",2
 "generic_cobalt","chl",                "chl",                "ocean_cobalt_tracers_month","all",.true.,"none",2
# "generic_cobalt","co3_ion",            "co3_ion",            "ocean_cobalt_tracers_month","all",.true.,"none",2
# "generic_cobalt","co3_sol_arag",       "co3_sol_arag",       "ocean_cobalt_tracers_month","all",.true.,"none",2
# "generic_cobalt","co3_sol_calc",       "co3_sol_calc",       "ocean_cobalt_tracers_month","all",.true.,"none",2
# "generic_cobalt","fed",                "fed",                "ocean_cobalt_tracers_month","all",.true.,"none",2
 "generic_cobalt","htotal",             "htotal",             "ocean_cobalt_tracers_month","all",.true.,"none",2
  "generic_cobalt","no3",                "no3",                "ocean_cobalt_tracers_month","all",.true.,"none",2
  "generic_cobalt","o2",                 "o2",                 "ocean_cobalt_tracers_month","all",.true.,"none",2
#=======================================
# ocean_cobalt_tracers_year
#=======================================
 "ocean_model","geolat_c","geolat_c"                ,"ocean_cobalt_tracers_year","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                ,"ocean_cobalt_tracers_year","all",.false.,"none",2
 "ocean_model","geolat","geolat"                    ,"ocean_cobalt_tracers_year","all",.false.,"none",2
 "ocean_model","geolon","geolon"                    ,"ocean_cobalt_tracers_year","all",.false.,"none",2
# "generic_cobalt","ndi",                "ndi",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","nlg",                "nlg",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","nsm",                "nsm",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","nbact",              "nbact",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","nsmz",               "nsmz",               "ocean_cobalt_tracers_year","all",.true.,"none",2
## "generic_cobalt","nmdz",               "nmdz",               "ocean_cobalt_tracers_year","all",.true.,"none",2
## "generic_cobalt","nlgz",               "nlgz",               "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","alk",                "alk",                "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","cadet_arag",         "cadet_arag",         "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","cadet_calc",         "cadet_calc",         "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","dic",                "dic",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","fed",                "fed",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","fedi",               "fedi",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","felg",               "felg",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","fesm",               "fesm",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","fedet",              "fedet",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","ldon",               "ldon",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","ldop",               "ldop",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","lith",               "lith",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","lithdet",            "lithdet",            "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","ndet",               "ndet",               "ocean_cobalt_tracers_year","all",.true.,"none",2
 "generic_cobalt","nh4",                "nh4",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","no3",                "no3",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","o2",                 "o2",                 "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","pdet",               "pdet",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","po4",                "po4",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","srdon",              "srdon",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","srdop",              "srdop",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","sldon",              "sldon",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","sldop",              "sldop",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","sidet",              "sidet",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","silg",               "silg",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","sio4",               "sio4",               "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","co3_sol_arag",       "co3_sol_arag",       "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","co3_sol_calc",       "co3_sol_calc",       "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_c",    "tot_layer_int_c",    "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_fe",   "tot_layer_int_fe",   "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_n",    "tot_layer_int_n",    "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_p",    "tot_layer_int_p",    "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","tot_layer_int_si",   "tot_layer_int_si",   "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","cased",              "cased",              "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","chl",                "chl",                "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","co3_ion",            "co3_ion",            "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","htotal",             "htotal",             "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","irr_mem",            "irr_mem",            "ocean_cobalt_tracers_year","all",.true.,"none",2
# "generic_cobalt","pco2surf",           "pco2surf",           "ocean_cobalt_tracers_year","all",.true.,"none",2
#===================
# Generic COBALT surface fields:
#==================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_sfc","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_sfc","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_sfc","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_sfc","all",.false.,"none",2
 "generic_cobalt","dic_csurf",               "dic_csurf",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","dic_deltap",              "dic_deltap",       "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","dic_kw",                  "dic_kw",           "ocean_cobalt_sfc","all",.true.,"none",2
## "generic_cobalt","dic_sc_no",               "dic_sc_no",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","pco2surf",                "pco2surf",         "ocean_cobalt_sfc","all",.true.,"none",2
## "generic_cobalt","o2_alpha",                 "o2_alpha",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","o2_csurf",                "o2_csurf",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","o2_deltap",               "o2_deltap",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","o2_kw",                   "o2_kw",            "ocean_cobalt_sfc","all",.true.,"none",2
## "generic_cobalt","o2_sc_no",                 "o2_sc_no",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_alk",                 "sfc_alk",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_cadet_arag",          "sfc_cadet_arag",   "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_cadet_calc",          "sfc_cadet_calc",   "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_dic",                 "sfc_dic",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_fed",                 "sfc_fed",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_ldon",                "sfc_ldon",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_sldon",               "sfc_sldon",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_srdon",               "sfc_srdon",        "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_no3",                 "sfc_no3",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nh4",                 "sfc_nh4",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_po4",                 "sfc_po4",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_sio4",                "sfc_sio4",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_htotal",              "sfc_htotal",       "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_o2",                  "sfc_o2",           "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_chl",                 "sfc_chl",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nsmp",                "sfc_nsmp",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nlgp",                "sfc_nlgp",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_ndi",                 "sfc_ndi",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_chl_smp",             "sfc_chl_smp",      "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_chl_lgp",             "sfc_chl_lgp",      "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_chl_di",              "sfc_chl_di",       "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irr",                 "sfc_irr",          "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irr_mem",             "sfc_irr_mem",      "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_temp",                "sfc_temp",         "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_co3_ion",             "sfc_co3_ion",      "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_co3_sol_arag",        "sfc_co3_sol_arag", "ocean_cobalt_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_co3_sol_calc",        "sfc_co3_sol_calc", "ocean_cobalt_sfc","all",.true.,"none",2
#===================
# Generic COBALT bottom fields:
#==================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_btm","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_btm","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_btm","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_btm","all",.false.,"none",2
 "generic_cobalt","btm_temp",         "btm_temp"        ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","btm_o2",           "btm_o2"          ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","ffedet_btm",       "ffedet_btm"      ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","flithdet_btm",     "flithdet_btm"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fndet_btm",        "fndet_btm"       ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fpdet_btm",        "fpdet_btm"       ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fsidet_btm",       "fsidet_btm"      ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcadet_arag_btm",  "fcadet_arag_btm" ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcadet_calc_btm",  "fcadet_calc_btm" ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcased_burial",    "fcased_burial"   ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcased_redis",     "fcased_redis"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fcased_input",     "fcased_input"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fnfeso4red_sed",   "fnfeso4red_sed"  ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fno3denit_sed",    "fno3denit_sed"   ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fnoxic_sed",       "fnoxic_sed"      ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","frac_burial",      "frac_burial"     ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fndet_burial",     "fndet_burial"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","fpdet_burial",     "fpdet_burial"    ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","z_sat_arag",       "z_sat_arag"      ,"ocean_cobalt_btm","all",.true.,"none",2
 "generic_cobalt","z_sat_calc",       "z_sat_calc"      ,"ocean_cobalt_btm","all",.true.,"none",2
#======================
# Surface phytoplankton limitation diagnostics
#======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_phytolim_sfc","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_phytolim_sfc","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_phytolim_sfc","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_phytolim_sfc","all",.false.,"none",2
 "generic_cobalt","sfc_def_fe_di",       "sfc_def_fe_di",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_def_fe_lgp",      "sfc_def_fe_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_def_fe_smp",      "sfc_def_fe_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_felim_di",        "sfc_felim_di",           "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_felim_lgp",       "sfc_felim_lgp",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_felim_smp",       "sfc_felim_smp",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irrlim_di",       "sfc_irrlim_di",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irrlim_lgp",      "sfc_irrlim_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_irrlim_smp",      "sfc_irrlim_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_theta_di",        "sfc_theta_di",           "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_theta_lgp",       "sfc_theta_lgp",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_theta_smp",       "sfc_theta_smp",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_mu_di",           "sfc_mu_di",              "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_mu_lgp",          "sfc_mu_lgp",             "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_mu_smp",          "sfc_mu_smp",             "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nh4lim_lgp",      "sfc_nh4lim_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_nh4lim_smp",      "sfc_nh4lim_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_no3lim_lgp",      "sfc_no3lim_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_no3lim_smp",      "sfc_no3lim_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_po4lim_di",       "sfc_po4lim_di",          "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_po4lim_lgp",      "sfc_po4lim_lgp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_po4lim_smp",      "sfc_po4lim_smp",         "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_q_fe_2_n_di",     "sfc_q_fe_2_n_di",        "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_q_fe_2_n_lgp",    "sfc_q_fe_2_n_lgp",       "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
 "generic_cobalt","sfc_q_fe_2_n_smp",    "sfc_q_fe_2_n_smp",       "ocean_cobalt_phytolim_sfc","all",.true.,"none",2
#======================
# Generic COBALT downward fluxes at 100 meters
#======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_fdet_100","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_fdet_100","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_fdet_100","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_fdet_100","all",.false.,"none",2
 "generic_cobalt","fndet_100",               "fndet_100",        "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","fpdet_100",               "fpdet_100",        "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","ffedet_100",              "ffedet_100",       "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","fsidet_100",              "fsidet_100",       "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","fcadet_calc_100",         "fcadet_calc_100",  "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","fcadet_arag_100",         "fcadet_arag_100",  "ocean_cobalt_fdet_100","all",.true.,"none",2
 "generic_cobalt","flithdet_100",            "flithdet_100",     "ocean_cobalt_fdet_100","all",.true.,"none",2
#=======================
# Generic COBALT 100m integrated biomass variables
#=======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_biomass_100","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_biomass_100","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_biomass_100","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_biomass_100","all",.false.,"none",2
 "generic_cobalt","nsmp_100",                "nsmp_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nlgp_100",                "nlgp_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","ndi_100",                 "ndi_100",  "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","silgp_100",               "silgp_100","ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nsmz_100",                "nsmz_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nmdz_100",                "nmdz_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nlgz_100",                "nlgz_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","nbact_100",               "nbact_100","ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","don_100",                 "don_100",  "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","ndet_100",                "ndet_100", "ocean_cobalt_biomass_100","all",.true.,"none",2
 "generic_cobalt","mesozoo_200",          "mesozoo_200", "ocean_cobalt_biomass_100","all",.true.,"none",2
#=======================
# Generic COBALT 100m integrated plankton production variables
#=======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_prod_100","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_prod_100","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_prod_100","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_prod_100","all",.false.,"none",2
 "generic_cobalt","jprod_allphytos_100",     "jprod_allphytos_100",      "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nsmp_100",          "jprod_nsmp_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nlgp_100",          "jprod_nlgp_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndi_100",           "jprod_ndi_100",            "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nsmp_new_100",      "jprod_nsmp_new_100",       "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nlgp_new_100",      "jprod_nlgp_new_100",       "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndi_new_100",       "jprod_ndi_new_100",        "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndi_n2_100",        "jprod_ndi_n2_100",         "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nsmz_100",          "jprod_nsmz_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nmdz_100",          "jprod_nmdz_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nlgz_100",          "jprod_nlgz_100",           "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_nbact_100",         "jprod_nbact_100",          "ocean_cobalt_prod_100","all",.true.,"none",2
 "generic_cobalt","jprod_mesozoo_200",       "jprod_mesozoo_200",        "ocean_cobalt_prod_100","all",.true.,"none",2
#=======================
# Generic COBALT other 100m integrated foodweb fluxes
#=======================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_miscflux_100","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_miscflux_100","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_miscflux_100","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_miscflux_100","all",.false.,"none",2
 "generic_cobalt","jzloss_nsmp_100",         "jzloss_nsmp_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_nlgp_100",         "jzloss_nlgp_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_ndi_100",          "jzloss_ndi_100",           "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jaggloss_nsmp_100",       "jaggloss_nsmp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jaggloss_nlgp_100",       "jaggloss_nlgp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jvirloss_nsmp_100",       "jvirloss_nsmp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jexuloss_nsmp_100",       "jexuloss_nsmp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jexuloss_nlgp_100",       "jexuloss_nlgp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jexuloss_ndi_100",        "jexuloss_ndi_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jingest_n_nsmz_100",      "jingest_n_nsmz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jingest_n_nmdz_100",      "jingest_n_nmdz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jingest_n_nlgz_100",      "jingest_n_nlgz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jingest_n_hp_100",        "jingest_n_hp_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_nsmz_100",         "jzloss_nsmz_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_nmdz_100",         "jzloss_nmdz_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jhploss_nmdz_100",        "jhploss_nmdz_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jhploss_nlgz_100",        "jhploss_nlgz_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndet_nmdz_100",     "jprod_ndet_nmdz_100",      "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndet_nlgz_100",     "jprod_ndet_nlgz_100",      "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_ndet_hp_100",       "jprod_ndet_hp_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_don_nsmz_100",      "jprod_don_nsmz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_don_nmdz_100",      "jprod_don_nmdz_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_nsmz_100",       "jremin_n_nsmz_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_nmdz_100",       "jremin_n_nmdz_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_nlgz_100",       "jremin_n_nlgz_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_hp_100",         "jremin_n_hp_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","juptake_ldon_nbact_100",  "juptake_ldon_nbact_100",   "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jvirloss_nbact_100",      "jvirloss_nbact_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jzloss_nbact_100",        "jzloss_nbact_100",         "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_n_nbact_100",      "jremin_n_nbact_100",       "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_lithdet_100",       "jprod_lithdet_100",        "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_sidet_100",         "jprod_sidet_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_cadet_calc_100",    "jprod_cadet_calc_100",     "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jprod_cadet_arag_100",    "jprod_cadet_arag_100",     "ocean_cobalt_miscflux_100","all",.true.,"none",2
 "generic_cobalt","jremin_ndet_100",         "jremin_ndet_100",          "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jdic_100",                "jdic_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jdin_100",                "jdin_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jpo4_100",                "jpo4_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jfed_100",                "jfed_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jsio4_100",               "jsio4_100",                "ocean_cobalt_miscflux_100","all",.true.,"none",2
## "generic_cobalt","jalk_100",                "jalk_100",                 "ocean_cobalt_miscflux_100","all",.true.,"none",2
#=======================
# Miscellaneous 2D and 3D COBALT diagnostics, saved yearly by default
#=======================   
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_misc","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_misc","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_misc","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_misc","all",.false.,"none",2
# "generic_cobalt","fcadet_arag",      "fcadet_arag",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fcadet_calc",      "fcadet_calc",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","ffedet",           "ffedet",             "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","flithdet",         "flithdet",           "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fndet",            "fndet",              "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fpdet",            "fpdet",              "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fsidet",           "fsidet",             "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jdiss_sidet",      "jdiss_sidet",        "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jdiss_cadet_arag", "jdiss_cadet_arag",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jdiss_cadet_calc", "jdiss_cadet_calc",   "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jremin_ndet",      "jremin_ndet",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jremin_pdet",      "jremin_pdet",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jremin_fedet",     "jremin_fedet",       "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_fed",      "dep_dry_fed",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_nh4",      "dep_dry_nh4",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_no3",      "dep_dry_no3",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_po4",      "dep_dry_po4",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_dry_lith",     "dep_dry_lith",       "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_fed",      "dep_wet_fed",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_nh4",      "dep_wet_nh4",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_no3",      "dep_wet_no3",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_po4",      "dep_wet_po4",        "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dep_wet_lith",     "dep_wet_lith",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_alk",  "runoff_flux_alk",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_dic",  "runoff_flux_dic",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_fed",  "runoff_flux_fed",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_lith", "runoff_flux_lith",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_no3",  "runoff_flux_no3",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_ldon", "runoff_flux_ldon",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_sldon", "runoff_flux_sldon",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_srdon", "runoff_flux_srdon",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_ndet", "runoff_flux_ndet",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_po4",  "runoff_flux_po4",    "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_ldop", "runoff_flux_ldop",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_sldop", "runoff_flux_sldop",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","runoff_flux_srdop", "runoff_flux_srdop",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jprod_cadet_arag", "jprod_cadet_arag",   "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jprod_cadet_calc", "jprod_cadet_calc",   "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","omega_arag",       "omega_arag",         "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","omega_calc",       "omega_calc",         "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jprod_lithdet",    "jprod_lithdet",      "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jfe_ads",          "jfe_ads",            "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jfe_coast",        "jfe_coast",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","kfe_eq_lig",       "kfe_eq_lig",          "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jalk",     "jalk",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jdic",     "jdic",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jnh4",     "jnh4",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jno3denit_wc",     "jno3denit_wc",       "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","jnitrif",          "jnitrif",            "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","dic_stf",          "dic_stf",            "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","dic_stf_gas",      "dic_stf_gas",        "ocean_cobalt_misc","all",.true.,"none",2
## "generic_cobalt","o2_stf",           "o2_stf",              "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","o2_stf_gas",       "o2_stf_gas",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","alk_stf",         "alk_stf",                "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","fed_stf",         "fed_stf",                "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","lith_stf",        "lith_stf",               "ocean_cobalt_misc","all",.true.,"none",2
 "generic_cobalt","nh4_stf",         "nh4_stf",                "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","no3_stf",         "no3_stf",                "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jalk_plus_btm",   "jalk_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jdic_plus_btm",   "jdic_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jdin_plus_btm",   "jdin_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jfed_plus_btm",   "jfed_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
# "generic_cobalt","jnh4_plus_btm",   "jnh4_plus_btm",          "ocean_cobalt_misc","all",.true.,"none",2
#
#========================
# 2D and 3D phytoplankton diagnostics, saved yearly by default
#========================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_phyto_diags","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_phyto_diags","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_phyto_diags","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_phyto_diags","all",.false.,"none",2
# "generic_cobalt","expkT",           "expkT",              "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","def_fe_Di",       "def_fe_Di",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","def_fe_Lg",       "def_fe_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","def_fe_Sm",       "def_fe_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","felim_Di",        "felim_Di",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","felim_Lg",        "felim_Lg",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","felim_Sm",        "felim_Sm",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irrlim_Di",       "irrlim_Di",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irrlim_Lg",       "irrlim_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irrlim_Sm",       "irrlim_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","theta_Di",        "theta_Di",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","theta_Lg",        "theta_Lg",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","theta_Sm",        "theta_Sm",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","mu_Di",           "mu_Di",              "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","mu_Lg",           "mu_Lg",              "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","mu_Sm",           "mu_Sm",              "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","nh4lim_Lg",       "nh4lim_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","nh4lim_Sm",       "nh4lim_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","no3lim_Lg",       "no3lim_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","no3lim_Sm",       "no3lim_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","po4lim_Di",       "po4lim_Di",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","po4lim_Lg",       "po4lim_Lg",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","po4lim_Sm",       "po4lim_Sm",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","q_fe_2_n_Di",     "q_fe_2_n_Di",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","q_fe_2_n_Lg",     "q_fe_2_n_Lg",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","q_fe_2_n_Sm",     "q_fe_2_n_Sm",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","silim_Lg",        "silim_Lg",           "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Di",     "jzloss_n_Di",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Lg",     "jzloss_n_Lg",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Sm",     "jzloss_n_Sm",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jvirloss_n_Di",   "jvirloss_n_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jvirloss_n_Lg",   "jvirloss_n_Lg",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jvirloss_n_Sm",   "jvirloss_n_Sm",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jexuloss_n_Di",   "jexuloss_n_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jexuloss_n_Lg",   "jexuloss_n_Lg",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jexuloss_n_Sm",   "jexuloss_n_Sm",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jaggloss_n_Di",   "jaggloss_n_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jaggloss_n_Lg",   "jaggloss_n_Lg",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jaggloss_n_Sm",   "jaggloss_n_Sm",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_n2_Di",   "juptake_n2_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_fe_Di",   "juptake_fe_Di",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_fe_Lg",   "juptake_fe_Lg",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_fe_Sm",   "juptake_fe_Sm",      "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_nh4_Di",  "juptake_nh4_Di",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_nh4_Lg",  "juptake_nh4_Lg",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_nh4_Sm",  "juptake_nh4_Sm",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_no3_Di",  "juptake_no3_Di",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_no3_Lg",  "juptake_no3_Lg",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
 "generic_cobalt","juptake_no3_Sm",  "juptake_no3_Sm",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_po4_Di",  "juptake_po4_Di",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_po4_Lg",  "juptake_po4_Lg",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_po4_Sm",  "juptake_po4_Sm",     "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","juptake_sio4_Lg", "juptake_sio4_Lg",    "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jprod_nsmp",      "jprod_nsmp",         "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jprod_nlgp",      "jprod_nlgp",         "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ndi",       "jprod_ndi",          "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irr_inst",           "irr_inst",        "ocean_cobalt_phyto_diags","all",.true.,"none",2
# "generic_cobalt","irr_mix",            "irr_mix",         "ocean_cobalt_phyto_diags","all",.true.,"none",2
#===================================
# 2D and 3D bacteria diagnostics, saved yearly by default
#===================================
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_bact_diags","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_bact_diags","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_bact_diags","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_bact_diags","all",.false.,"none",2
# "generic_cobalt","jzloss_n_Bact",   "jzloss_n_Bact",         "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","jvirloss_n_Bact", "jvirloss_n_Bact",       "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","juptake_ldon",    "juptake_ldon",          "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","juptake_ldop",    "juptake_ldop",          "ocean_cobalt_bact_diags","all",.true.,"none",2
"generic_cobalt","jprod_nh4_Bact",  "jprod_nh4_Bact",        "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","jprod_po4_Bact",  "jprod_po4_Bact",        "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","jprod_nbact",     "jprod_nbact",            "ocean_cobalt_bact_diags","all",.true.,"none",2
# "generic_cobalt","temp_lim_Bact",   "temp_lim_Bact",         "ocean_cobalt_bact_diags","all",.true.,"none",2
#
## zoo_diags: zooplankton diagnostics
 "ocean_model","geolat_c","geolat_c"                    ,"ocean_cobalt_zoo_diags","all",.false.,"none",2
 "ocean_model","geolon_c","geolon_c"                    ,"ocean_cobalt_zoo_diags","all",.false.,"none",2
 "ocean_model","geolat","geolat"                        ,"ocean_cobalt_zoo_diags","all",.false.,"none",2
 "ocean_model","geolon","geolon"                        ,"ocean_cobalt_zoo_diags","all",.false.,"none",2
# "generic_cobalt","jzloss_n_Smz",    "jzloss_n_Smz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Mdz",    "jzloss_n_Mdz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jzloss_n_Lgz",    "jzloss_n_Lgz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jhploss_n_Smz",   "jhploss_n_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jhploss_n_Mdz",   "jhploss_n_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jhploss_n_Lgz",   "jhploss_n_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_n_Smz",   "jingest_n_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_n_Mdz",   "jingest_n_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_n_Lgz",   "jingest_n_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_sio2_Smz","jingest_sio2_Smz",      "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_sio2_Mdz","jingest_sio2_Mdz",      "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_sio2_Lgz","jingest_sio2_Lgz",      "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","total_filter_feeding","total_filter_feeding","ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_fe_Smz",  "jingest_fe_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_fe_Mdz",  "jingest_fe_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jingest_fe_Lgz",  "jingest_fe_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ndet_Smz",  "jprod_ndet_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ndet_Mdz",  "jprod_ndet_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ndet_Lgz",  "jprod_ndet_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_pdet_Smz",  "jprod_pdet_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_pdet_Mdz",  "jprod_pdet_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_pdet_Lgz",  "jprod_pdet_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sidet_Smz", "jprod_sidet_Smz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sidet_Mdz", "jprod_sidet_Mdz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sidet_Lgz", "jprod_sidet_Lgz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sio4_Smz", "jprod_sio4_Smz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sio4_Mdz", "jprod_sio4_Mdz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sio4_Lgz", "jprod_sio4_Lgz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fedet_Smz", "jprod_fedet_Smz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fedet_Mdz", "jprod_fedet_Mdz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fedet_Lgz", "jprod_fedet_Lgz",       "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldon_Smz",  "jprod_ldon_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldon_Mdz",  "jprod_ldon_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldon_Lgz",  "jprod_ldon_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldop_Smz",  "jprod_ldop_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldop_Mdz",  "jprod_ldop_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_ldop_Lgz",  "jprod_ldop_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdon_Smz",  "jprod_srdon_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdon_Mdz",  "jprod_srdon_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdon_Lgz",  "jprod_srdon_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdop_Smz",  "jprod_srdop_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdop_Mdz",  "jprod_srdop_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_srdop_Lgz",  "jprod_srdop_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldon_Smz",  "jprod_sldon_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldon_Mdz",  "jprod_sldon_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldon_Lgz",  "jprod_sldon_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldop_Smz",  "jprod_sldop_Smz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldop_Mdz",  "jprod_sldop_Mdz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_sldop_Lgz",  "jprod_sldop_Lgz",        "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fed_Smz",   "jprod_fed_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fed_Mdz",   "jprod_fed_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_fed_Lgz",   "jprod_fed_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_po4_Smz",   "jprod_po4_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_po4_Mdz",   "jprod_po4_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_po4_Lgz",   "jprod_po4_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
 "generic_cobalt","jprod_nh4_Smz",   "jprod_nh4_Smz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
 "generic_cobalt","jprod_nh4_Mdz",   "jprod_nh4_Mdz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
 "generic_cobalt","jprod_nh4_Lgz",   "jprod_nh4_Lgz",         "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","jprod_nsmz",       "jprod_nsmz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
## "generic_cobalt","jprod_nmdz",       "jprod_nmdz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
## "generic_cobalt","jprod_nlgz",       "jprod_nlgz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","temp_lim_Smz",    "temp_lim_Smz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","temp_lim_Mdz",    "temp_lim_Mdz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","temp_lim_Lgz",    "temp_lim_Lgz",          "ocean_cobalt_zoo_diags","all",.true.,"none",2
# "generic_cobalt","hp_temp_lim",     "hp_temp_lim",           "ocean_cobalt_zoo_diags","all",.true.,"none",2
#
#===================================================================================================================
# GENERIC OCEAN COBALT_z DIAGNOSTICS   JGJ 2016/05/05
#      2016/05/05 jgj add _z diagnostics
#===================================================================
## add _z diagnostics to COBALT
#"ocean_cobalt_1day_z",         24, "hours", 1, "days", "time",
"ocean_cobalt_tracers_month_z", 1, "months", 1, "days", "time",
"ocean_cobalt_tracers_year_z", 12, "months", 1, "days", "time",
"ocean_cobalt_phyto_diags_z",  12, "months", 1, "days", "time",
"ocean_cobalt_bact_diags_z",   12, "months", 1, "days", "time",
"ocean_cobalt_zoo_diags_z",    12, "months", 1, "days", "time",
"ocean_cobalt_misc_z",         12, "months", 1, "days", "time",
#
#===========================
# ocean_cobalt_1day_z
#===========================
# "generic_cobalt_z","no3", "no3", "ocean_cobalt_1day_z","all","mean","none",2
#
#=============================================
# ocean_cobalt_tracers_month_z
#=============================================
 "generic_cobalt_z","chl",                "chl",                "ocean_cobalt_tracers_month_z","all","mean","none",2
 "generic_cobalt_z","dic",                "dic",                "ocean_cobalt_tracers_month_z","all","mean","none",2
 "generic_cobalt_z","htotal",             "htotal",             "ocean_cobalt_tracers_month_z","all","mean","none",2
 "generic_cobalt_z","no3",                "no3",                "ocean_cobalt_tracers_month_z","all","mean","none",2
 "generic_cobalt_z","o2",                 "o2",                 "ocean_cobalt_tracers_month_z","all","mean","none",2
#
#=======================================
# ocean_cobalt_tracers_year_z
#=======================================
 "generic_cobalt_z","alk",                "alk",                "ocean_cobalt_tracers_year_z","all","mean","none",2
 "generic_cobalt_z","cadet_arag",         "cadet_arag",         "ocean_cobalt_tracers_year_z","all","mean","none",2
 "generic_cobalt_z","cadet_calc",         "cadet_calc",         "ocean_cobalt_tracers_year_z","all","mean","none",2
 "generic_cobalt_z","nh4",                "nh4",                "ocean_cobalt_tracers_year_z","all","mean","none",2
#
#=======================================
# Miscellaneous 3D COBALT_z diagnostics, saved yearly by default
#=======================================
 "generic_cobalt_z","jdiss_cadet_arag", "jdiss_cadet_arag",   "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jprod_cadet_arag", "jprod_cadet_arag",   "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jprod_cadet_calc", "jprod_cadet_calc",   "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jalk",             "jalk",               "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jdic",             "jdic",               "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jnh4",             "jnh4",               "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jno3denit_wc",     "jno3denit_wc",       "ocean_cobalt_misc_z","all","mean","none",2
 "generic_cobalt_z","jnitrif",          "jnitrif",            "ocean_cobalt_misc_z","all","mean","none",2
#
#========================
# phytoplankton_z diagnostics, saved yearly by default
#========================
 "generic_cobalt_z","juptake_nh4_Di",  "juptake_nh4_Di",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_nh4_Lg",  "juptake_nh4_Lg",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_nh4_Sm",  "juptake_nh4_Sm",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_no3_Di",  "juptake_no3_Di",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_no3_Lg",  "juptake_no3_Lg",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
 "generic_cobalt_z","juptake_no3_Sm",  "juptake_no3_Sm",     "ocean_cobalt_phyto_diags_z","all","mean","none",2
#
#===================================
# bacteria_z diagnostics, saved yearly by default
#===================================
 "generic_cobalt_z","jprod_nh4_Bact",  "jprod_nh4_Bact",        "ocean_cobalt_bact_diags_z","all","mean","none",2
#
#===================================
## zoo_diags: zooplankton_z diagnostics
#===================================
 "generic_cobalt_z","jprod_nh4_Smz",   "jprod_nh4_Smz",         "ocean_cobalt_zoo_diags_z","all","mean","none",2
 "generic_cobalt_z","jprod_nh4_Mdz",   "jprod_nh4_Mdz",         "ocean_cobalt_zoo_diags_z","all","mean","none",2
 "generic_cobalt_z","jprod_nh4_Lgz",   "jprod_nh4_Lgz",         "ocean_cobalt_zoo_diags_z","all","mean","none",2
#
#===================================================================================================================
      </diagTable>
    </input>
</freInclude>

<freInclude name="OBGC_COBALT_Preind_field_table">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.COBALT_init_tracers_latlon_preind_dic_20151209</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.COBALT_init_tracers_latlon_preind_dic_20151209</dataSource>
      </dataFile>
    </input>
</freInclude>

<freInclude name="ESM4_o2_gas_exchange_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.o2_20151209</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.o2_20151209</dataSource>
      </dataFile>
    </input>
</freInclude>

<freInclude name="ESM4_Preind_co2_data_table">
    <input>
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.co2_preind_20151209</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.co2_preind_20151209</dataSource>
      </dataFile>
    </input>
</freInclude>
	
<freInclude name="ESM4_atmos_Preind_co2_field_table">
    <input>
      <dataFile label="fieldTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.atmos_co2_20151209</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/field_table.atmos_co2_20151209</dataSource>
      </dataFile>
     </input>
</freInclude>
 

 <experiment name="OM4_SIS2_05_CORE2_COBALT_combined_cfc_sf6_abio2" inherit="OMp5_baseline">

<description >
 2016/09/26 jpk
 Fixed typo in data_table (ab_co2* should be abco2*)

 2016/09/16 jpk
 Test of generic abiotic routine

 2016/08/17 jpk
 Based on JGJ's c14 test, but testing only CFCs SF6.

 2015/10/05 jgj
 global 1/2 degree z test case dynamic forcing with COBALT ocean biogeochemistry to test C14
 OM4_SIS2_CORE2_baseline plus mom6 2016.05.26, plus updates to ocean_shared for COBALT (merged into user/nnz/verona_dev_merge)
 diurnal_sw activated
 use annual WOA13 N,P,Si,O2 in COBALT field table
 keep dt at 1200
 THERMO_SPANS_COUPLING 

 ENERGYSAVEDAYS set to 30
 added ICE_STATS_INTERVAL set to 30 to decrease frequency of SIS date info saved to fms.out

2016/05/05 jgj
dt_cpld = 1800, dt_therm = 3600 
also change dt_atmos to 1800
THERMO_SPANS_COUPLING activated: dt_therm is 3600 by default in this version of MOM_parameter file 
Topo_edits activated by default in this version of MOM_parameter file 
sis_overrides for U_TRUNC_FILE, V_TRUNC_FILE, MIN_OCN_INTERTIAL_H = 2.
Run on Gaea C3/intel15

2016/05/24 jgj
Add updates to MOM6 to fix initialization issue and to correct tendency diagnostic terms (user/mjh/zdiag4cobalt )
Add updates to COBALT to avoid division by zero in debug mode.

2016/05/25 jgj
Switch to Preind DIC from GLODAP v1 
   co2_flux_pcair_atm = 286.0e-6
   co2_bot = 286.0e-6
   KD=2.0E-5  (was 2.0E-6)
   KHTH=300
   KHTR=300 
   turn on Polzin  (INT_TIDE_PROFILE = "POLZIN_09")

    </description>  

    <input>
      <namelist name="coupler_nml">
       months = $months,
       days   = $days,
       current_date = 1948,1,1,0,0,0,
       hours = 0
       minutes = 0
       seconds = 0
       calendar = 'NOLEAP',
       dt_cpld  = 1800,           ! for stability
       dt_atmos = 1800,           ! to match dt_cpld
       do_atmos = .false.,
       do_land = .false.,
       do_ice = .true.,
       do_ocean = .true.,
       atmos_npes = 0,
       ocean_npes = 0,
       concurrent = .false.
       use_lag_fluxes=.false.
       atmos_nthreads = $atm_threads
       ocean_nthreads = $ocean_nthreads
     </namelist>
     <namelist name="xgrid_nml">
       make_exchange_reproduce = .true.
       interp_method = 'second_order'
     </namelist>
     <namelist name="fms_nml">
       clock_grain='ROUTINE'
       clock_flags='NONE'
       domains_stack_size = 8000000
       stack_size =0
     </namelist>
     <namelist name="fms_io_nml" >
       fms_netcdf_restart=.true.
       threading_read='multi'
       max_files_r = 800
       max_files_w = 800
       checksum_required = .false. ! This is needed to be able to restart the Ice under GNU. ref. Redmine issue 2000
     </namelist>

     <namelist name="atmos_model_nml" >
       layout= 0, 0
     </namelist>

     <namelist name="generic_COBALT_nml">
       do_fan_dunne_fe=.false.
       do_14c=.false.
     </namelist>
     <namelist name="generic_tracer_nml">
       do_generic_tracer=.true.
       do_generic_abiotic=.true.
       do_generic_CFC=.true.
       do_generic_COBALT=.true.
       do_generic_TOPAZ=.false.
       do_generic_SF6=.true.
       force_update_fluxes=.true.
     </namelist>
     <namelist name="diag_manager_nml">
       max_files = 400
       flush_nc_files=.false.
       max_axes = 400,
       max_num_axis_sets = 400,
       max_input_fields = 800
       max_output_fields = 800
       mix_snapshot_average_fields=.false.
     </namelist>


      <csh><![CDATA[
#
cat > $work/INPUT/MOM_override << MOM_OVERRIDE_EOF
Z_INIT_REMAP_GENERAL = True                                                          
Z_INIT_REMAP_FULL_COLUMN = True                                                      
#override DT = 1800
#override DT_THERM = 7200  

USE_generic_tracer = True
#override CHL_FROM_FILE = False
GENERIC_TRACER_IC_FILE = "MOM_GENERICS.res.nc"

#override ENERGYSAVEDAYS = 30

MOM_OVERRIDE_EOF

cat > $work/INPUT/SIS_override << SIS_OVERRIDE_EOF
#override NIGLOBAL = 720
#override NJGLOBAL = 576
#override U_TRUNC_FILE = "SIS_U_truncations"
#override V_TRUNC_FILE = "SIS_V_truncations"
#override MIN_OCN_INTERTIAL_H = 2.

#override ADD_DIURNAL_SW = True 
#override ICE_STATS_INTERVAL = 30
SIS_OVERRIDE_EOF
     ]]></csh>

      <xi:include xpointer="xpointer(//freInclude[@name='OM4_common']/input/node())"/>
      <!--MOM6 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_05grid_data']/input/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='OMp5_data']/input/node())"/>
      <!--SIS2 Input datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='SIS2_data']/input/node())"/>
      <!--CORE2 forcing datasets-->
      <xi:include xpointer="xpointer(//freInclude[@name='CORE2_data']/input/node())"/>

      <diagTable>
$name
$baseDate
      </diagTable>

<!-- COBALT IC files -->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_n_annual_01.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_p_annual_01.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_i_annual_01.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/woa13/woa13_all_o_annual_01.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/Alk.nc</dataSource>
      </dataFile>
<!-- Preind DIC -->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/glodap/20151013/Preind_DIC.nc</dataSource>
      </dataFile>
<!--CFCs/SF6 Boundary Conditions -->
      <dataFile label="input" target="INPUT/cfc.bc.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f1/unswept/John.Krasting/cwg/input/cfc/CFC_histories_revised_2015_20x20deg.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/MOM_GENERICS.res.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f1/unswept/John.Krasting/cwg/input/cfc/MOM_GENERICS_OM4p5.res.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/init_ocean_cobalt.res.nc" chksum="" size="" timestamp="">
        <dataSource
platform="$(platform)">$(OBGC_ARCHIVE_ROOT)/mom4p1_restart_to_latlon_360x180/ESM2M_pi-control_C2_cobalt_latlon_360x180_15010101_nobounds_mumem_htotalbounds.ocean_cobalt.res.nc</dataSource>
      </dataFile>

<!-- COBALT BC files: Preind  -->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_fan/Soluble_Fe_Flux_PI.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_fan/Mineral_Fe_Flux_PI.nc</dataSource>
      </dataFile>
       <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(FMS_ESM_ARCHIVE_ROOT)/TOPAZ/deposition_horowitz/depflux_total.mean.1860.nc</dataSource>
      </dataFile>

<!-- COBALT: grid specific -->
      <dataFile label="input" target="INPUT/news_nutrients.nc" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">$(ESM4_ARCHIVE_ROOT)/news_nutrients_halfdeg_20151207.nc</dataSource>
      </dataFile>

<!-- COBALT: Preind data table -->
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/data_table.COBALT_1860_topaz_fe_20160718</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/data_table.COBALT_1860_topaz_fe_20160718</dataSource>
      </dataFile>

<!-- o2 gas exchange data table -->
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.o2_20151209</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/ESM4/data_table.o2_20151209</dataSource>
      </dataFile>

<!-- 1850 preind co2 gas exchange data table -->
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/data_table.preind_co2_gas_exchange_20160718</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/data_table.preind_co2_gas_exchange_20160718</dataSource>
      </dataFile>

<!-- co2_bot 1850 data table -->
      <dataFile label="dataTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/data_table.preind_co2_bot_20160718</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/data_table.preind_co2_bot_20160718</dataSource>
      </dataFile>

<!-- COBALT diag table -->
      <dataFile label="diagTable" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource site="ncrc">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/diag_table.COBALT_with_z_20160610</dataSource>
        <dataSource site="gfdl">$(OBGC_MODEL_UPDATES)/fre/input/retrospective/diag_table.COBALT_with_z_20160610</dataSource>
      </dataFile>

<!-- Generic Abiotic Input Files -->
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f1/unswept/John.Krasting/cwg/input/abiotic/GLODAP_fields.20160916.nc</dataSource>
      </dataFile>
      <dataFile label="input" target="INPUT/" chksum="" size="" timestamp="">
        <dataSource platform="$(platform)">/lustre/f1/unswept/John.Krasting/cwg/input/abiotic/atm_delta_13C_14C.nc</dataSource>
      </dataFile>

<fieldTable order="append">
####.................................................
### COBALT field table for initializing tracers
## jgj 2016/07/18 updated for COBALT and 14C

"namelists","ocean_mod","generic_cobalt/*global*"
/

"namelists","ocean_mod","generic_cobalt"

init = f

# JGJ 2015/07/28
# field table entries for initialization of cobalt tracers
# all unit conversions will be specified in the code based on
# valid src_var_unit and internal model unit.
# If field table src_var_unit does not match valid src_var_unit
# in code, model will give fatal error.
# valid src_var_units:
#    NO3, PO4, SiO4    : micromoles_per_liter
#    O2                : milliliters_per_liter
#    DIC, ALK          : micromoles_per_kg
#    all other fields  : none
# valid src_var_record : 0-12, where 0 is Annual, 1-12 for Jan-Dec
# 2015/10/05: Use annual data for WOA13 N, P, Si, O2 since monthly data does not extend to depth
# airsea and ice_ocean fluxes are handled by coupler, so are initialized in COBALT.
# 
# 2015/09/28 jgj updated to provide valid_min, valid_max for tracers to ensure
# tracers remain positive after interpolation
# note that values of valid_min and valid_max are in model units not src_units
# currently only alk, dic and htotal have both a valid_min and valid_max
# specified in field_table, but valid_max is ignored for now by code.
# as of 2015/10/06 src_var_record and src_var_gridspec are not yet implemented
#
# 2015/10/14 change valid_min for alk and dic to 0 since land values get filled with valid_min
#            also remove valid_max for alk and dic
#
#------------------------------------------------------------------------------------------------
#
# NO3 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_n_annual_01.nc)
# min = 0, max = 65.08 from input dataset
# divide by 1035e3 to convert from umol/l to mol/kg
no3_src_file = INPUT/woa13_all_n_annual_01.nc
no3_src_var_name = n_an
no3_src_var_unit = micromoles_per_liter
no3_dest_var_name =  no3
no3_dest_var_unit = mol kg-1
no3_src_var_record = 1
no3_src_var_gridspec = NONE
no3_valid_min = 0.0
#
# O2 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_o_annual_01.nc)
# min = 0, max = 15.44 from input dataset
# multiply by (1000/22391.6)/1035 to convert from ml/l to mol/kg
o2_src_file = INPUT/woa13_all_o_annual_01.nc
o2_src_var_name = o_an
o2_src_var_unit = milliliters_per_liter
o2_dest_var_name =  o2
o2_dest_var_unit = mol kg-1
o2_src_var_record = 1
o2_src_var_gridspec = NONE
o2_valid_min = 0.0
#
# PO4 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_p_annual_01.nc)
# min = 0, max = 9.757 from input dataset
# divide by 1035e3 to convert from umol/l to mol/kg
po4_src_file = INPUT/woa13_all_p_annual_01.nc
po4_src_var_name = p_an
po4_src_var_unit = micromoles_per_liter
po4_dest_var_name =  po4
po4_dest_var_unit = mol kg-1
po4_src_var_record = 1
po4_src_var_gridspec = NONE
po4_valid_min = 0.0
#
# SIO4 from WOA2013  (/archive/mdteam/obs/NOAA-NODC/WOA13/v1.00a/woa13_all_i_annual_01.nc)
# min = 0, max = 267.3 from input dataset
# divide by 1035e3 to convert from umol/l to mol/kg
sio4_src_file = INPUT/woa13_all_i_annual_01.nc
sio4_src_var_name = i_an
sio4_src_var_unit = micromoles_per_liter
sio4_dest_var_name =  sio4
sio4_dest_var_unit = mol kg-1
sio4_src_var_record = 1
sio4_src_var_gridspec = NONE
sio4_valid_min = 0.0
#
# Alkalinity from GLODAP  (/archive/jgj/datasets/retrospective/glodap/20151013/Alk.nc)
# min = 2171, max = 2462 from input dataset
# divide by 1e6 to convert from umol/kg to mol/kg
alk_src_file = INPUT/Alk.nc
alk_src_var_name = Alk
alk_src_var_unit = micromoles_per_kg
alk_dest_var_name =  alk
alk_dest_var_unit = mol kg-1
alk_src_var_record = 1
alk_src_var_gridspec = NONE
alk_valid_min = 0.0
#
# Preind DIC from GLODAP  (/archive/jgj/datasets/retrospective/glodap/20151013/Preind_DIC.nc)
# min = 1837, max = 2406 from input dataset
# divide by 1e6 to convert from umol/kg to mol/kg
dic_src_file = INPUT/Preind_DIC.nc
dic_src_var_name = Preind_DIC
dic_src_var_unit = micromoles_per_kg
dic_dest_var_name =  dic
dic_dest_var_unit = mol kg-1
dic_src_var_record = 1
dic_src_var_gridspec = NONE
dic_valid_min = 0.0
#
# additional tracers from ESM2M-COBALT Preindustrial Control restart (/archive/jgj/datasets/retrospective/mom4p1_restart_to_latlon_360x180/ESM2M_pi-control_C2_cobalt_latlon_360x180_15010101_nobounds_mumem_htotalbounds.ocean_cobalt.res.nc)
# min =  -2.203E-14, max =  1.347E-08 from input dataset
# no unit conversion necessary
cadet_arag_src_file = INPUT/init_ocean_cobalt.res.nc
cadet_arag_src_var_name = cadet_arag
cadet_arag_src_var_unit = none
cadet_arag_dest_var_name =  cadet_arag
cadet_arag_dest_var_unit = mol kg-1
cadet_arag_src_var_record = 1
cadet_arag_src_var_gridspec = NONE
cadet_arag_valid_min = 0.0
#
# min = -1.774E-15, max =  1.711E-08 from input dataset
cadet_calc_src_file = INPUT/init_ocean_cobalt.res.nc
cadet_calc_src_var_name = cadet_calc
cadet_calc_src_var_unit = none
cadet_calc_dest_var_name =  cadet_calc
cadet_calc_dest_var_unit = mol kg-1
cadet_calc_src_var_record = 1
cadet_calc_src_var_gridspec = NONE
cadet_calc_valid_min = 0.0
#
# NOTE: CASED = 0 at all K except K=1 from input dataset
# min = 0,  max = 5273. from input dataset
cased_src_file = INPUT/init_ocean_cobalt.res.nc
cased_src_var_name = cased
cased_src_var_unit = none
cased_dest_var_name =  cased
cased_dest_var_unit = mol kg-1
cased_src_var_record = 1
cased_src_var_gridspec = NONE
cased_valid_min = 0.0
#
# min = 0,  max = 4.446 from input dataset
chl_src_file = INPUT/init_ocean_cobalt.res.nc
chl_src_var_name = chl
chl_src_var_unit = none
chl_dest_var_name =  chl
chl_dest_var_unit = mol kg-1
chl_src_var_record = 1
chl_src_var_gridspec = NONE
chl_valid_min = 0.0
#
# min = 0,  max = 3.576E-04 from input dataset
co3_ion_src_file = INPUT/init_ocean_cobalt.res.nc
co3_ion_src_var_name = co3_ion
co3_ion_src_var_unit = none
co3_ion_dest_var_name =  co3_ion
co3_ion_dest_var_unit = mol kg-1
co3_ion_src_var_record = 1
co3_ion_src_var_gridspec = NONE
co3_ion_valid_min = 0.0
#
# min = -1.758E-11,  max = 1.758E-08 from input dataset
fed_src_file = INPUT/init_ocean_cobalt.res.nc
fed_src_var_name = fed
fed_src_var_unit = none
fed_dest_var_name =  fed
fed_dest_var_unit = mol kg-1
fed_src_var_record = 1
fed_src_var_gridspec = NONE
fed_valid_min = 0.0
#
# min = 0,  max = 1.715E-11 from input dataset
fedi_src_file = INPUT/init_ocean_cobalt.res.nc
fedi_src_var_name = fedi
fedi_src_var_unit = none
fedi_dest_var_name =  fedi
fedi_dest_var_unit = mol kg-1
fedi_src_var_record = 1
fedi_src_var_gridspec = NONE
fedi_valid_min = 0.0
#
# min = 0,  max = 4.724E-11 from input dataset
felg_src_file = INPUT/init_ocean_cobalt.res.nc
felg_src_var_name = felg
felg_src_var_unit = none
felg_dest_var_name =  felg
felg_dest_var_unit = mol kg-1
felg_src_var_record = 1
felg_src_var_gridspec = NONE
felg_valid_min = 0.0
#
# min = 0,  max = 7.912E-11 from input dataset
fesm_src_file = INPUT/init_ocean_cobalt.res.nc
fesm_src_var_name = fesm
fesm_src_var_unit = none
fesm_dest_var_name =  fesm
fesm_dest_var_unit = mol kg-1
fesm_src_var_record = 1
fesm_src_var_gridspec = NONE
fesm_valid_min = 0.0
#
# min = 10^-8.4=3.981E-09,  max = 10^-7.9 = 1.259E-08 from input dataset
htotal_src_file = INPUT/init_ocean_cobalt.res.nc
htotal_src_var_name = htotal
htotal_src_var_unit = none
htotal_dest_var_name =  htotal
htotal_dest_var_unit = mol kg-1
htotal_src_var_record = 1
htotal_src_var_gridspec = NONE
htotal_valid_min = 3.981E-09
htotal_valid_max = 1.259E-08
#
# min = 0,  max = 137.7 from input dataset
irr_mem_src_file = INPUT/init_ocean_cobalt.res.nc
irr_mem_src_var_name = irr_mem
irr_mem_src_var_unit = none
irr_mem_dest_var_name =  irr_mem
irr_mem_dest_var_unit = mol kg-1
irr_mem_src_var_record = 1
irr_mem_src_var_gridspec = NONE
irr_mem_valid_min = 0.0
#
# min = 0,  max = 5.812E-07 from input dataset
ldon_src_file = INPUT/init_ocean_cobalt.res.nc
ldon_src_var_name = ldon
ldon_src_var_unit = none
ldon_dest_var_name =  ldon
ldon_dest_var_unit = mol kg-1
ldon_src_var_record = 1
ldon_src_var_gridspec = NONE
ldon_valid_min = 0.0
#
# min = 0,  max = 3.576E-08 from input dataset
ldop_src_file = INPUT/init_ocean_cobalt.res.nc
ldop_src_var_name = ldop
ldop_src_var_unit = none
ldop_dest_var_name =  ldop
ldop_dest_var_unit = mol kg-1
ldop_src_var_record = 1
ldop_src_var_gridspec = NONE
ldop_valid_min = 0.0
#
# min = 0,  max = 0.006529 from input dataset
lith_src_file = INPUT/init_ocean_cobalt.res.nc
lith_src_var_name = lith
lith_src_var_unit = none
lith_dest_var_name =  lith
lith_dest_var_unit = mol kg-1
lith_src_var_record = 1
lith_src_var_gridspec = NONE
lith_valid_min = 0.0
#
# min = -1.385E-11,  max = 8.246E-06 from input dataset
nh4_src_file = INPUT/init_ocean_cobalt.res.nc
nh4_src_var_name = nh4
nh4_src_var_unit = none
nh4_dest_var_name =  nh4
nh4_dest_var_unit = mol kg-1
nh4_src_var_record = 1
nh4_src_var_gridspec = NONE
nh4_valid_min = 0.0
#
# min = -2.922E-11,  max = 9.184E-07 from input dataset
nbact_src_file = INPUT/init_ocean_cobalt.res.nc
nbact_src_var_name = nbact
nbact_src_var_unit = none
nbact_dest_var_name =  nbact
nbact_dest_var_unit = mol kg-1
nbact_src_var_record = 1
nbact_src_var_gridspec = NONE
nbact_valid_min = 0.0
#
# min = -6.356E-11,  max = 1.154E-07 from input dataset
ndi_src_file = INPUT/init_ocean_cobalt.res.nc
ndi_src_var_name = ndi
ndi_src_var_unit = none
ndi_dest_var_name =  ndi
ndi_dest_var_unit = mol kg-1
ndi_src_var_record = 1
ndi_src_var_gridspec = NONE
ndi_valid_min = 0.0
#
# min = -3.206E-10,  max = 9.267E-07 from input dataset
nlg_src_file = INPUT/init_ocean_cobalt.res.nc
nlg_src_var_name = nlg
nlg_src_var_unit = none
nlg_dest_var_name =  nlg
nlg_dest_var_unit = mol kg-1
nlg_src_var_record = 1
nlg_src_var_gridspec = NONE
nlg_valid_min = 0.0
#
# min = -3.142E-10,  max = 2.285E-06 from input dataset
nsm_src_file = INPUT/init_ocean_cobalt.res.nc
nsm_src_var_name = nsm
nsm_src_var_unit = none
nsm_dest_var_name =  nsm
nsm_dest_var_unit = mol kg-1
nsm_src_var_record = 1
nsm_src_var_gridspec = NONE
nsm_valid_min = 0.0
#
# min = -1.241E-10,  max = 5.693E-07 from input dataset
nlgz_src_file = INPUT/init_ocean_cobalt.res.nc
nlgz_src_var_name = nlgz
nlgz_src_var_unit = none
nlgz_dest_var_name =  nlgz
nlgz_dest_var_unit = mol kg-1
nlgz_src_var_record = 1
nlgz_src_var_gridspec = NONE
nlgz_valid_min = 0.0
#
# min = -1.766E-10,  max = 7.131E-07 from input dataset
nmdz_src_file = INPUT/init_ocean_cobalt.res.nc
nmdz_src_var_name = nmdz
nmdz_src_var_unit = none
nmdz_dest_var_name =  nmdz
nmdz_dest_var_unit = mol kg-1
nmdz_src_var_record = 1
nmdz_src_var_gridspec = NONE
nmdz_valid_min = 0.0
#
# min = -1.385E-11,  max = 8.246E-06 from input dataset
nsmz_src_file = INPUT/init_ocean_cobalt.res.nc
nsmz_src_var_name = nsmz
nsmz_src_var_unit = none
nsmz_dest_var_name =  nsmz
nsmz_dest_var_unit = mol kg-1
nsmz_src_var_record = 1
nsmz_src_var_gridspec = NONE
nsmz_valid_min = 0.0
#
# min = 0,  max = 4.083E-10 from input dataset
fedet_src_file = INPUT/init_ocean_cobalt.res.nc
fedet_src_var_name = fedet
fedet_src_var_unit = none
fedet_dest_var_name =  fedet
fedet_dest_var_unit = mol kg-1
fedet_src_var_record = 1
fedet_src_var_gridspec = NONE
fedet_valid_min = 0.0
#
# min = 0,  max = 1.137E-06 from input dataset
lithdet_src_file = INPUT/init_ocean_cobalt.res.nc
lithdet_src_var_name = lithdet
lithdet_src_var_unit = none
lithdet_dest_var_name =  lithdet
lithdet_dest_var_unit = mol kg-1
lithdet_src_var_record = 1
lithdet_src_var_gridspec = NONE
lithdet_valid_min = 0.0
#
# min = 0,  max = 8.271E-08 from input dataset
ndet_src_file = INPUT/init_ocean_cobalt.res.nc
ndet_src_var_name = ndet
ndet_src_var_unit = none
ndet_dest_var_name =  ndet
ndet_dest_var_unit = mol kg-1
ndet_src_var_record = 1
ndet_src_var_gridspec = NONE
ndet_valid_min = 0.0
#
# min = 0,  max = 5.169E-09 from input dataset
pdet_src_file = INPUT/init_ocean_cobalt.res.nc
pdet_src_var_name = pdet
pdet_src_var_unit = none
pdet_dest_var_name =  pdet
pdet_dest_var_unit = mol kg-1
pdet_src_var_record = 1
pdet_src_var_gridspec = NONE
pdet_valid_min = 0.0
#
# min = 0,  max = 4.827E-07 from input dataset
sidet_src_file = INPUT/init_ocean_cobalt.res.nc
sidet_src_var_name = sidet
sidet_src_var_unit = none
sidet_dest_var_name =  sidet
sidet_dest_var_unit = mol kg-1
sidet_src_var_record = 1
sidet_src_var_gridspec = NONE
sidet_valid_min = 0.0
#
# min = 0,  max = 4.897E-06 from input dataset
silg_src_file = INPUT/init_ocean_cobalt.res.nc
silg_src_var_name = silg
silg_src_var_unit = none
silg_dest_var_name =  silg
silg_dest_var_unit = mol kg-1
silg_src_var_record = 1
silg_src_var_gridspec = NONE
silg_valid_min = 0.0
#
# min = -6.824E-10,  max = 2.989E-06 from input dataset
sldon_src_file = INPUT/init_ocean_cobalt.res.nc
sldon_src_var_name = sldon
sldon_src_var_unit = none
sldon_dest_var_name =  sldon
sldon_dest_var_unit = mol kg-1
sldon_src_var_record = 1
sldon_src_var_gridspec = NONE
sldon_valid_min = 0.0
#
# min = -4.722E-11,  max = 1.819E-07 from input dataset
sldop_src_file = INPUT/init_ocean_cobalt.res.nc
sldop_src_var_name = sldop
sldop_src_var_unit = none
sldop_dest_var_name =  sldop
sldop_dest_var_unit = mol kg-1
sldop_src_var_record = 1
sldop_src_var_gridspec = NONE
sldop_valid_min = 0.0
#
# min = -3.007E-12,  max = 6.038E-06 from input dataset
srdon_src_file = INPUT/init_ocean_cobalt.res.nc
srdon_src_var_name = srdon
srdon_src_var_unit = none
srdon_dest_var_name =  srdon
srdon_dest_var_unit = mol kg-1
srdon_src_var_record = 1
srdon_src_var_gridspec = NONE
srdon_valid_min = 0.0
#
# min = -1.257E-11,  max = 3.831E-07 from input dataset
srdop_src_file = INPUT/init_ocean_cobalt.res.nc
srdop_src_var_name = srdop
srdop_src_var_unit = none
srdop_dest_var_name =  srdop
srdop_dest_var_unit = mol kg-1
srdop_src_var_record = 1
srdop_src_var_gridspec = NONE
srdop_valid_min = 0.0
#
# min = 0,  max = 1.465E-08 from input dataset
cadet_arag_btf_src_file = INPUT/init_ocean_cobalt.res.nc
cadet_arag_btf_src_var_name = cadet_arag_btf
cadet_arag_btf_src_var_unit = none
cadet_arag_btf_dest_var_name =  cadet_arag_btf
cadet_arag_btf_dest_var_unit = mol kg-1
cadet_arag_btf_src_var_record = 1
cadet_arag_btf_src_var_gridspec = NONE
cadet_arag_btf_valid_min = 0.0
#
# min = 0,  max = 2.011E-08 from input dataset
cadet_calc_btf_src_file = INPUT/init_ocean_cobalt.res.nc
cadet_calc_btf_src_var_name = cadet_calc_btf
cadet_calc_btf_src_var_unit = none
cadet_calc_btf_dest_var_name =  cadet_calc_btf
cadet_calc_btf_dest_var_unit = mol kg-1
cadet_calc_btf_src_var_record = 1
cadet_calc_btf_src_var_gridspec = NONE
cadet_calc_btf_valid_min = 0.0
#
# min = 0,  max = 1.364E-06 from input dataset
lithdet_btf_src_file = INPUT/init_ocean_cobalt.res.nc
lithdet_btf_src_var_name = lithdet_btf
lithdet_btf_src_var_unit = none
lithdet_btf_dest_var_name =  lithdet_btf
lithdet_btf_dest_var_unit = mol kg-1
lithdet_btf_src_var_record = 1
lithdet_btf_src_var_gridspec = NONE
lithdet_btf_valid_min = 0.0
#
# min = 0,  max = 8.360E-08 from input dataset
ndet_btf_src_file = INPUT/init_ocean_cobalt.res.nc
ndet_btf_src_var_name = ndet_btf
ndet_btf_src_var_unit = none
ndet_btf_dest_var_name =  ndet_btf
ndet_btf_dest_var_unit = mol kg-1
ndet_btf_src_var_record = 1
ndet_btf_src_var_gridspec = NONE
ndet_btf_valid_min = 0.0
#
# min = 0,  max = 5.225E-09 from input dataset
pdet_btf_src_file = INPUT/init_ocean_cobalt.res.nc
pdet_btf_src_var_name = pdet_btf
pdet_btf_src_var_unit = none
pdet_btf_dest_var_name =  pdet_btf
pdet_btf_dest_var_unit = mol kg-1
pdet_btf_src_var_record = 1
pdet_btf_src_var_gridspec = NONE
pdet_btf_valid_min = 0.0
#
# min = 0,  max = 5.767E-07 from input dataset
sidet_btf_src_file = INPUT/init_ocean_cobalt.res.nc
sidet_btf_src_var_name = sidet_btf
sidet_btf_src_var_unit = none
sidet_btf_dest_var_name =  sidet_btf
sidet_btf_dest_var_unit = mol kg-1
sidet_btf_src_var_record = 1
sidet_btf_src_var_gridspec = NONE
sidet_btf_valid_min = 0.0
#
# min = 0,  max = 0 from input dataset
mu_mem_ndi_src_file = INPUT/init_ocean_cobalt.res.nc
mu_mem_ndi_src_var_name = mu_mem_ndi
mu_mem_ndi_src_var_unit = none
mu_mem_ndi_dest_var_name =  mu_mem_ndi
mu_mem_ndi_dest_var_unit = mol kg-1
mu_mem_ndi_src_var_record = 1
mu_mem_ndi_src_var_gridspec = NONE
mu_mem_ndi_valid_min = 0.0
#
# min = 0,  max = 0 from input dataset
mu_mem_nlg_src_file = INPUT/init_ocean_cobalt.res.nc
mu_mem_nlg_src_var_name = mu_mem_nlg
mu_mem_nlg_src_var_unit = none
mu_mem_nlg_dest_var_name =  mu_mem_nlg
mu_mem_nlg_dest_var_unit = mol kg-1
mu_mem_nlg_src_var_record = 1
mu_mem_nlg_src_var_gridspec = NONE
mu_mem_nlg_valid_min = 0.0
#
# min = 0,  max = 0 from input dataset
mu_mem_nsm_src_file = INPUT/init_ocean_cobalt.res.nc
mu_mem_nsm_src_var_name = mu_mem_nsm
mu_mem_nsm_src_var_unit = none
mu_mem_nsm_dest_var_name =  mu_mem_nsm
mu_mem_nsm_dest_var_unit = mol kg-1
mu_mem_nsm_src_var_record = 1
mu_mem_nsm_src_var_gridspec = NONE
mu_mem_nsm_valid_min = 0.0
#
/
"namelists","ocean_mod","generic_abiotic"
init = f
ab_htotal_src_file = INPUT/init_ocean_cobalt.res.nc
ab_htotal_src_var_name = htotal
ab_htotal_src_var_unit = none
ab_htotal_dest_var_name =  ab_htotal
ab_htotal_dest_var_unit = mol kg-1
ab_htotal_src_var_record = 1
ab_htotal_src_var_gridspec = NONE
ab_htotal_valid_min = 3.981E-09
ab_htotal_valid_max = 1.259E-08
#
ab_htotal14c_src_file = INPUT/init_ocean_cobalt.res.nc
ab_htotal14c_src_var_name = htotal
ab_htotal14c_src_var_unit = none
ab_htotal14c_dest_var_name =  ab_htotal
ab_htotal14c_dest_var_unit = mol kg-1
ab_htotal14c_src_var_record = 1
ab_htotal14c_src_var_gridspec = NONE
ab_htotal14c_valid_min = 3.981E-09
ab_htotal14c_valid_max = 1.259E-08
#
## divide by 1e6 to convert from umol/kg to mol/kg
dissicabio_src_file = INPUT/GLODAP_fields.20160916.nc
dissicabio_src_var_name = pi_tco2_abio
dissicabio_src_var_unit = micromoles_per_kg
dissicabio_dest_var_name =  dissicabio
dissicabio_dest_var_unit = mol kg-1
dissicabio_src_var_record = 1
dissicabio_src_var_gridspec = NONE
dissicabio_valid_min = 0.0
#
## divide by 1e6 to convert from umol/kg to mol/kg
dissi14cabio_src_file = INPUT/GLODAP_fields.20160916.nc
dissi14cabio_src_var_name = di14c
dissi14cabio_src_var_unit = micromoles_per_kg
dissi14cabio_dest_var_name =  dissi14cabio
dissi14cabio_dest_var_unit = mol kg-1
dissi14cabio_src_var_record = 1
dissi14cabio_src_var_gridspec = NONE
dissi14cabio_valid_min = 0.0
/
###.................................................
</fieldTable>

<!-- CFC / SF6 data table -->
      <dataTable order="append">
# 2016/07/18 JGJ CORE-II data table
# keep generic names here so data table does not have to change with experiments
# instead update dataset tag to point to generic name
# modified from  /lustre/f1/unswept/Amy.Langenhorst/CORE/IAF_v2.0/data_table_dyn
# to use runoff.nc as generic filename for runoff dataset
#
"ATM" , "p_surf"        , "SLP"         , "./INPUT/slp.1948-2007.nomads.nc"          , "bilinear" ,  1.0
"ATM" , "p_bot"         , "SLP"         , "./INPUT/slp.1948-2007.nomads.nc"          , "bilinear" ,  1.0
"ATM" , "t_bot"         , "T_10_MOD"    , "./INPUT/t_10_mod.1948-2007.nomads.nc"     , "bilinear" ,  1.0
"ATM" , "sphum_bot"     , "Q_10_MOD"    , "./INPUT/q_10_mod.1948-2007.nomads.nc"     , "bilinear" ,  1.0
"ATM" , "u_bot"         , "U_10_MOD"    , "./INPUT/u_10_mod.1948-2007.nomads.nc"     , "bicubic",   1.0
"ATM" , "v_bot"         , "V_10_MOD"    , "./INPUT/v_10_mod.1948-2007.nomads.nc"     , "bicubic",   1.0
"ATM" , "z_bot"         , ""            , ""                                         , "bilinear" , 10.0
"ATM" , "gust"          , ""            , ""                                         , "bilinear" ,  1.0e-4
"ICE" , "lw_flux_dn"    , "LWDN_MOD"    , "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  1.0
"ICE" , "sw_flux_vis_dir_dn", "SWDN_MOD", "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  0.285
"ICE" , "sw_flux_vis_dif_dn", "SWDN_MOD", "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  0.285
"ICE" , "sw_flux_nir_dir_dn", "SWDN_MOD", "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  0.215
"ICE" , "sw_flux_nir_dif_dn", "SWDN_MOD", "./INPUT/ncar_rad.1948-2007.nomads.nc"     , "bilinear" ,  0.215
"ICE" , "lprec"         , "RAIN"        , "./INPUT/ncar_precip.1948-2007.nomads.nc"  , "bilinear" ,  0.9933
"ICE" , "fprec"         , "SNOW"        , "./INPUT/ncar_precip.1948-2007.nomads.nc"  , "bilinear" ,  0.9933
"ICE" , "runoff"        , "runoff"      , "./INPUT/runoff.daitren.clim.v2011.02.10a.720x576.nc" , "none"  ,  1.0
"ICE" , "calving"       , ""            , ""                             , "none"  ,  0.0
"ICE" , "dhdt"          , ""            , ""                             , "none"  , 80.0
"ICE" , "dedt"          , ""            , ""                             , "none"  ,  2.0e-6
"ICE" , "drdt"          , ""            , ""                             , "none"  ,  10.0
"LND" , "t_surf"        , ""            , ""                             , "none"  ,  273.0
"LND" , "t_ca"          , ""            , ""                             , "none"  ,  273.0
"LND" , "q_ca"          , ""            , ""                             , "none"  ,  0.0
"LND" , "rough_mom"     , ""            , ""                             , "none"  ,  0.01
"LND" , "rough_heat"    , ""            , ""                             , "none"  ,  0.1
"LND" , "albedo"        , ""            , ""                             , "none"  ,  0.1
#"LND" , "t_ca"         , ""            , ""                             , "none"  ,  273.0
#"LND" , "t_surf"       , ""            , ""                             , "none"  ,  273.0
"LND" , "sphum_surf"    , ""            , ""                             , "none"  ,  0.0
"LND" , "sphum_ca"      , ""            , ""                             , "none"  ,  0.0
"LND" , "t_flux"        , ""            , ""                             , "none"  ,  0.0
"LND" , "sphum_flux"    , ""            , ""                             , "none"  ,  0.0
"LND" , "lw_flux"       , ""            , ""                             , "none"  ,  0.0
"LND" , "sw_flux"       , ""            , ""                             , "none"  ,  0.0
"LND" , "lprec"         , ""            , ""                             , "none"  ,  0.0
"LND" , "fprec"         , ""            , ""                             , "none"  ,  0.0
"LND" , "dhdt"          , ""            , ""                             , "none"  ,  5.0
"LND" , "dedt"          , ""            , ""                             , "none"  ,  2e-6
"LND" , "dedq"          , ""            , ""                             , "none"  ,  0.0
"LND" , "drdt"          , ""            , ""                             , "none"  ,  5.0
"LND" , "drag_q"        , ""            , ""                             , "none"  ,  0.0
"LND" , "p_surf"        , ""            , ""                             , "none"  ,  1.e5
#
"ATM", "cfc_11_flux_pcair_atm","CFC11","INPUT/cfc.bc.nc","bilinear", 1.0e-12
"ATM", "cfc_12_flux_pcair_atm","CFC12","INPUT/cfc.bc.nc","bilinear", 1.0e-12
"ATM", "sf6_flux_pcair_atm",   "SF6",  "INPUT/cfc.bc.nc","bilinear", 1.0e-12
"OCN", "delta_14catm", "D14C", "./INPUT/atm_delta_13C_14C.nc",  "bilinear", 1.0
"ATM", "abco2_flux_pcair_atm", "" , "", "none" ,284.65e-6
"ATM", "ab14co2_flux_pcair_atm", "", "", "none" ,284.65e-6
      </dataTable>

      <diagTable order="append">
#======================================================================================
# Ocean CFC Diagnostics
"generic_cfc","cfc_11",           "cfc_11",       "ocean_month","all",  .true.,"none",2
"generic_cfc","cfc_11_stf",       "cfc_11_stf",   "ocean_month","all",  .true.,"none",2
"generic_cfc_z","cfc_11",     "cfc_11",       "ocean_month_z","all",.true.,"none",2
"generic_cfc","cfc_11",           "cfc_11",       "ocean_annual","all",  .true.,"none",2
"generic_cfc","cfc_11_stf",       "cfc_11_stf",   "ocean_annual","all",  .true.,"none",2
"generic_cfc_z","cfc_11",     "cfc_11",       "ocean_annual_z","all",.true.,"none",2
"generic_cfc","cfc_12",           "cfc_12",       "ocean_month","all",  .true.,"none",2
"generic_cfc","cfc_12_stf",       "cfc_12_stf",   "ocean_month","all",  .true.,"none",2
"generic_cfc_z","cfc_12",     "cfc_12",       "ocean_month_z","all",.true.,"none",2
"generic_cfc","cfc_12",           "cfc_12",       "ocean_annual","all",  .true.,"none",2
"generic_cfc","cfc_12_stf",       "cfc_12_stf",   "ocean_annual","all",  .true.,"none",2
"generic_cfc_z","cfc_12",     "cfc_12",       "ocean_annual_z","all",.true.,"none",2
"generic_sf6","sf6",              "sf6",          "ocean_month","all",  .true.,"none",2
"generic_sf6","sf6_stf",          "sf6_stf",      "ocean_month","all",  .true.,"none",2
"generic_sf6_z","sf6",        "sf6",          "ocean_month_z","all",.true.,"none",2
"generic_sf6","sf6",              "sf6",          "ocean_annual","all",  .true.,"none",2
"generic_sf6","sf6_stf",          "sf6_stf",      "ocean_annual","all",  .true.,"none",2
"generic_sf6_z","sf6",        "sf6",          "ocean_annual_z","all",.true.,"none",2

"ocean_abiotic",      1,  "months", 1, "days", "time",
"ocean_abiotic_z"     1,  "months", 1, "days", "time",
"ocean_abiotic_year_z"  12, "months", 1, "days", "time",
"generic_abiotic","dissicabio",  "dissicabio",  "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","dissi14cabio","dissi14cabio","ocean_abiotic","all",.true.,"none",2
"generic_abiotic","jdecay_di14c","jdecay_di14c","ocean_abiotic","all",.true.,"none",2
"generic_abiotic","phabio",      "phabio",      "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","ab_htotal",   "ab_htotal",   "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","ab_alk",      "ab_alk",      "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","ab_po4",      "ab_po4",      "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","ab_sio4",     "ab_sio4",     "ocean_abiotic","all",.true.,"none",2

#-- Surface Diagnostics
"generic_abiotic","sfc_dissicabio",  "sfc_dissicabio",  "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","sfc_dissi14cabio","sfc_dissi14cabio","ocean_abiotic","all",.true.,"none",2
"generic_abiotic","sfc_ab_htotal",   "sfc_ab_htotal",   "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","sfc_ab_alk",      "sfc_ab_alk",      "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","sfc_ab_po4",      "sfc_ab_po4",      "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","sfc_ab_sio4",     "sfc_ab_sio4",     "ocean_abiotic","all",.true.,"none",2

#-- Gas exchange
"generic_abiotic","delta_14catm",        "delta_14catm",        "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","dissicabio_stf_gas",  "dissicabio_stf_gas",  "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","dissi14cabio_stf_gas","dissi14cabio_stf_gas","ocean_abiotic","all",.true.,"none",2
"generic_abiotic","dissicabio_alpha",    "dissicabio_alpha",    "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","dissi14cabio_alpha",  "dissi14cabio_alpha",  "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","dissicabio_csurf",    "dissicabio_csurf",    "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","dissi14cabio_csurf",  "dissi14cabio_csurf",  "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","dissicabio_sc_no",    "dissicabio_sc_no",    "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","dissi14cabio_sc_no",  "dissi14cabio_sc_no",  "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","ab_pco2surf",         "ab_pco2surf",         "ocean_abiotic","all",.true.,"none",2
"generic_abiotic","ab_p14co2surf",       "ab_p14co2surf",       "ocean_abiotic","all",.true.,"none",2

#-- Z-diagnostics
"generic_abiotic_z","dissicabio",  "dissicabio",  "ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z","dissi14cabio","dissi14cabio","ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z","phabio",      "phabio",      "ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z","ab_htotal",   "ab_htotal",   "ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z","ab_alk",      "ab_alk",      "ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z","ab_po4",      "ab_po4",      "ocean_abiotic_z","all",.true.,"none",2
"generic_abiotic_z","ab_sio4",     "ab_sio4",     "ocean_abiotic_z","all",.true.,"none",2

#-- Z-diagnostics (annual)
"generic_abiotic_z","dissicabio",  "dissicabio",  "ocean_abiotic_year_z","all",.true.,"none",2
"generic_abiotic_z","dissi14cabio","dissi14cabio","ocean_abiotic_year_z","all",.true.,"none",2
"generic_abiotic_z","phabio",      "phabio",      "ocean_abiotic_year_z","all",.true.,"none",2
      </diagTable>

    </input>


    <postProcess>
      <xi:include xpointer="xpointer(//freInclude[@name='OM4_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='COBALT_z_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='abiotic_postprocess']/postProcess/node())"/>
      <xi:include xpointer="xpointer(//freInclude[@name='abiotic_z_postprocess']/postProcess/node())"/>
    </postProcess>

    <runtime>
      <reference restart="$(REFERENCE)/archive/1x1m0d_1057x1o/restart/19480201.tar"/>
    </runtime>

</experiment>


<!-- OCEAN BGC post-processing-->
  <freInclude name="COBALT_postprocess">

      <postProcess> 
      <!--REFINE DIAG SCRIP -->
      <!--By default a refineDiag script causes the annual data to be unpacked and saved in /ptmp/$USER-->
<!--
      <refineDiag script="$(NB_ROOT)/mom6/tools/analysis/MOM6_refineDiag.csh  $(NB_ROOT)/mdt_xml/awg_include/refineDiag/refineDiag_data_stager_globalAve.csh"/>
-->

      <!--PostProcessing component models-->
      <component type="ocean_cobalt_1day" start="$(PP_START_YEAR)" source="ocean_cobalt_1day" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(CHUNK_LENGTH_A)" />
      </component>

      <component type="ocean_cobalt_tracers_month" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_month" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_tracers_year" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_year" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_sfc" start="$(PP_START_YEAR)" source="ocean_cobalt_sfc" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_btm" start="$(PP_START_YEAR)" source="ocean_cobalt_btm" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_phytolim_sfc" start="$(PP_START_YEAR)" source="ocean_cobalt_phytolim_sfc" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_fdet_100" start="$(PP_START_YEAR)" source="ocean_cobalt_fdet_100" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_biomass_100" start="$(PP_START_YEAR)" source="ocean_cobalt_biomass_100" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_prod_100" start="$(PP_START_YEAR)" source="ocean_cobalt_prod_100" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_miscflux_100" start="$(PP_START_YEAR)" source="ocean_cobalt_miscflux_100" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_phyto_diags" start="$(PP_START_YEAR)" source="ocean_cobalt_phyto_diags" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_bact_diags" start="$(PP_START_YEAR)" source="ocean_cobalt_bact_diags" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_zoo_diags" start="$(PP_START_YEAR)" source="ocean_cobalt_zoo_diags" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_misc" start="$(PP_START_YEAR)" source="ocean_cobalt_misc" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

     </postProcess>
 </freInclude>
 

  <freInclude name="COBALT_z_postprocess">

      <postProcess> 
      <!--REFINE DIAG SCRIP -->
      <!--By default a refineDiag script causes the annual data to be unpacked and saved in /ptmp/$USER-->
      <!--MOM6_refineDiag.csh is currently empty and is here only to cause the unpack annual history files in /ptmp-->
<!--
      <refineDiag script="$(NB_ROOT)/mom6/tools/analysis/MOM6_refineDiag.csh  $(NB_ROOT)/mdt_xml/awg_include/refineDiag/refineDiag_data_stager_globalAve.csh"/>

-->

      <!--PostProcessing component models-->
<!--
      <component type="ocean_cobalt_1day_z" start="$(PP_START_YEAR)" source="ocean_cobalt_1day_z" sourceGrid="ocean-tripolar">
        <timeSeries freq="daily" chunkLength="$(CHUNK_LENGTH_A)" />
      </component>
-->

      <component type="ocean_cobalt_tracers_month_z" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_month_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_tracers_year_z" start="$(PP_START_YEAR)" source="ocean_cobalt_tracers_year_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_phyto_diags_z" start="$(PP_START_YEAR)" source="ocean_cobalt_phyto_diags_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_bact_diags_z" start="$(PP_START_YEAR)" source="ocean_cobalt_bact_diags_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_zoo_diags_z" start="$(PP_START_YEAR)" source="ocean_cobalt_zoo_diags_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

      <component type="ocean_cobalt_misc_z" start="$(PP_START_YEAR)" source="ocean_cobalt_misc_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>

     </postProcess>
  </freInclude>

  <freInclude name="abiotic_postprocess">
      <postProcess> 
      <component type="ocean_abiotic_month" start="$(PP_START_YEAR)" source="ocean_abiotic" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>
     </postProcess>
  </freInclude>
 

  <freInclude name="abiotic_z_postprocess">
      <postProcess> 
      <component type="ocean_abiotic_z" start="$(PP_START_YEAR)" source="ocean_abiotic_z" sourceGrid="ocean-tripolar">
         <timeSeries freq="monthly" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeSeries freq="annual" chunkLength="$(CHUNK_LENGTH_A)" />
         <timeAverage source="monthly"  interval="$(CHUNK_LENGTH_A)"/>
         <timeAverage source="annual"  interval="$(CHUNK_LENGTH_A)"/>
      </component>
     </postProcess>
  </freInclude>


</experimentSuite>
